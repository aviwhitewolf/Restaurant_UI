"use strict";(self.webpackChunkRestaurant=self.webpackChunkRestaurant||[]).push([[13],{1707:(z,U,p)=>{p.r(U),p.d(U,{CategoryModule:()=>de});var _=p(9808),C=p(9826),T=p(3075),i=p(5e3),S=p(8734),B=p(5045),I=p(6444),G=p(8814),M=p(5245);function P(u,v){1&u&&i._UZ(0,"app-loader",2)}function e(u,v){1&u&&(i.TgZ(0,"div",21),i._uU(1,"Category name is invalid"),i.qZA())}const F=function(u,v){return{"border-2 border-red-500":u,"border-gray-300":v}};function N(u,v){if(1&u){const s=i.EpF();i.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"button",7),i.NdJ("click",function(){return i.CHM(s),i.oxw().goBackback()}),i.TgZ(5,"mat-icon",8),i._uU(6," arrow_back"),i.qZA(),i._uU(7," Back "),i.qZA(),i.TgZ(8,"button",9),i.NdJ("click",function(){return i.CHM(s),i.oxw().updateOrAddCategory()}),i.TgZ(9,"mat-icon",10),i._uU(10," save"),i.qZA(),i._uU(11," Save "),i.qZA()(),i.TgZ(12,"form",11)(13,"div",12)(14,"div",13)(15,"div")(16,"h2",14),i._uU(17," Category Details"),i.qZA(),i.TgZ(18,"p",15),i._uU(19,"Update your category information. "),i.qZA()(),i.TgZ(20,"div",16)(21,"div",17)(22,"label",18),i._uU(23,"Category name"),i.qZA(),i._UZ(24,"input",19),i.YNc(25,e,2,0,"div",20),i.qZA()()()()()()()()}if(2&u){const s=i.oxw();let c,g;i.xp6(8),i.Q6J("disabled",s.categoryUpdateFormGroup.invalid),i.xp6(4),i.Q6J("formGroup",s.categoryUpdateFormGroup),i.xp6(12),i.Q6J("ngClass",i.WLB(4,F,(null==(c=s.categoryUpdateFormGroup.get("name"))?null:c.errors)&&((null==(c=s.categoryUpdateFormGroup.get("name"))?null:c.touched)||(null==(c=s.categoryUpdateFormGroup.get("name"))?null:c.dirty)),!(null!=(c=s.categoryUpdateFormGroup.get("name"))&&c.errors&&(null!=(c=s.categoryUpdateFormGroup.get("name"))&&c.touched||null!=(c=s.categoryUpdateFormGroup.get("name"))&&c.dirty)))),i.xp6(1),i.Q6J("ngIf",(null==(g=s.categoryUpdateFormGroup.get("name"))||null==g.errors?null:g.errors.required)&&(null==(g=s.categoryUpdateFormGroup.get("name"))?null:g.errors)&&((null==(g=s.categoryUpdateFormGroup.get("name"))?null:g.touched)||(null==(g=s.categoryUpdateFormGroup.get("name"))?null:g.dirty)))}}let k=(()=>{class u{constructor(s,c,g,q,R,H){this.formBuilder=s,this.adminService=c,this.mainService=g,this.route=q,this._location=R,this.restaurantService=H,this.loading=!0,this.categoryUpdateFormGroup=this.formBuilder.group({name:["",[T.kI.required]]})}ngOnInit(){var s;const c=this.restaurantService.getRestaurantSlug();c&&(null===(s=this.route)||void 0===s||s.params.subscribe(g=>{g.catId?this.getSingleCategory(c,g.catId):this.loading=!1}))}getSingleCategory(s,c){this.loading=!0,this.adminService.getSingleCategory(s,c).then(g=>{this.singleCategory=g.data,this.categoryUpdateFormGroup.setValue({name:this.singleCategory.name}),this.loading=!1}).catch(g=>{this.loading=!1,console.log(g),this.mainService.openDialog("Error",this.mainService.errorMessage(g),"E",!1,!0)})}updateOrAddCategory(){var s;const c=this.restaurantService.getRestaurantSlug();c&&(null===(s=this.route)||void 0===s||s.params.subscribe(g=>{g.catId?this.updateTable(c,g.catId):this.addCategory(c)}))}updateTable(s,c){this.loading=!0,this.adminService.updateExpenseCategory(this.categoryUpdateFormGroup.value,s,c).then(g=>{this.loading=!1,this.mainService.openDialog("Success","Category updated successfully","S",!0,!1)}).catch(g=>{this.loading=!1,console.log(g),this.mainService.openDialog("Error",this.mainService.errorMessage(g),"E")})}addCategory(s){this.loading=!0,this.adminService.addExpenseCategory({name:this.categoryUpdateFormGroup.value.name},s).then(g=>{var q;this.loading=!1,this.mainService.openDialog("Success","Category created successfully with id:"+(null===(q=null==g?void 0:g.data)||void 0===q?void 0:q.id),"S",!0,!1)}).catch(g=>{this.loading=!1,console.log(g),this.mainService.openDialog("Error",this.mainService.errorMessage(g),"E")})}goBackback(){this._location.back()}}return u.\u0275fac=function(s){return new(s||u)(i.Y36(T.qu),i.Y36(S.l),i.Y36(B.J),i.Y36(C.gz),i.Y36(_.Ye),i.Y36(I.T))},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-edit"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","bg-gray-100 min-h-screen",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"bg-gray-100","min-h-screen"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","px-4","space-y-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","py-4","items-center"],[1,"text-indigo-500","flex","items-center","text-sm",3,"click"],[1,"mr-2","text-base"],[1,"disabled:bg-indigo-400","flex","items-center","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-indigo-500",3,"disabled","click"],[1,"mr-2"],[3,"formGroup"],[1,"shadow","sm:rounded-md","sm:overflow-hidden"],[1,"bg-white","py-6","px-4","sm:p-6"],["id","payment-details-heading",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6","grid","grid-cols-4","gap-6"],[1,"col-span-4","sm:col-span-2"],["for","menu-name",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","name","type","text","name","menu-name","autocomplete","menu-name",1,"mt-1","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","rounded-md",3,"ngClass"],["class","text-red-500 text-xs pt-1",4,"ngIf"],[1,"text-red-500","text-xs","pt-1"]],template:function(s,c){1&s&&(i.YNc(0,P,1,0,"app-loader",0),i.YNc(1,N,26,7,"div",1)),2&s&&(i.Q6J("ngIf",c.loading),i.xp6(1),i.Q6J("ngIf",!c.loading))},directives:[_.O5,G.R,M.Hw,T._Y,T.JL,T.sg,T.Fj,T.JJ,T.u,_.mk],styles:[""]}),u})();var Y=p(8080),te=p(4011);function ne(u,v){1&u&&i._UZ(0,"app-loader",4)}const V=function(){return["add"]};function oe(u,v){1&u&&(i.TgZ(0,"div",5)(1,"button",6)(2,"mat-icon",7),i._uU(3,"category"),i.qZA(),i.TgZ(4,"span",8),i._uU(5,"No category found."),i.qZA(),i.TgZ(6,"button",9),i._uU(7," Create one "),i.TgZ(8,"mat-icon",10),i._uU(9," east "),i.qZA()()()()),2&u&&(i.xp6(1),i.Q6J("routerLink",i.DdM(1,V)))}function ie(u,v){if(1&u&&(i.TgZ(0,"span",21),i._uU(1),i.qZA()),2&u){const s=i.oxw(2);i.xp6(1),i.hij("",(null==s.expenseCategories?null:s.expenseCategories.length)||0," entries found")}}const X=function(u){return["edit",u]},le=function(u,v){return{color:u,"background-color":v}};function O(u,v){if(1&u){const s=i.EpF();i.TgZ(0,"li",25)(1,"div",26),i._uU(2),i.qZA(),i.TgZ(3,"div",27)(4,"div",28)(5,"p",29),i._uU(6),i.qZA()()(),i.TgZ(7,"div",30)(8,"button",31),i.NdJ("click",function(g){const R=i.CHM(s).$implicit,H=i.oxw(3);return H.showDeleteDialog=!0,g.stopPropagation(),H.categoryIdToDelete=null==R?null:R.id}),i.TgZ(9,"mat-icon",32),i._uU(10,"delete"),i.qZA()(),i.TgZ(11,"button",33)(12,"mat-icon",32),i._uU(13,"edit"),i.qZA()()()()}if(2&u){const s=v.$implicit,c=i.oxw(3);i.Q6J("routerLink",i.VKq(5,X,s.id)),i.xp6(1),i.Q6J("ngStyle",i.WLB(7,le,c.getColor(null==s?null:s.name,"color"),c.getColor(null==s?null:s.name,"backgroundColor"))),i.xp6(1),i.hij(" ",null==s||null==s.name?null:s.name.substring(0,1)," "),i.xp6(4),i.hij(" ",null==s?null:s.name," "),i.xp6(5),i.Q6J("routerLink",i.VKq(10,X,s.id))}}function K(u,v){if(1&u&&(i.TgZ(0,"div",22)(1,"ul",23),i.YNc(2,O,14,12,"li",24),i.qZA()()),2&u){const s=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",s.expenseCategories)}}const ee=function(u,v){return{"ease-out duration-300 opacity-100":u,"ease-in duration-200 opacity-0":v}},$=function(u,v){return{"ease-out duration-300 opacity-100 scale-100":u,"ease-in duration-200 opacity-0 scale-95":v}};function W(u,v){if(1&u){const s=i.EpF();i.TgZ(0,"div",34)(1,"div",35),i._UZ(2,"div",36),i.TgZ(3,"div",37)(4,"div",38),i.NdJ("clickOutside",function(){return i.CHM(s),i.oxw(2).showDeleteDialog=!1}),i.TgZ(5,"div",39)(6,"div",40)(7,"mat-icon",41),i._uU(8," warning "),i.qZA()(),i.TgZ(9,"div",42)(10,"h3",43),i._uU(11,"Are you sure?"),i.qZA(),i.TgZ(12,"div",44)(13,"p",45),i._uU(14," Once deleted you won't be able to retrive the data. "),i.qZA()()()(),i.TgZ(15,"div",46)(16,"button",47),i.NdJ("click",function(){return i.CHM(s),i.oxw(2).showDeleteDialog=!1}),i._uU(17," Cancel "),i.qZA(),i.TgZ(18,"button",48),i.NdJ("click",function(){i.CHM(s);const g=i.oxw(2);return g.deleteCategory(g.categoryIdToDelete)}),i._uU(19," Ok, Delete "),i.qZA()()()()()()}if(2&u){const s=i.oxw(2);i.xp6(2),i.Q6J("ngClass",i.WLB(2,ee,s.showDeleteDialog,!s.showDeleteDialog)),i.xp6(1),i.Q6J("ngClass",i.WLB(5,$,s.showDeleteDialog,!s.showDeleteDialog))}}function J(u,v){if(1&u&&(i.TgZ(0,"main",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div")(5,"h2",15),i._uU(6," Categories "),i.qZA(),i.YNc(7,ie,2,1,"span",16),i.qZA(),i.TgZ(8,"button",17)(9,"mat-icon",18),i._uU(10," add"),i.qZA(),i._uU(11," Create category "),i.qZA()()(),i.YNc(12,K,3,1,"div",19),i.YNc(13,W,20,8,"div",20),i.qZA()()),2&u){const s=i.oxw();i.xp6(7),i.Q6J("ngIf",s.expenseCategories),i.xp6(1),i.Q6J("routerLink",i.DdM(4,V)),i.xp6(4),i.Q6J("ngIf",s.expenseCategories),i.xp6(1),i.Q6J("ngIf",s.showDeleteDialog)}}const re=[{path:"",component:(()=>{class u{constructor(s,c,g,q){this.route=s,this.adminService=c,this.mainService=g,this.restaurantService=q,this.loading=!1,this.showDeleteDialog=!1,this.categoryIdToDelete=""}ngOnInit(){const s=this.restaurantService.getRestaurantSlug();s&&this.getExpenseCategory(s)}getExpenseCategory(s){this.loading=!0,this.adminService.getExpenseCategory(s).then(c=>{this.expenseCategories=null==c?void 0:c.data,this.loading=!1}).catch(c=>{this.loading=!1,console.log("Error",c),this.mainService.openDialog("Error",this.mainService.errorMessage(c),"E")})}deleteCategory(s){this.loading=!0;const c=this.restaurantService.getRestaurantSlug();c&&this.adminService.deleteExpenseCategory(c,s).then(g=>{this.loading=!1,this.mainService.openDialog("Success","Category deleted successfully","S",!0,!1)}).catch(g=>{this.loading=!1,console.log(g),this.mainService.openDialog("Error",this.mainService.errorMessage(g),"E")})}getColor(s,c){const g=(0,Y.Z)(s,700);return"color"==c?g.color:g.backgroundColor}}return u.\u0275fac=function(s){return new(s||u)(i.Y36(C.gz),i.Y36(S.l),i.Y36(B.J),i.Y36(I.T))},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-overview"]],decls:4,vars:3,consts:[["class","absolute top-0 left-0",4,"ngIf"],[1,"bg-gray-100","min-h-screen"],["class","p-12 max-w-6xl mx-auto",4,"ngIf"],["class","flex-1 pb-8",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"p-12","max-w-6xl","mx-auto"],["type","button",1,"block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-12","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mx-auto","text-gray-600","text-5xl",2,"height","unset","width","unset"],[1,"mx-auto","mt-2","block","text-sm","font-medium","text-gray-500"],["type","button",1,"mx-auto","mt-2","inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-purple-500","shadow-sm","text-sm","font-medium","rounded-3xl","text-indigo-500","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"ml-2","text-indigo-500","text-md",2,"height","unset","width","unset"],[1,"flex-1","pb-8"],[1,"pt-8"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","sm:flex-row","flex-col","justify-between","py-4","flex-wrap","sm:flex-nowrap"],[1,"text-lg","leading-6","font-medium","text-gray-900"],["class","text-xs text-gray-600",4,"ngIf"],[1,"mt-2","sm:mt-0","inline-flex","justify-center","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mr-2","text-md"],["class","max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",4,"ngIf"],["class","fixed h-full inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],[1,"text-xs","text-gray-600"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8","mt-8"],["role","list",1,"grid","grid-cols-1","gap-4","sm:gap-6","sm:grid-cols-2","xl:grid-cols-4","mt-3"],["class","cursor-pointer hover:bg-gray-50 bg-white relative col-span-1 flex shadow rounded-xl overflow-hidden",3,"routerLink",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover:bg-gray-50","bg-white","relative","col-span-1","flex","shadow","rounded-xl","overflow-hidden",3,"routerLink"],[1,"flex-shrink-0","flex","items-center","justify-center","w-16","text-xl","font-medium","rounded-l-md",3,"ngStyle"],[1,"flex-1","flex","items-center","justify-between","rounded-r-md"],[1,"flex-1","px-4","py-6","text-sm"],[1,"flex","flex-wrap","text-gray-900","font-medium","hover:text-gray-600"],[1,"mr-4","flex","items-center","justify-center","flex-wrap","space-x-2"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-gray-400","hover:bg-red-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"text-base"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-gray-400","hover:bg-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],["role","dialog","aria-modal","true",1,"fixed","h-full","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity",3,"ngClass"],[1,"relative","inline-block","align-middle","m-4","max-w-xl","w-full","sm:m-auto","transform","divide-y","divide-gray-500","divide-opacity-10","overflow-hidden","rounded-xl","bg-white","bg-opacity-80","shadow-2xl","ring-1","ring-black","ring-opacity-5","backdrop-blur","backdrop-filter","transition-all",3,"ngClass"],[3,"clickOutside"],[1,"flex","items-start","px-4","pt-5","p-6"],[1,"flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","sm:mx-0","sm:h-10","sm:w-10"],["aria-hidden","false","aria-label","warning",1,"h-6","w-6","text-yellow-500"],[1,"mt-0","ml-4","text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","border-t"],["type","button",1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"]],template:function(s,c){1&s&&(i.YNc(0,ne,1,0,"app-loader",0),i.TgZ(1,"div",1),i.YNc(2,oe,10,2,"div",2),i.YNc(3,J,14,5,"main",3),i.qZA()),2&s&&(i.Q6J("ngIf",c.loading),i.xp6(2),i.Q6J("ngIf",!c.loading&&0==(null==c.expenseCategories?null:c.expenseCategories.length)),i.xp6(1),i.Q6J("ngIf",!c.loading&&(null==c.expenseCategories?null:c.expenseCategories.length)>0))},directives:[_.O5,G.R,C.rH,M.Hw,_.sg,_.PC,_.mk,te._],styles:[""]}),u})(),pathMatch:"full"},{path:"edit/:catId",component:k,pathMatch:"full"},{path:"add",component:k,pathMatch:"full"}];let ae=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=i.oAB({type:u}),u.\u0275inj=i.cJS({imports:[[C.Bz.forChild(re)],C.Bz]}),u})();var se=p(2096);let de=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=i.oAB({type:u}),u.\u0275inj=i.cJS({imports:[[_.ez,ae,M.Ps,se.x,T.UX]]}),u})()},9013:(z,U,p)=>{p.r(U),p.d(U,{ExpenseModule:()=>Rt});var _=p(9808),C=p(9826),T=p(5861),i=p(3075),S=p(4987),B=p(5748),I=p(8966),G=p(7579),M=p(8372),P=p(1884),e=p(5e3),F=p(8734),N=p(5045),k=p(4011);function Y(o,r){1&o&&(e.TgZ(0,"div",13),e._UZ(1,"div",14),e.qZA())}function te(o,r){1&o&&(e.O4$(),e.TgZ(0,"svg",23),e._UZ(1,"path",24),e.qZA())}function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return d.selectedEmpAfterSearch=(null==d.selectedEmpAfterSearch?null:d.selectedEmpAfterSearch.number)==(null==a?null:a.number)?null:a}),e._UZ(1,"img",20),e.TgZ(2,"span",21),e._uU(3),e.qZA(),e.YNc(4,te,2,0,"svg",22),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("src",n.getImageUrl(null==t?null:t.image[0]),e.LSH)("alt",t.fullName),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("ngIf",(null==n.selectedEmpAfterSearch?null:n.selectedEmpAfterSearch.fullName)==(null==t?null:t.fullName))}}function V(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"h2",16),e._uU(2,"Found match"),e.qZA(),e.TgZ(3,"ul",17),e.YNc(4,ne,5,4,"li",18),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.employees)}}function oe(o,r){if(1&o&&(e.TgZ(0,"div",25)(1,"div",26),e._UZ(2,"img",27),e.TgZ(3,"h2",28),e._uU(4),e.qZA(),e.TgZ(5,"p",29),e._uU(6),e.qZA()(),e.TgZ(7,"div",30)(8,"dl",31)(9,"dt",32),e._uU(10,"Phone"),e.qZA(),e.TgZ(11,"dd"),e._uU(12),e.qZA(),e.TgZ(13,"dt",32),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"dd",33)(16,"a",34),e._uU(17),e.qZA()()(),e.TgZ(18,"button",35),e._uU(19,"Select Employee"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("src",t.getImageUrl(null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.image[0]),e.LSH)("alt",t.selectedEmpAfterSearch.fullName),e.xp6(2),e.Oqu(null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.fullName),e.xp6(2),e.Oqu(null==t.selectedEmpAfterSearch||null==t.selectedEmpAfterSearch.designation?null:t.selectedEmpAfterSearch.designation.name),e.xp6(6),e.AsE("",null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.countryCode," ",null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.number,""),e.xp6(5),e.Oqu(null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.email),e.xp6(1),e.Q6J("mat-dialog-close",t.selectedEmpAfterSearch)}}function ie(o,r){1&o&&(e.TgZ(0,"div",36),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",38),e.qZA(),e.kcU(),e.TgZ(3,"p",39),e._uU(4,"Search Employee"),e.qZA(),e.TgZ(5,"p",40),e._uU(6,"Use email, number or name to search an employee (min 3 words required)."),e.qZA()())}function X(o,r){1&o&&(e.TgZ(0,"div",36),e.O4$(),e.TgZ(1,"svg",41),e._UZ(2,"path",38),e.qZA(),e.kcU(),e.TgZ(3,"p",42),e._uU(4,"No matched result"),e.qZA(),e.TgZ(5,"p",43),e._uU(6,"Try searching again with email, number or name."),e.qZA()())}let le=(()=>{class o{constructor(t,n,l,a,d,f){this.dialogRef=t,this.formBuilder=n,this.route=l,this.adminService=a,this.mainService=d,this.data=f,this.loading=!1,this.notFoundError=!1,this.searchUpdate=new G.x,this.employeeFormGroup=this.formBuilder.group({search:["",[i.kI.email]]})}ngOnInit(){this.searchUpdate.pipe((0,M.b)(900),(0,P.x)()).subscribe(t=>{t&&(null==t?void 0:t.length)>3&&this.searchEmployee(t)})}searchEmployee(t){this.notFoundError&&(this.notFoundError=!1),this.selectedEmpAfterSearch=null,this.adminService.searchEmployee(this.data.slug,t).then(n=>{this.loading=!1,this.employees=n.data}).catch(n=>{this.loading=!1,console.log(n),this.notFoundError=!0})}getImageUrl(t){return this.mainService.getImageUrl(t,S.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}onNoClick(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.so),e.Y36(i.qu),e.Y36(C.gz),e.Y36(F.l),e.Y36(N.J),e.Y36(I.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-employee"]],decls:14,vars:6,consts:[["role","dialog","aria-modal","true",1,"fixed","inset-0","z-10","overflow-y-auto","p-4","sm:p-6","md:p-20"],[3,"formGroup"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity"],[1,"mx-auto","max-w-3xl","transform","divide-y","divide-gray-100","overflow-hidden","rounded-xl","bg-white","shadow-2xl","ring-1","ring-black","ring-opacity-5","transition-all",3,"clickOutside"],[1,"relative"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"pointer-events-none","absolute","top-3.5","left-4","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["type","text","cdkFocusInitial","","formControlName","search","type","text","name","search","autocomplete","search","placeholder","Search... (min 3 words required)","role","combobox","aria-expanded","false","aria-controls","options",1,"h-12","w-full","border-0","bg-transparent","pl-11","pr-4","text-sm","text-gray-800","placeholder-gray-400","focus:ring-0",3,"ngModelChange"],["class","progress-materializecss",4,"ngIf"],[1,"flex","divide-x","divide-gray-100"],["class","max-h-96 min-w-0 flex-auto scroll-py-4 overflow-y-auto px-6 py-4 sm:h-96",4,"ngIf"],["class","hidden h-96 w-1/2 flex-none flex-col divide-y divide-gray-100 overflow-y-auto sm:flex",4,"ngIf"],["class","py-14 px-6 text-center text-sm sm:px-14",4,"ngIf"],[1,"progress-materializecss"],[1,"indeterminate"],[1,"max-h-96","min-w-0","flex-auto","scroll-py-4","overflow-y-auto","px-6","py-4","sm:h-96"],[1,"mt-2","mb-4","text-xs","font-semibold","text-gray-500"],["id","options","role","listbox",1,"-mx-2","text-sm","text-gray-700"],["class","cursor-pointer hover:bg-gray-100 group flex select-none items-center rounded-md p-2","id","option-1","role","option","tabindex","-1",3,"click",4,"ngFor","ngForOf"],["id","option-1","role","option","tabindex","-1",1,"cursor-pointer","hover:bg-gray-100","group","flex","select-none","items-center","rounded-md","p-2",3,"click"],["loading","lazy",1,"h-6","w-6","flex-none","rounded-full","object-cover",3,"src","alt"],[1,"ml-3","flex-auto","truncate"],["class","ml-3 h-5 w-5 flex-none text-gray-400","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"ml-3","h-5","w-5","flex-none","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"hidden","h-96","w-1/2","flex-none","flex-col","divide-y","divide-gray-100","overflow-y-auto","sm:flex"],[1,"flex-none","p-6","text-center"],["loading","lazy",1,"mx-auto","h-16","w-16","rounded-full","object-cover",3,"src","alt"],[1,"mt-3","font-semibold","text-gray-900"],[1,"text-sm","leading-6","text-gray-500"],[1,"flex","flex-auto","flex-col","justify-between","p-6"],[1,"grid","grid-cols-1","gap-x-6","gap-y-3","text-sm","text-gray-700"],[1,"col-end-1","font-semibold","text-gray-900"],[1,"truncate"],["href","#",1,"text-indigo-600","underline"],["type","button",1,"mt-6","w-full","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"mat-dialog-close"],[1,"py-14","px-6","text-center","text-sm","sm:px-14"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"mx-auto","h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"mt-4","font-semibold","text-gray-900"],[1,"mt-2","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"mx-auto","h-6","w-6","text-red-500"],[1,"mt-4","font-semibold","text-red-500"],[1,"mt-2","text-red-400"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.NdJ("clickOutside",function(){return n.onNoClick()}),e.TgZ(4,"div",4),e.O4$(),e.TgZ(5,"svg",5),e._UZ(6,"path",6),e.qZA(),e.kcU(),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(a){return n.searchUpdate.next(a),n.loading=!!(a&&(null==a?null:a.length)>3),n.employees=0==(null==a?null:a.length)?null:n.employees,n.selectedEmpAfterSearch=0==(null==a?null:a.length)?null:n.selectedEmpAfterSearch}),e.qZA()(),e.YNc(8,Y,2,0,"div",8),e.TgZ(9,"div",9),e.YNc(10,V,5,1,"div",10),e.YNc(11,oe,20,8,"div",11),e.qZA(),e.YNc(12,ie,7,0,"div",12),e.YNc(13,X,7,0,"div",12),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.employeeFormGroup),e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(2),e.Q6J("ngIf",n.employees),e.xp6(1),e.Q6J("ngIf",n.selectedEmpAfterSearch),e.xp6(1),e.Q6J("ngIf",!n.employees&&!n.notFoundError),e.xp6(1),e.Q6J("ngIf",!n.employees&&n.notFoundError))},directives:[i._Y,i.JL,i.sg,k._,i.Fj,i.JJ,i.u,_.O5,_.sg,I.ZT],styles:['.progress[_ngcontent-%COMP%], progress[value][_ngcontent-%COMP%]{width:100%;border:none;height:5px;display:block;appearance:none;-webkit-appearance:none}.progress[_ngcontent-%COMP%]::-webkit-progress-bar, progress[value][_ngcontent-%COMP%]::-webkit-progress-bar{background-color:#fff}.progress[_ngcontent-%COMP%]::-webkit-progress-value, progress[value][_ngcontent-%COMP%]::-webkit-progress-value{background-color:#6366f1}.progress-materializecss[_ngcontent-%COMP%]{position:relative;height:4px;display:block;width:100%;background-color:#fff;border-radius:2px;overflow:hidden}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]{background-color:#6366f1}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}']}),o})();var O=p(5439),K=p(6444),ee=p(8814),$=p(5245),W=p(6895),J=p(288);function Ce(o,r){1&o&&e._UZ(0,"span",22)}function re(o,r){if(1&o&&(e.TgZ(0,"div",23)(1,"div",24)(2,"h3",25),e._uU(3,"Old"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"json"),e.qZA()(),e.TgZ(7,"div",26)(8,"h3",25),e._uU(9,"New"),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.ALo(12,"json"),e.qZA()()()),2&o){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(e.lcZ(6,2,t.old)),e.xp6(6),e.Oqu(e.lcZ(12,4,t.new))}}function ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"div",5),e.YNc(2,Ce,1,0,"span",6),e.TgZ(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),e.O4$(),e.TgZ(7,"svg",10),e._UZ(8,"path",11),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",12)(10,"div")(11,"div",13)(12,"p",14),e._uU(13),e.qZA()(),e.TgZ(14,"p",15),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"div",16)(18,"p"),e._uU(19),e.qZA()(),e.TgZ(20,"div",17)(21,"div",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleState()}),e._uU(22,"Details"),e.qZA(),e.TgZ(23,"mat-accordion",19,20)(25,"mat-expansion-panel",21),e.YNc(26,re,13,6,"ng-template",1),e.qZA()()()()()()()}if(2&o){const t=r.$implicit,n=r.last,l=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!n),e.xp6(11),e.AsE("",t.user.fullName||t.user.username," ",t.action,"d this."),e.xp6(2),e.Oqu(e.lcZ(16,6,t.date)),e.xp6(4),e.Oqu(t.remarks),e.xp6(6),e.Q6J("expanded",l.checkState)}}function se(o,r){if(1&o&&(e.TgZ(0,"div",2)(1,"ul",3),e.YNc(2,ae,27,8,"li",4),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.actionHistory)}}let de=(()=>{class o{constructor(){this.checkState=!1}ngOnInit(){}toggleState(){this.checkState=!this.checkState}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-action-history"]],viewQuery:function(t,n){if(1&t&&e.Gf(J.pp,5),2&t){let l;e.iGM(l=e.CRH())&&(n.accordion=l.first)}},inputs:{actionHistory:"actionHistory"},decls:6,vars:0,consts:[[1,"mat-elevation-z0","border"],["matExpansionPanelContent",""],[1,"flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[1,"relative","pb-8"],["class","absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden","true",4,"ngIf"],[1,"relative","flex","items-start","space-x-3"],[1,"relative","px-1"],[1,"h-8","w-8","bg-gray-100","rounded-full","ring-8","ring-white","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-500"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule","evenodd"],[1,"min-w-0","flex-1"],[1,"text-sm"],[1,"capitalize","font-medium","text-gray-900"],[1,"mt-0.5","text-sm","text-gray-500"],[1,"mt-2","text-sm","text-gray-700"],[1,"mt-2"],[1,"underline","text-xs","py-2","text-indigo-500","cursor-pointer",3,"click"],["multi",""],["accordion","matAccordion"],[1,"mat-elevation-z0",3,"expanded"],["aria-hidden","true",1,"absolute","top-5","left-5","-ml-px","h-full","w-0.5","bg-gray-200"],[1,"flex","sm:flex-nowrap","flex-wrap","justify-between"],[1,"flex","flex-col","bg-gray-100","rounded-md","p-4","flex-1"],[1,"text-sm","text-gray-500","font-bold"],[1,"flex","flex-col","bg-gray-100","rounded-md","p-4","sm:ml-2","ml-0","mt-2","sm:mt-0","flex-1"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion")(1,"mat-expansion-panel",0)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," Action History "),e.qZA()(),e.YNc(5,se,3,1,"ng-template",1),e.qZA()())},directives:[J.pp,J.ib,J.yz,J.yK,J.HS,_.sg,_.O5],pipes:[_.uU,_.Ts],styles:[""]}),o})();function u(o,r){1&o&&e._UZ(0,"app-loader",3)}const v=function(){return["../","category","add"]};function s(o,r){1&o&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"mat-icon",8),e._uU(5," error "),e.qZA(),e.TgZ(6,"div",9)(7,"p",10),e._uU(8," In order to create expense, you need to create expense category first. "),e.qZA(),e.TgZ(9,"button",11),e._uU(10," Create one "),e.TgZ(11,"mat-icon",12),e._uU(12," east "),e.qZA()()()()()()()),2&o&&(e.xp6(9),e.Q6J("routerLink",e.DdM(1,v)))}function c(o,r){if(1&o&&(e.TgZ(0,"option",63),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function g(o,r){1&o&&(e.TgZ(0,"div",64),e._uU(1," Category is invalid "),e.qZA())}function q(o,r){if(1&o&&(e.TgZ(0,"div",30)(1,"div",65),e._UZ(2,"img",66),e.TgZ(3,"div",67)(4,"h3",68),e._uU(5),e.qZA(),e.TgZ(6,"p",69),e._uU(7),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.getImageUrl(null==t.seletedEmployee?null:t.seletedEmployee.image[0]),e.LSH)("alt",t.seletedEmployee.fullName),e.xp6(3),e.Oqu(t.seletedEmployee.fullName),e.xp6(2),e.hij("",null==t.seletedEmployee||null==t.seletedEmployee.designation?null:t.seletedEmployee.designation.name," ")}}function R(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"label",70),e._uU(2,"\xa0"),e.qZA(),e.TgZ(3,"div",71),e.O4$(),e.TgZ(4,"svg",72),e._UZ(5,"path",73),e.qZA(),e.kcU(),e.TgZ(6,"div",74),e._uU(7,"No employee selected for salary credit, "),e.TgZ(8,"u",75),e.NdJ("click",function(l){return e.CHM(t),e.oxw(2).openSearchEmployee(),l.stopPropagation()}),e._uU(9,"Click to select"),e.qZA()()()()}}function H(o,r){1&o&&(e.TgZ(0,"div",64),e._uU(1," Debit is invalid "),e.qZA())}function Ae(o,r){1&o&&(e.TgZ(0,"div",64),e._uU(1," Credit is invalid "),e.qZA())}function Fe(o,r){1&o&&(e.TgZ(0,"div",64),e._uU(1," Remarks is invalid "),e.qZA())}function Ue(o,r){1&o&&(e.TgZ(0,"div",64),e._uU(1," Url is invalid "),e.qZA())}function Se(o,r){1&o&&(e.TgZ(0,"div",64),e._uU(1," Date is invalid "),e.qZA())}function ke(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit;return e.oxw(2).openPdfViewer(l)}),e.TgZ(1,"mat-icon",83),e._uU(2,"visibility"),e.qZA()()}}function De(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",76)(1,"div",77),e.O4$(),e.TgZ(2,"svg",78),e._UZ(3,"path",79),e.qZA(),e.kcU(),e.TgZ(4,"span",80),e._uU(5),e.qZA()(),e.TgZ(6,"div",81)(7,"button",82),e.NdJ("click",function(l){const d=e.CHM(t).$implicit,f=e.oxw(2);return f.remove(d),l.stopPropagation(),f.documentToDelete=d}),e.TgZ(8,"mat-icon",83),e._uU(9,"delete_forever"),e.qZA()(),e.YNc(10,ke,3,0,"button",84),e.TgZ(11,"button",85),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).download(a)}),e.TgZ(12,"mat-icon",83),e._uU(13,"download"),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(5),e.Oqu(null==t?null:t.name),e.xp6(5),e.Q6J("ngIf",".pdf"==(null==t?null:t.ext))}}function Oe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",76)(1,"div",77),e.O4$(),e.TgZ(2,"svg",78),e._UZ(3,"path",79),e.qZA(),e.kcU(),e.TgZ(4,"span",80),e._uU(5),e.qZA()(),e.TgZ(6,"div",81)(7,"button",82),e.NdJ("click",function(l){const d=e.CHM(t).$implicit,f=e.oxw(2);return f.remove(d),l.stopPropagation(),f.documentToDelete=d}),e.TgZ(8,"mat-icon",83),e._uU(9,"delete_forever"),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(5),e.Oqu(null==t?null:t.name)}}function qe(o,r){if(1&o&&e._UZ(0,"app-action-history",87),2&o){const t=e.oxw(2);e.Q6J("actionHistory",t.singleExpense.actionHistory)}}const Ie=function(o,r){return{"ease-out duration-300 opacity-100":o,"ease-in duration-200 opacity-0":r}},Ne=function(o,r){return{"ease-out duration-300 opacity-100 scale-100":o,"ease-in duration-200 opacity-0 scale-95":r}};function Je(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",88)(1,"div",89),e._UZ(2,"div",90),e.TgZ(3,"div",91)(4,"div",92),e.NdJ("clickOutside",function(){return e.CHM(t),e.oxw(2).showDeleteDocumentDialog=!1}),e.TgZ(5,"div",93)(6,"div",94)(7,"mat-icon",95),e._uU(8," warning "),e.qZA()(),e.TgZ(9,"div",96)(10,"h3",97),e._uU(11,"Are you sure?"),e.qZA(),e.TgZ(12,"div",98)(13,"p",99),e._uU(14," Once deleted you won't be able to retrive the data. "),e.qZA()()()(),e.TgZ(15,"div",100)(16,"button",101),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showDeleteDocumentDialog=!1}),e._uU(17," Cancel "),e.qZA(),e.TgZ(18,"button",102),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return l.deleteUpload(l.documentToDelete)}),e._uU(19," Ok, Delete "),e.qZA()()()()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.WLB(2,Ie,t.showDeleteDocumentDialog,!t.showDeleteDocumentDialog)),e.xp6(1),e.Q6J("ngClass",e.WLB(5,Ne,t.showDeleteDocumentDialog,!t.showDeleteDocumentDialog))}}const j=function(o,r){return{" border-2 border-red-500":o,"border-gray-300":r}};function Be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().goBackback()}),e.TgZ(4,"mat-icon",17),e._uU(5," arrow_back"),e.qZA(),e._uU(6," Back "),e.qZA(),e.TgZ(7,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateOrSaveExpense()}),e.TgZ(8,"mat-icon",19),e._uU(9," save"),e.qZA(),e._uU(10," Save "),e.qZA()(),e.TgZ(11,"div",20)(12,"h2",21),e._uU(13," Expense Details"),e.qZA(),e.TgZ(14,"p",22),e._uU(15,"Add or Update your Expense information. "),e.qZA()(),e.TgZ(16,"form",23)(17,"main",24)(18,"div",25)(19,"div",26)(20,"section",27)(21,"div")(22,"div",28)(23,"div",29)(24,"div",30)(25,"label",31),e._uU(26,"Category"),e.qZA(),e.TgZ(27,"select",32),e.NdJ("change",function(l){return e.CHM(t),e.oxw().onCategoryChange(l.target.value)}),e.YNc(28,c,2,2,"option",33),e.qZA(),e.YNc(29,g,2,0,"div",34),e.qZA(),e.YNc(30,q,8,4,"div",35),e.YNc(31,R,10,0,"div",35),e.TgZ(32,"div",36)(33,"label",37)(34,"span"),e._uU(35,"Debit "),e.TgZ(36,"b",38),e._uU(37,"(INR)"),e.qZA()()(),e._UZ(38,"input",39),e.YNc(39,H,2,0,"div",34),e.qZA(),e.TgZ(40,"div",36)(41,"label",40)(42,"span"),e._uU(43,"Credit "),e.TgZ(44,"b",38),e._uU(45,"(INR)"),e.qZA()()(),e._UZ(46,"input",41),e.YNc(47,Ae,2,0,"div",34),e.qZA(),e.TgZ(48,"div",42)(49,"label",43),e._uU(50,"Remarks"),e.qZA(),e._UZ(51,"textarea",44),e.YNc(52,Fe,2,0,"div",34),e.qZA(),e.TgZ(53,"div",30)(54,"label",45),e._uU(55,"Upload Url"),e.qZA(),e._UZ(56,"input",46),e.YNc(57,Ue,2,0,"div",34),e.qZA(),e.TgZ(58,"div",30)(59,"label",47),e._uU(60,"Date"),e.qZA(),e.TgZ(61,"input",48),e.NdJ("click",function(){return e.CHM(t),e.MAs(63).open()}),e.qZA(),e._UZ(62,"mat-datepicker",49,50),e.YNc(64,Se,2,0,"div",34),e.qZA()()()()()()()(),e.TgZ(65,"footer",51)(66,"div",52)(67,"ul",53)(68,"div",54)(69,"h1"),e._uU(70,"Documents"),e.qZA()(),e.YNc(71,De,14,2,"li",55),e.YNc(72,Oe,10,1,"li",55),e.TgZ(73,"div",56)(74,"label",57)(75,"mat-icon",58),e._uU(76," add "),e.qZA(),e._uU(77," Upload Document "),e.qZA(),e.TgZ(78,"input",59),e.NdJ("change",function(l){return e.CHM(t),e.oxw().uploadFile(l)}),e.qZA()()()()()(),e.TgZ(79,"div",60),e.YNc(80,qe,1,1,"app-action-history",61),e.qZA()(),e.YNc(81,Je,20,8,"div",62),e.qZA()}if(2&o){const t=e.MAs(63),n=e.oxw();let l,a,d,f,x,h,y,w,m,Z,E,D;e.xp6(7),e.Q6J("disabled",n.expenseFormGroup.invalid),e.xp6(9),e.Q6J("formGroup",n.expenseFormGroup),e.xp6(11),e.Q6J("ngClass",e.WLB(23,j,(null==(l=n.expenseFormGroup.get("category"))?null:l.errors)&&((null==(l=n.expenseFormGroup.get("category"))?null:l.touched)||(null==(l=n.expenseFormGroup.get("category"))?null:l.dirty)),!(null!=(l=n.expenseFormGroup.get("category"))&&l.errors&&(null!=(l=n.expenseFormGroup.get("category"))&&l.touched||null!=(l=n.expenseFormGroup.get("category"))&&l.dirty)))),e.xp6(1),e.Q6J("ngForOf",n.expenseCategories),e.xp6(1),e.Q6J("ngIf",((null==(a=n.expenseFormGroup.get("category"))?null:a.touched)||(null==(a=n.expenseFormGroup.get("category"))?null:a.dirty))&&(null==(a=n.expenseFormGroup.get("category"))||null==a.errors?null:a.errors.required)),e.xp6(1),e.Q6J("ngIf",n.seletedEmployee),e.xp6(1),e.Q6J("ngIf",!n.seletedEmployee&&n.checkIfSalaryIsSelected()),e.xp6(7),e.Q6J("ngClass",e.WLB(26,j,(null==(d=n.expenseFormGroup.get("debit"))?null:d.errors)&&((null==(d=n.expenseFormGroup.get("debit"))?null:d.touched)||(null==(d=n.expenseFormGroup.get("debit"))?null:d.dirty)),!(null!=(d=n.expenseFormGroup.get("debit"))&&d.errors&&(null!=(d=n.expenseFormGroup.get("debit"))&&d.touched||null!=(d=n.expenseFormGroup.get("debit"))&&d.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(f=n.expenseFormGroup.get("debit"))?null:f.touched)||(null==(f=n.expenseFormGroup.get("debit"))?null:f.dirty))&&(null==(f=n.expenseFormGroup.get("debit"))||null==f.errors?null:f.errors.required)),e.xp6(7),e.Q6J("ngClass",e.WLB(29,j,(null==(x=n.expenseFormGroup.get("credit"))?null:x.errors)&&((null==(x=n.expenseFormGroup.get("credit"))?null:x.touched)||(null==(x=n.expenseFormGroup.get("credit"))?null:x.dirty)),!(null!=(x=n.expenseFormGroup.get("credit"))&&x.errors&&(null!=(x=n.expenseFormGroup.get("credit"))&&x.touched||null!=(x=n.expenseFormGroup.get("credit"))&&x.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(h=n.expenseFormGroup.get("credit"))?null:h.touched)||(null==(h=n.expenseFormGroup.get("credit"))?null:h.dirty))&&(null==(h=n.expenseFormGroup.get("credit"))||null==h.errors?null:h.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(32,j,(null==(y=n.expenseFormGroup.get("remarks"))?null:y.errors)&&((null==(y=n.expenseFormGroup.get("remarks"))?null:y.touched)||(null==(y=n.expenseFormGroup.get("remarks"))?null:y.dirty)),!(null!=(y=n.expenseFormGroup.get("remarks"))&&y.errors&&(null!=(y=n.expenseFormGroup.get("remarks"))&&y.touched||null!=(y=n.expenseFormGroup.get("remarks"))&&y.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(w=n.expenseFormGroup.get("remarks"))?null:w.touched)||(null==(w=n.expenseFormGroup.get("remarks"))?null:w.dirty))&&(null==(w=n.expenseFormGroup.get("remarks"))||null==w.errors?null:w.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(35,j,(null==(m=n.expenseFormGroup.get("uploadUrl"))?null:m.errors)&&((null==(m=n.expenseFormGroup.get("uploadUrl"))?null:m.touched)||(null==(m=n.expenseFormGroup.get("uploadUrl"))?null:m.dirty)),!(null!=(m=n.expenseFormGroup.get("uploadUrl"))&&m.errors&&(null!=(m=n.expenseFormGroup.get("uploadUrl"))&&m.touched||null!=(m=n.expenseFormGroup.get("uploadUrl"))&&m.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(Z=n.expenseFormGroup.get("uploadUrl"))?null:Z.touched)||(null==(Z=n.expenseFormGroup.get("uploadUrl"))?null:Z.dirty))&&(null==(Z=n.expenseFormGroup.get("uploadUrl"))||null==Z.errors?null:Z.errors.required)),e.xp6(4),e.Q6J("matDatepicker",t)("ngClass",e.WLB(38,j,(null==(E=n.expenseFormGroup.get("date"))?null:E.errors)&&((null==(E=n.expenseFormGroup.get("date"))?null:E.touched)||(null==(E=n.expenseFormGroup.get("date"))?null:E.dirty)),!(null!=(E=n.expenseFormGroup.get("date"))&&E.errors&&(null!=(E=n.expenseFormGroup.get("date"))&&E.touched||null!=(E=n.expenseFormGroup.get("date"))&&E.dirty)))),e.xp6(1),e.Q6J("disabled",!1),e.xp6(2),e.Q6J("ngIf",((null==(D=n.expenseFormGroup.get("date"))?null:D.touched)||(null==(D=n.expenseFormGroup.get("date"))?null:D.dirty))&&(null==(D=n.expenseFormGroup.get("date"))||null==D.errors?null:D.errors.required)),e.xp6(7),e.Q6J("ngForOf",null==n.singleExpense?null:n.singleExpense.upload),e.xp6(1),e.Q6J("ngForOf",n.files),e.xp6(8),e.Q6J("ngIf",null==n.singleExpense?null:n.singleExpense.actionHistory),e.xp6(1),e.Q6J("ngIf",n.showDeleteDocumentDialog)}}let be=(()=>{class o{constructor(t,n,l,a,d,f,x,h,y){this.formBuilder=t,this._location=n,this.adminService=l,this.route=a,this.dialog=d,this.router=f,this.mainService=x,this.cdRef=h,this.restaurantService=y,this.loading=!1,this.showChangeImageToggle=!1,this.formdata=new FormData,this.files=[],this.showDeleteDocumentDialog=!1,this.expenseFormGroup=this.formBuilder.group({debit:[0,[i.kI.required]],credit:[0,[i.kI.required]],remarks:["",[i.kI.required]],category:["",[i.kI.required]],currency:["INR",[i.kI.required]],uploadUrl:[""],employee:[null],date:[new Date,[i.kI.required]]})}ngOnInit(){var t;const n=this.restaurantService.getRestaurantSlug();n&&(this.getAllExpenseCategory(n),null===(t=this.route)||void 0===t||t.params.subscribe(l=>{l.expenseId&&this.getExpense(n,l.expenseId)}))}updateOrSaveExpense(){var n,t=this;this.loading=!0;const l=this.restaurantService.getRestaurantSlug();l&&(null===(n=this.route)||void 0===n||n.params.subscribe(function(){var a=(0,T.Z)(function*(d){var f,x,h,y,w,m,Z,E,D,ce,me,pe,ge,fe,xe,_e,ve,he;const Ee=O(`${(new Date).getHours()}:${(new Date).getMinutes()}`,"HH:mm"),Ht=O(null===(x=null===(f=t.expenseFormGroup)||void 0===f?void 0:f.value)||void 0===x?void 0:x.date).set({hour:Ee.get("hour"),minute:Ee.get("minute")}),ye={currency:null===(y=null===(h=t.expenseFormGroup)||void 0===h?void 0:h.value)||void 0===y?void 0:y.currency,remarks:null===(m=null===(w=t.expenseFormGroup)||void 0===w?void 0:w.value)||void 0===m?void 0:m.remarks,address:null===(E=null===(Z=t.expenseFormGroup)||void 0===Z?void 0:Z.value)||void 0===E?void 0:E.address,debit:null===(ce=null===(D=t.expenseFormGroup)||void 0===D?void 0:D.value)||void 0===ce?void 0:ce.debit,credit:null===(pe=null===(me=t.expenseFormGroup)||void 0===me?void 0:me.value)||void 0===pe?void 0:pe.credit,uploadUrl:null===(fe=null===(ge=t.expenseFormGroup)||void 0===ge?void 0:ge.value)||void 0===fe?void 0:fe.uploadUrl,category:null===(_e=null===(xe=t.expenseFormGroup)||void 0===xe?void 0:xe.value)||void 0===_e?void 0:_e.category,employee:null===(ve=t.seletedEmployee)||void 0===ve?void 0:ve.id,date:O(Ht).toISOString()};if((null===(he=t.files)||void 0===he?void 0:he.length)>0?(t.formdata.delete("files.upload"),t.files.forEach(A=>t.formdata.append("files.upload",A,null==A?void 0:A.name))):t.formdata.delete("files.upload"),d.expenseId)t.formdata.has("files.upload")?(t.formdata.delete("data"),t.formdata.append("data",JSON.stringify(ye)),t.adminService.updateExpense(t.formdata,l,d.expenseId).then(A=>{t.reset(),t.loading=!1,t.mainService.openDialog("Success","Updated Successfully","S",!0)}).catch(A=>{t.loading=!1,console.log("Error",A),t.mainService.openDialog("Error",t.mainService.errorMessage(A),"E")})):t.adminService.updateExpense(ye,l,d.expenseId).then(A=>{t.loading=!1,t.reset(),t.mainService.openDialog("Success","Updated Successfully","S",!0)}).catch(A=>{t.loading=!1,console.log("Error",A),t.mainService.openDialog("Error",t.mainService.errorMessage(A),"E")});else{const A=t.restaurantService.getRestaurantSlug();A&&(t.formdata.delete("data"),t.formdata.append("data",JSON.stringify(ye)),t.adminService.addExpense(t.formdata,A).then(L=>{var we;t.reset(),t.loading=!1,t.mainService.openDialog("Success","Added Successfully with id : "+(null===(we=null==L?void 0:L.data)||void 0===we?void 0:we.id),"S",!0)}).catch(L=>{t.loading=!1,console.log("Error",L),t.mainService.openDialog("Error",t.mainService.errorMessage(L),"E")}))}});return function(d){return a.apply(this,arguments)}}()))}getAllExpenseCategory(t){this.loading=!0,this.adminService.getExpenseCategory(t).then(n=>{this.expenseCategories=null==n?void 0:n.data,this.route.queryParams.subscribe(l=>{if(l.showSearchEmployee){const a=this.expenseCategories.find(d=>"Salary"==(null==d?void 0:d.name));this.expenseFormGroup.patchValue({category:null==a?void 0:a.id})}}),this.loading=!1}).catch(n=>{this.loading=!1,console.log("Error",n),this.mainService.openDialog("Error",this.mainService.errorMessage(n),"E")})}getExpense(t,n){this.loading=!0,this.adminService.getSingleExpense(t,n).then(l=>{var a,d,f,x,h,y,w,m,Z;this.singleExpense=null==l?void 0:l.data,this.expenseFormGroup.patchValue({debit:null===(a=this.singleExpense)||void 0===a?void 0:a.debit,credit:null===(d=this.singleExpense)||void 0===d?void 0:d.credit,remarks:null===(f=this.singleExpense)||void 0===f?void 0:f.remarks,category:null===(h=null===(x=this.singleExpense)||void 0===x?void 0:x.category)||void 0===h?void 0:h.id,currency:null===(y=this.singleExpense)||void 0===y?void 0:y.currency,uploadUrl:null===(w=this.singleExpense)||void 0===w?void 0:w.uploadUrl,date:O(null===(m=this.singleExpense)||void 0===m?void 0:m.date).toISOString()}),this.seletedEmployee=null===(Z=this.singleExpense)||void 0===Z?void 0:Z.employee,this.loading=!1}).catch(l=>{this.loading=!1,console.log("Error",l),this.mainService.openDialog("Error",this.mainService.errorMessage(l),"E")})}onCategoryChange(t){const n=this.restaurantService.getRestaurantSlug();if(n){this.router.navigate([]),this.seletedEmployee=null;const l=this.expenseCategories.find(a=>"Salary"==a.name);(null==l?void 0:l.id)==t&&this.openEmployeeSearchComponent(n)}}openEmployeeSearchComponent(t){this.dialog.open(le,{panelClass:"popUp-modalbox",data:{slug:t}}).afterClosed().subscribe(l=>{this.seletedEmployee=l,this.router.navigate([])})}checkIfSalaryIsSelected(){var t;if(this.expenseCategories){const n=this.expenseCategories.find(l=>{var a;return"salary"==(null===(a=null==l?void 0:l.name)||void 0===a?void 0:a.toLowerCase())});if((null===(t=this.expenseFormGroup.value)||void 0===t?void 0:t.category)==(null==n?void 0:n.id))return!0}return!1}openSearchEmployee(){const t=this.restaurantService.getRestaurantSlug();t&&this.openEmployeeSearchComponent(t)}openPdfViewer(t){const n=this.mainService.getImageUrl(t,S.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE);this.dialog.open(B.r,{data:{url:n,height:"100%",width:"100%"}})}download(t){let n="";(".jpeg"==(null==t?void 0:t.ext)||".png"==(null==t?void 0:t.ext)||".jpg"==(null==t?void 0:t.ext))&&(n=S.g.IMAGE_SIZE.large);const l=this.mainService.getImageUrl(t,S.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE,n);window.open(l)}uploadFile(t){var n=this;return(0,T.Z)(function*(){var l,a,d;let f=t.target.files;if((null==f?void 0:f.length)>0){let x=f[0];if(!(n.files.findIndex(h=>h.name==x.name)<0&&(n.singleExpense&&(null===(l=n.singleExpense)||void 0===l?void 0:l.upload)?(null===(d=null===(a=n.singleExpense)||void 0===a?void 0:a.upload)||void 0===d?void 0:d.findIndex(h=>h.name==x.name))<0:-1)))return void n.mainService.openDialog("Error","Document already exists with same name.","E");n.files.push(x)}})()}remove(t){if(null==t?void 0:t.id)this.showDeleteDocumentDialog=!0;else{const n=this.files.map(l=>l.name).indexOf(t.name);n>=0&&this.files.splice(n,1)}}reset(){this.files=[],this.formdata.delete("data"),this.formdata.delete("files.upload"),this.formdata.delete("files.upload")}deleteUpload(t){var l,n=this;this.loading=!0;const a=null==t?void 0:t.id,d=this.restaurantService.getRestaurantSlug();d&&a&&(null===(l=this.route)||void 0===l||l.params.subscribe(function(){var f=(0,T.Z)(function*(x){x.expenseId&&n.adminService.deleteExpenseUpload(a,x.expenseId,d).then(h=>{var y,w;n.showDeleteDocumentDialog=!1;const m=null===(y=n.singleExpense)||void 0===y?void 0:y.upload.map(Z=>Z.id).indexOf(null==t?void 0:t.id);m>=0&&(null===(w=n.singleExpense)||void 0===w||w.upload.splice(m,1)),n.loading=!1,n.mainService.openDialog("Success","Document deleted successfully","S")}).catch(h=>{console.log("Error",h),n.showDeleteDocumentDialog=!1,n.loading=!1,n.mainService.openDialog("Error",n.mainService.errorMessage(h),"E")})});return function(x){return f.apply(this,arguments)}}()))}goBackback(){this._location.back()}ngAfterViewChecked(){this.cdRef.detectChanges()}getImageUrl(t){return this.mainService.getImageUrl(t,S.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}checkSearchEmployeeInUrl(){return this.routeQueryParams$=this.route.queryParams.subscribe(t=>!!t.showSearchEmployee),!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(_.Ye),e.Y36(F.l),e.Y36(C.gz),e.Y36(I.uw),e.Y36(C.F0),e.Y36(N.J),e.Y36(e.sBO),e.Y36(K.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit"]],decls:3,vars:3,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","bg-red-500",4,"ngIf"],["class","pt-8 pb-12",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"bg-red-500"],[1,"mx-auto","max-w-6xl","py-3","px-3","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","items-start","justify-between"],[1,"items-start","flex","w-0","flex-1"],[1,"text-white","p-2","bg-red-600","rounded-lg",2,"height","unset","width","unset"],[1,"flex","items-center","flex-wrap"],[1,"ml-3","font-medium","text-white"],["type","button",1,"mt-2","lg:mt-0","ml-3","mx-auto","inline-flex","items-center","px-4","py-1","border","border-red-300","shadow-lg","text-sm","font-medium","rounded-3xl","text-red-500","bg-white","hover:bg-red-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"routerLink"],[1,"ml-2","text-red-500","text-md",2,"height","unset","width","unset"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","py-4","items-center"],[1,"text-indigo-500","flex","items-center","text-sm",3,"click"],[1,"mr-2","text-base"],[1,"disabled:bg-indigo-400","flex","items-center","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-indigo-500",3,"disabled","click"],[1,"mr-2"],[1,"py-6"],["id","payment-details-heading",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[3,"formGroup"],[1,"flex-1"],[1,"relative"],[1,"space-y-6","mt-2","lg:col-span-9"],["aria-labelledby","user-info"],[1,"bg-white"],[1,"mt-6","grid","grid-cols-4","gap-6"],[1,"col-span-4","sm:col-span-2"],["for","category",1,"block","text-sm","font-medium","text-gray-700"],["name","category","autocomplete","none","formControlName","category",1,"mt-1","block","w-full","bg-white","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-xs pt-1",4,"ngIf"],["class","col-span-4 sm:col-span-2",4,"ngIf"],[1,"col-span-4","sm:col-span-1"],["for","debit",1,"flex","items-center","text-sm","font-medium","text-gray-700"],[1,"font-medium","text-indigo-400","text-xs"],["formControlName","debit","type","text","name","debit","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","credit",1,"flex","items-center","text-sm","font-medium","text-gray-700"],["formControlName","credit","type","text","name","credit","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[1,"col-span-4","row-span-2","sm:col-span-2"],["for","remarks",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","remarks","name","remarks","rows","6",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","border","rounded-md",3,"ngClass"],["for","upload-url",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","uploadUrl","type","text","name","uploadUrl","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","date",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","date","name","date","autocomplete","none","placeholder","",1,"border","mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"matDatepicker","ngClass","click"],[3,"disabled"],["dojpicker",""],[1,"mt-6","sm:mt-12"],[1,"grid","sm:grid-cols-2","grid-cols-1","sm:space-x-4"],["role","list",1,"mt-6","h-72","sm:mt-0","divide-y","divide-gray-200","rounded-md","border","border-gray-200","overflow-y-scroll"],[1,"z-10","sticky","top-0","border-gray-200","bg-gray-50","px-3","py-1","text-sm","font-medium","text-gray-500"],["class","flex items-center justify-between py-3 pl-3 pr-4 text-sm",4,"ngFor","ngForOf"],[1,"sticky","bottom-0","cursor-pointer","bg-indigo-50","border-t","w-full","text-sm","leading-8","font-medium","text-gray-700","hover:bg-indigo-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["for","upload-document",1,"flex","items-center","justify-center","w-full","py-2","text-indigo-500"],[1,"mr-2","text-md","text-indigo-500"],["type","file","accept",".pdf, .png, .jpeg, .jpg","onclick","this.value = null","name","upload-document","id","upload-document",2,"opacity","0","position","absolute","z-index","-1",3,"change"],[1,"mt-8"],[3,"actionHistory",4,"ngIf"],["class","fixed h-full inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],[3,"value"],[1,"text-red-500","text-xs","pt-1"],[1,"flex","items-center"],["loading","lazy",1,"w-16","h-16","rounded-full","lg:w-20","lg:h-20","object-cover",3,"src","alt"],[1,"ml-4","font-medium","text-lg","leading-6","space-y-1"],[1,"capitalize"],[1,"text-indigo-600"],["for","category",1,"hidden","sm:block","text-sm","font-medium","text-gray-700"],[1,"mt-3","flex","flex-row","text-sm","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"mr-4","h-6","w-6","text-red-500","flex-none"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"w-full","shrink","font-semibold","text-red-500"],[1,"cursor-pointer",3,"click"],[1,"flex","items-center","justify-between","py-3","pl-3","pr-4","text-sm"],[1,"flex","w-0","flex-1","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-400"],["fill-rule","evenodd","d","M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule","evenodd"],[1,"ml-2","w-0","flex-1","truncate"],[1,"ml-4","space-x-2","flex-shrink-0"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"text-base"],["type","button","class","inline-flex items-center  border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-yellow-500","hover:bg-yellow-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[3,"actionHistory"],["role","dialog","aria-modal","true",1,"fixed","h-full","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity",3,"ngClass"],[1,"relative","inline-block","align-middle","m-4","max-w-xl","w-full","sm:m-auto","transform","divide-y","divide-gray-500","divide-opacity-10","overflow-hidden","rounded-xl","bg-white","bg-opacity-80","shadow-2xl","ring-1","ring-black","ring-opacity-5","backdrop-blur","backdrop-filter","transition-all",3,"ngClass"],[3,"clickOutside"],[1,"flex","items-start","px-4","pt-5","p-6"],[1,"flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","sm:mx-0","sm:h-10","sm:w-10"],["aria-hidden","false","aria-label","warning",1,"h-6","w-6","text-yellow-500"],[1,"mt-0","ml-4","text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","border-t"],["type","button",1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,u,1,0,"app-loader",0),e.YNc(1,s,13,2,"div",1),e.YNc(2,Be,82,41,"div",2)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading&&n.expenseCategories&&0==(null==n.expenseCategories?null:n.expenseCategories.length)),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[_.O5,ee.R,$.Hw,C.rH,i._Y,i.JL,i.sg,i.EJ,i.JJ,i.u,_.mk,_.sg,i.YN,i.Kr,i.Fj,W.hl,W.Mq,de,k._],styles:[""]}),o})();var Me=p(4847),b=p(2075),Q=p(1777),Ye=p(8080),Qe=p(449),Ge=p(775),Ze=p(7446),Te=p(9354);function Re(o,r){1&o&&e._UZ(0,"app-loader",2)}function He(o,r){if(1&o&&(e.TgZ(0,"span",67),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("\xa0of\xa0",t.activeDateRange,"")}}const je=function(o,r){return{color:o,"background-color":r}};function Le(o,r){if(1&o&&(e.TgZ(0,"li",68)(1,"div",69),e._uU(2),e.qZA(),e.TgZ(3,"div",70)(4,"div",71)(5,"p",72),e._uU(6),e.qZA(),e.TgZ(7,"p",73),e._uU(8,"Debit: "),e.TgZ(9,"b",74),e._uU(10),e.ALo(11,"currency"),e.qZA()(),e.TgZ(12,"p",75),e._uU(13,"Credit: "),e.TgZ(14,"b",76),e._uU(15),e.ALo(16,"currency"),e.qZA()()()()()),2&o){const t=r.$implicit;let n,l,a,d;e.xp6(1),e.Q6J("ngStyle",e.WLB(11,je,null==(n=t)||null==n.value||null==n.value.colors?null:n.value.colors.color,null==(n=t)||null==n.value||null==n.value.colors?null:n.value.colors.backgroundColor)),e.xp6(1),e.Oqu(null==(l=t)||null==l.key?null:l.key.substring(0,1)),e.xp6(4),e.hij(" ",null==t?null:t.key," "),e.xp6(4),e.Oqu(e.xi3(11,5,null!=(a=t)&&null!=a.value&&a.value.debit?null==(a=t)||null==a.value?null:a.value.debit:0,null==(a=t)||null==a.value?null:a.value.currency)),e.xp6(5),e.Oqu(e.xi3(16,8,null!=(d=t)&&null!=d.value&&d.value.credit?null==(d=t)||null==d.value?null:d.value.credit:0,null==(d=t)||null==d.value?null:d.value.currency))}}const ze=function(){return["../category","add"]};function Pe(o,r){if(1&o&&(e.TgZ(0,"div",61)(1,"h2",13),e._uU(2," Category Summary "),e.YNc(3,He,2,1,"span",14),e.qZA(),e.TgZ(4,"ul",62),e.YNc(5,Le,17,14,"li",63),e.ALo(6,"keyvalue"),e.TgZ(7,"li",64)(8,"div",65)(9,"mat-icon",66),e._uU(10,"add"),e.qZA(),e._uU(11,"Add category "),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.activeDateRange),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,3,t.groupSummary)),e.xp6(2),e.Q6J("routerLink",e.DdM(5,ze))}}function $e(o,r){if(1&o&&(e.TgZ(0,"span",67),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("\xa0of\xa0",t.activeDateRange,"")}}function We(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteMultipleExpense()}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij("Delete (",t.selection.selected.length,")")}}function Ve(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"th",78)(1,"mat-checkbox",79),e.NdJ("change",function(l){e.CHM(t);const a=e.oxw(2);return l?a.toggleAllRows():null}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",80)(1,"mat-checkbox",81),e.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const d=e.CHM(t).$implicit,f=e.oxw(2);return l?f.selection.toggle(d):null}),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function Ke(o,r){1&o&&(e.TgZ(0,"td",82),e._uU(1," Total "),e.qZA())}function et(o,r){1&o&&(e.TgZ(0,"th",78),e._uU(1," Date "),e.qZA())}function tt(o,r){if(1&o&&(e.TgZ(0,"td",80)(1,"time",26),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&o){const t=r.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,null==t?null:t.date)," ")}}function nt(o,r){1&o&&e._UZ(0,"td",82)}function ot(o,r){1&o&&(e.TgZ(0,"th",78),e._uU(1,"Debit"),e.qZA())}function it(o,r){if(1&o&&(e.TgZ(0,"span",85)(1,"mat-icon",86),e._uU(2,"north_east"),e.qZA(),e._uU(3),e.ALo(4,"currency"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",e.xi3(4,1,null==t?null:t.debit,null==t?null:t.currency)," ")}}function lt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function rt(o,r){if(1&o&&(e.TgZ(0,"td",80),e.YNc(1,it,5,4,"span",83),e.YNc(2,lt,2,0,"span",84),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.debit),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.debit))}}function at(o,r){if(1&o&&(e.TgZ(0,"td",82)(1,"div",87)(2,"span",85)(3,"mat-icon",86),e._uU(4,"north_east"),e.qZA(),e._uU(5),e.ALo(6,"currency"),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.xi3(6,1,t.getDebitCost(),"INR")," ")}}function st(o,r){1&o&&(e.TgZ(0,"th",78),e._uU(1,"Credit"),e.qZA())}function dt(o,r){if(1&o&&(e.TgZ(0,"span",89)(1,"mat-icon",90),e._uU(2,"south_west"),e.qZA(),e._uU(3),e.ALo(4,"currency"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",e.xi3(4,1,null==t?null:t.credit,null==t?null:t.currency)," ")}}function ut(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function ct(o,r){if(1&o&&(e.TgZ(0,"td",80),e.YNc(1,dt,5,4,"span",88),e.YNc(2,ut,2,0,"span",84),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.credit),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.credit))}}function mt(o,r){if(1&o&&(e.TgZ(0,"td",82)(1,"div",87)(2,"span",89)(3,"mat-icon",90),e._uU(4,"south_west"),e.qZA(),e._uU(5),e.ALo(6,"currency"),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.xi3(6,1,t.getCreditCost(),"INR")," ")}}function pt(o,r){1&o&&(e.TgZ(0,"th",78),e._uU(1," Category "),e.qZA())}const ue=function(o){return["../edit",o]};function gt(o,r){if(1&o&&(e.TgZ(0,"td",80)(1,"a",91),e._uU(2),e.qZA()()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ue,t.id)),e.xp6(1),e.hij(" ",null==t||null==t.category?null:t.category.name," ")}}function ft(o,r){1&o&&e._UZ(0,"td",82)}function xt(o,r){1&o&&(e.TgZ(0,"th",78),e._uU(1," Staff "),e.qZA())}function _t(o,r){if(1&o&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t||null==t.employee?null:t.employee.fullName," ")}}function vt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function ht(o,r){if(1&o&&(e.TgZ(0,"td",80),e.YNc(1,_t,2,1,"div",92),e.YNc(2,vt,2,0,"span",84),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.employee),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.employee))}}function yt(o,r){1&o&&e._UZ(0,"td",82)}function wt(o,r){1&o&&(e.TgZ(0,"th",93),e._uU(1,"\xa0"),e.qZA())}function Ct(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_down"),e.qZA())}function bt(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_up"),e.qZA())}function Zt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",80)(1,"button",94),e.NdJ("click",function(l){const d=e.CHM(t).$implicit,f=e.oxw(2);return f.expandedElement=f.expandedElement===d?null:d,l.stopPropagation()}),e.YNc(2,Ct,2,0,"mat-icon",84),e.YNc(3,bt,2,0,"mat-icon",84),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",n.expandedElement!==t),e.xp6(1),e.Q6J("ngIf",n.expandedElement===t)}}function Tt(o,r){1&o&&e._UZ(0,"td",82)}function Et(o,r){if(1&o&&(e.TgZ(0,"div",100)(1,"h3",101),e._uU(2,"Remarks"),e.qZA(),e.TgZ(3,"a",102),e._UZ(4,"markdown",103),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.Q6J("routerLink",e.VKq(2,ue,t.id)),e.xp6(1),e.Q6J("data",t.remarks)}}function At(o,r){if(1&o&&(e.TgZ(0,"div",104)(1,"a",102)(2,"h3",101),e._uU(3,"Infomation"),e.qZA(),e.TgZ(4,"ul",105)(5,"li",106)(6,"p",107),e._uU(7," Email "),e.qZA(),e.TgZ(8,"p",108),e._uU(9),e.qZA()(),e.TgZ(10,"li",106)(11,"p",107),e._uU(12," Name "),e.qZA(),e.TgZ(13,"p",108),e._uU(14),e.qZA()(),e.TgZ(15,"li",106)(16,"p",107),e._uU(17," Gender "),e.qZA(),e.TgZ(18,"p",108),e._uU(19),e.qZA()(),e.TgZ(20,"li",106)(21,"p",107),e._uU(22," Mobile "),e.qZA(),e.TgZ(23,"p",108),e._uU(24),e.qZA()(),e.TgZ(25,"li",106)(26,"p",107),e._uU(27," Address "),e.qZA(),e._UZ(28,"markdown",109),e.qZA()()()()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(6,ue,t.id)),e.xp6(8),e.hij(" ",null==t||null==t.employee?null:t.employee.email,""),e.xp6(5),e.hij(" ",null==t||null==t.employee?null:t.employee.fullName,""),e.xp6(5),e.hij(" ",null==t||null==t.employee?null:t.employee.gender,""),e.xp6(5),e.hij(" ",null==t||null==t.employee?null:t.employee.mobile,""),e.xp6(4),e.Q6J("data",null==t||null==t.employee?null:t.employee.address)}}function Ft(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",97),e.YNc(2,Et,5,4,"div",98),e.YNc(3,At,29,8,"div",99),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",null==t?null:t.remarks),e.xp6(1),e.Q6J("ngIf",null==t?null:t.employee)}}function Ut(o,r){if(1&o&&(e.TgZ(0,"td",80)(1,"div",95)(2,"div",96),e.YNc(3,Ft,4,2,"ng-container",84),e.qZA()()()),2&o){const t=r.$implicit,n=e.oxw(2);e.uIk("colspan",n.columnsToDisplayWithExpand.length),e.xp6(1),e.Q6J("@detailExpand",t==n.expandedElement?"expanded":"collapsed"),e.xp6(2),e.Q6J("ngIf",(null==t?null:t.remarks)||(null==t||null==t.employee?null:t.employee.fullName))}}function St(o,r){1&o&&e._UZ(0,"td",82)}function kt(o,r){1&o&&e._UZ(0,"tr",110)}function Dt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",111),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return d.expandedElement=d.expandedElement===a?null:a}),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.ekj("example-expanded-row",n.expandedElement===t)}}function Ot(o,r){1&o&&e._UZ(0,"tr",112)}function qt(o,r){1&o&&e._UZ(0,"tr",113)}function It(o,r){if(1&o&&(e.TgZ(0,"tr",114)(1,"td",115),e._uU(2),e.qZA()()),2&o){e.oxw();const t=e.MAs(53);e.xp6(2),e.hij('No data matching the filter "',t.value,'"')}}const Nt=function(){return["../add"]},Jt=function(){return["expandedDetail"]};function Bt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"main",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"app-date-range",7,8),e.NdJ("data",function(l){return e.CHM(t),e.oxw().dateRangeChanged(l)}),e.qZA(),e.TgZ(6,"button",9)(7,"mat-icon",10),e._uU(8," add"),e.qZA(),e._uU(9," Create expense "),e.qZA()()(),e.YNc(10,Pe,12,6,"div",11),e.TgZ(11,"div",12)(12,"h2",13),e._uU(13," Expenses "),e.YNc(14,$e,2,1,"span",14),e.qZA(),e.YNc(15,We,2,1,"button",15),e.qZA(),e.TgZ(16,"div",16)(17,"ul",17)(18,"li")(19,"a",18)(20,"span",19)(21,"span",20),e.O4$(),e.TgZ(22,"svg",21),e._UZ(23,"path",22),e.qZA(),e.kcU(),e.TgZ(24,"span",23)(25,"span",24),e._uU(26,"Payment to Molly Sanders"),e.qZA(),e.TgZ(27,"span")(28,"span",25),e._uU(29,"$20,000"),e.qZA(),e._uU(30," USD"),e.qZA(),e.TgZ(31,"time",26),e._uU(32,"July 11, 2020"),e.qZA()()(),e.O4$(),e.TgZ(33,"svg",21),e._UZ(34,"path",27),e.qZA()()()()(),e.kcU(),e.TgZ(35,"nav",28)(36,"div",29)(37,"a",30),e._uU(38," Previous "),e.qZA(),e.TgZ(39,"a",31),e._uU(40," Next "),e.qZA()()()(),e.TgZ(41,"div",32)(42,"div",5)(43,"div",33)(44,"div",34)(45,"div",35)(46,"label",36),e._uU(47,"Search"),e.qZA(),e.TgZ(48,"div",37)(49,"div",38),e.O4$(),e.TgZ(50,"svg",39),e._UZ(51,"path",40),e.qZA()(),e.kcU(),e.TgZ(52,"input",41,42),e.NdJ("keyup",function(l){return e.CHM(t),e.oxw().applyFilter(l)}),e.qZA()()(),e.TgZ(54,"table",43),e.ynx(55,44),e.YNc(56,Ve,2,3,"th",45),e.YNc(57,Xe,2,2,"td",46),e.YNc(58,Ke,2,0,"td",47),e.BQk(),e.ynx(59,48),e.YNc(60,et,2,0,"th",45),e.YNc(61,tt,4,3,"td",46),e.YNc(62,nt,1,0,"td",47),e.BQk(),e.ynx(63,49),e.YNc(64,ot,2,0,"th",45),e.YNc(65,rt,3,2,"td",46),e.YNc(66,at,7,4,"td",47),e.BQk(),e.ynx(67,50),e.YNc(68,st,2,0,"th",45),e.YNc(69,ct,3,2,"td",46),e.YNc(70,mt,7,4,"td",47),e.BQk(),e.ynx(71,51),e.YNc(72,pt,2,0,"th",45),e.YNc(73,gt,3,4,"td",46),e.YNc(74,ft,1,0,"td",47),e.BQk(),e.ynx(75,52),e.YNc(76,xt,2,0,"th",45),e.YNc(77,ht,3,2,"td",46),e.YNc(78,yt,1,0,"td",47),e.BQk(),e.ynx(79,53),e.YNc(80,wt,2,0,"th",54),e.YNc(81,Zt,4,2,"td",46),e.YNc(82,Tt,1,0,"td",47),e.BQk(),e.ynx(83,55),e.YNc(84,Ut,4,3,"td",46),e.YNc(85,St,1,0,"td",47),e.BQk(),e.YNc(86,kt,1,0,"tr",56),e.YNc(87,Dt,1,2,"tr",57),e.YNc(88,Ot,1,0,"tr",58),e.YNc(89,qt,1,0,"tr",59),e.YNc(90,It,3,1,"tr",60),e.qZA()()()()()()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("routerLink",e.DdM(10,Nt)),e.xp6(4),e.Q6J("ngIf",t.groupSummary&&t.expense&&t.expense.length>0),e.xp6(4),e.Q6J("ngIf",t.activeDateRange),e.xp6(1),e.Q6J("ngIf",t.selection.selected.length>0),e.xp6(39),e.Q6J("dataSource",t.dataSource),e.xp6(32),e.Q6J("matHeaderRowDef",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matFooterRowDef",t.columnsToDisplayWithExpand)("matFooterRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(11,Jt))}}const Mt=[{path:"overview",component:(()=>{class o{constructor(t,n,l,a){this.adminService=t,this.mainService=n,this.route=l,this.restaurantService=a,this.loading=!0,this.displayedColumns=["select","category","employee","date","debit","credit"],this.columnsToDisplayWithExpand=[...this.displayedColumns,"expand"],this.selection=new Qe.Ov(!0,[]),this.groupSummary={},this.activeDateRange="",this.range=new i.cw({start:new i.NI(null),end:new i.NI(null)})}ngOnInit(){}ngAfterViewInit(){const t=this.restaurantService.getRestaurantSlug();t&&this.initDate(t)}dateRangeChanged(t){const n=this.restaurantService.getRestaurantSlug();n&&(this.activeDateRange=null==t?void 0:t.type,this.dateData=t,this.getAllExpense(n,O(t.start).startOf("day").toISOString(),O(t.end).endOf("day").toISOString()))}initDate(t){var n=this;return(0,T.Z)(function*(){const l=yield n.mainService.getSelectedDate();(null==l?void 0:l.start)&&(null==l?void 0:l.end)&&(null==l?void 0:l.type)&&(n.activeDateRange=l.type,n.dateData=l,n.getAllExpense(t,O(l.start).startOf("day").toISOString(),O(l.end).endOf("day").toISOString()))})()}getAllExpense(t,n,l){this.loading=!0,this.adminService.getAllExpense(n,l,t).then(a=>{var d;this.restaurant=null===(d=null==a?void 0:a.data)||void 0===d?void 0:d.restaurant,this.expense=null==a?void 0:a.data,this.dogrouping(),this.dataSource=new b.by(this.expense),this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(f,x)=>-1!=JSON.stringify(f).toLowerCase().indexOf(x),this.loading=!1}).catch(a=>{this.loading=!1,console.log(a),this.mainService.openDialog("Error",this.mainService.errorMessage(a),"E")})}dogrouping(){var t,n,l,a,d,f,x,h,y;if(this.groupSummary={},this.expense&&(null===(t=this.expense)||void 0===t?void 0:t.length)>0)for(let w=0;w<(null===(n=this.expense)||void 0===n?void 0:n.length);w++){const m=this.expense[w];this.groupSummary[null===(l=null==m?void 0:m.category)||void 0===l?void 0:l.name]?(this.groupSummary[null===(a=null==m?void 0:m.category)||void 0===a?void 0:a.name].debit=this.groupSummary[null===(d=null==m?void 0:m.category)||void 0===d?void 0:d.name].debit+(null==m?void 0:m.debit),this.groupSummary[null===(f=null==m?void 0:m.category)||void 0===f?void 0:f.name].credit=this.groupSummary[null===(x=null==m?void 0:m.category)||void 0===x?void 0:x.name].credit+(null==m?void 0:m.credit)):this.groupSummary[null===(h=null==m?void 0:m.category)||void 0===h?void 0:h.name]={debit:parseFloat(null==m?void 0:m.debit),credit:parseFloat(null==m?void 0:m.credit),currency:null==m?void 0:m.currency,colors:(0,Ye.Z)(null===(y=null==m?void 0:m.category)||void 0===y?void 0:y.name,700)}}}applyFilter(t){var n;const l=null===(n=t.target)||void 0===n?void 0:n.value;this.dataSource.filter=l.trim().toLowerCase()}getDebitCost(){var t;return parseInt(null===(t=this.expense)||void 0===t?void 0:t.map(n=>null==n?void 0:n.debit).reduce((n,l)=>n+l,0))}getCreditCost(){var t;return parseInt(null===(t=this.expense)||void 0===t?void 0:t.map(n=>null==n?void 0:n.credit).reduce((n,l)=>n+l,0))}getImageUrl(t){return this.mainService.getImageUrl(t,S.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}deleteMultipleExpense(){var t;this.loading=!0;const n=null===(t=this.selection)||void 0===t?void 0:t.selected.map(a=>a.id),l=this.restaurantService.getRestaurantSlug();l&&this.adminService.deleteExpenses(n,l).then(a=>{this.loading=!1,this.mainService.openDialog("Success","Selected expense deleted successfully","S",!0,!1)}).catch(a=>{this.loading=!1,console.log(a),this.mainService.openDialog("Error",this.mainService.errorMessage(a),"E")})}isAllSelected(){var t,n,l,a;return(null===(n=null===(t=this.selection)||void 0===t?void 0:t.selected)||void 0===n?void 0:n.length)===(null===(a=null===(l=this.dataSource)||void 0===l?void 0:l.data)||void 0===a?void 0:a.length)}toggleAllRows(){var t;this.isAllSelected()?this.selection.clear():this.selection.select(...null===(t=this.dataSource)||void 0===t?void 0:t.data)}checkboxLabel(t){return t?(this.selection.isSelected(t)?"deselect":"select")+" }":(this.isAllSelected()?"deselect":"select")+" all"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.l),e.Y36(N.J),e.Y36(C.gz),e.Y36(K.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-overview"]],viewQuery:function(t,n){if(1&t&&e.Gf(Me.YE,5),2&t){let l;e.iGM(l=e.CRH())&&(n.sort=l.first)}},decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","flex-1 pb-8 bg-gray-100 min-h-screen",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"flex-1","pb-8","bg-gray-100","min-h-screen"],[1,"pt-8"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","sm:flex-row","flex-col","justify-between","py-4","flex-wrap","sm:flex-nowrap"],[3,"data"],["dateRange",""],[1,"mt-2","sm:mt-0","inline-flex","justify-center","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mr-2","text-md"],["class","max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",4,"ngIf"],[1,"sm:px-6","lg:px-8","max-w-6xl","mx-auto","mt-8","px-4","flex","flex-row","justify-between"],[1,"text-lg","leading-6","font-medium","text-gray-900"],["class","lowercase text-gray-500 text-xs font-normal",4,"ngIf"],["type","button","class","inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",3,"click",4,"ngIf"],[1,"shadow","sm:hidden"],["role","list",1,"mt-2","divide-y","divide-gray-200","overflow-hidden","shadow","sm:hidden"],["href","#",1,"block","px-4","py-4","bg-white","hover:bg-gray-50"],[1,"flex","items-center","space-x-4"],[1,"flex-1","flex","space-x-2","truncate"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"flex-shrink-0","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],[1,"flex","flex-col","text-gray-500","text-sm","truncate"],[1,"truncate"],[1,"text-gray-900","font-medium"],["datetime","2020-07-11"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],["aria-label","Pagination",1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200"],[1,"flex-1","flex","justify-between"],["href","#",1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],["href","#",1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],[1,"hidden","sm:block"],[1,"flex","flex-col","mt-2"],[1,"align-middle","min-w-full","overflow-x-auto","shadow","overflow-hidden","sm:rounded-lg","bg-white"],[1,"w-full","flex","md:ml-0","px-6","py-4"],["for","search-field",1,"sr-only"],[1,"relative","w-full","text-gray-400","focus-within:text-gray-600"],["aria-hidden","true",1,"absolute","inset-y-0","left-0","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["name","search-field","placeholder","Search",1,"z-0","block","w-full","h-full","pl-8","pr-3","py-2","border-transparent","text-gray-900","placeholder-gray-500","focus:outline-none","focus:ring-0","focus:border-transparent","sm:text-sm",3,"keyup"],["input",""],["mat-table","","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","date"],["matColumnDef","debit"],["matColumnDef","credit"],["matColumnDef","category"],["matColumnDef","employee"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8","mt-8"],["role","list",1,"grid","grid-cols-1","gap-4","sm:gap-6","sm:grid-cols-2","xl:grid-cols-4","mt-3"],["class","bg-white hover:bg-gray-50 relative col-span-1 flex shadow rounded-xl overflow-hidden",4,"ngFor","ngForOf"],[1,"relative","col-span-1","flex","shadow","rounded-xl","cursor-pointer","bg-white","hover:bg-gray-50",3,"routerLink"],[1,"w-full","p-4","flex","justify-center","items-center","truncate"],[1,"mr-2"],[1,"lowercase","text-gray-500","text-xs","font-normal"],[1,"bg-white","hover:bg-gray-50","relative","col-span-1","flex","shadow","rounded-xl","overflow-hidden"],[1,"flex-shrink-0","flex","items-center","justify-center","w-16","text-xl","font-medium","rounded-l-md",3,"ngStyle"],[1,"flex-1","flex","items-center","justify-between","rounded-r-md","truncate","py-2"],[1,"flex-1","px-4","py-2","text-sm","truncate"],[1,"text-gray-500","text-xs","font-medium"],[1,"text-gray-500","mt-2"],[1,"text-red-500"],[1,"text-gray-500"],[1,"text-green-600"],["type","button",1,"inline-flex","items-center","px-2.5","py-1.5","border","border-transparent","text-xs","font-medium","rounded","text-red-700","bg-red-100","hover:bg-red-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],["mat-header-cell","","mat-sort-header",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-footer-cell",""],["class","text-red-500 flex items-center",4,"ngIf"],[4,"ngIf"],[1,"text-red-500","flex","items-center"],[1,"text-base","text-red-500","mr-1"],[1,"py-2"],["class","text-green-600 flex items-center",4,"ngIf"],[1,"text-green-600","flex","items-center"],[1,"text-base","text-green-600","mr-1"],[1,"capitalize","underline","text-indigo-500",3,"routerLink"],["class","text-gray-500",4,"ngIf"],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","aria-label","expand row",3,"click"],[1,"detail"],[1,"py-4","px-1"],[1,"w-full","relative","divide-x","divide-gray-300","px-4","space-x-3","rounded-lg","border","border-gray-200","bg-yellow-50","py-4","shadow-md","flex","focus-within:ring-2","focus-within:ring-offset-2","focus-within:ring-indigo-500"],["class","flex-1 min-w-0 ",4,"ngIf"],["class","flex-1 pl-4 min-w-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"text-gray-400","mb-2"],[1,"focus:outline-none",3,"routerLink"],[1,"text-justify",3,"data"],[1,"flex-1","pl-4","min-w-0"],["role","list",1,"divide-y","divide-gray-200"],[1,"py-2","flex-col"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-gray-500",3,"data"],["mat-header-row",""],["mat-row","",1,"row",3,"click"],["mat-footer-row",""],["mat-row","",1,"example-detail-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,n){1&t&&(e.YNc(0,Re,1,0,"app-loader",0),e.YNc(1,Bt,91,12,"main",1)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[_.O5,ee.R,Ge.S,C.rH,$.Hw,_.sg,_.PC,b.BZ,b.w1,b.fO,b.ge,Ze.oG,b.Dz,b.ev,b.mD,b.yh,C.yS,Te.lF,b.as,b.XQ,b.nj,b.Gk,b.Ke,b.Q2,b.Ee],pipes:[_.Nd,_.H9,_.uU],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.detail[_ngcontent-%COMP%]{overflow:hidden}.diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0}.symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.description[_ngcontent-%COMP%]{padding:16px}.description-attribution[_ngcontent-%COMP%]{opacity:.5}tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:700}.mat-table-sticky[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}.example-detail[_ngcontent-%COMP%]{overflow:hidden}"],data:{animation:[(0,Q.X$)("detailExpand",[(0,Q.SB)("collapsed",(0,Q.oB)({height:"0px",minHeight:"0"})),(0,Q.SB)("expanded",(0,Q.oB)({height:"*"})),(0,Q.eR)("expanded <=> collapsed",(0,Q.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})(),pathMatch:"full"},{path:"edit/:expenseId",component:be,pathMatch:"full"},{path:"add",component:be,pathMatch:"full"},{path:"category",loadChildren:()=>Promise.resolve().then(p.bind(p,1707)).then(o=>o.CategoryModule)}];let Yt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[C.Bz.forChild(Mt)],C.Bz]}),o})();var Qt=p(2096),Gt=p(1707);let Rt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[_.ez,Yt,Qt.x,$.Ps,W.FA,i.u5,i.UX,b.p0,Te.JP,J.To,Gt.CategoryModule,Ze.p9]]}),o})()},8080:(z,U,p)=>{var T=B(p(6301)),S=B(p(9386));function B(F){return F&&F.__esModule?F:{default:F}}var I=["50","100","200","300","400","500","600","700","800","900"],G="rgba(255, 255, 255, 1)",M="rgba(0, 0, 0, 0.87)";function P(F){var N=(0,T.default)(F);return S.default[N%S.default.length]}U.Z=function e(F){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,k=""+N;I.includes(k)||(k="500");var Y=P(F);return{backgroundColor:Y.shades[k],color:parseInt(k,10)>=Y.whiteBreakpoint?G:M,materialColorName:Y.name}}},9386:(z,U)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=[{shades:{50:"#FFEBEE",100:"#FFCDD2",200:"#EF9A9A",300:"#E57373",400:"#EF5350",500:"#F44336",600:"#E53935",700:"#D32F2F",800:"#C62828",900:"#B71C1C"},name:"Red",whiteBreakpoint:400},{shades:{50:"#FCE4EC",100:"#F8BBD0",200:"#F48FB1",300:"#F06292",400:"#EC407A",500:"#E91E63",600:"#D81B60",700:"#C2185B",800:"#AD1457",900:"#880E4F"},name:"Pink",whiteBreakpoint:300},{shades:{50:"#F3E5F5",100:"#E1BEE7",200:"#CE93D8",300:"#BA68C8",400:"#AB47BC",500:"#9C27B0",600:"#8E24AA",700:"#7B1FA2",800:"#6A1B9A",900:"#4A148C"},name:"Purple",whiteBreakpoint:300},{shades:{50:"#EDE7F6",100:"#D1C4E9",200:"#B39DDB",300:"#9575CD",400:"#7E57C2",500:"#673AB7",600:"#5E35B1",700:"#512DA8",800:"#4527A0",900:"#311B92"},name:"Deep Purple",whiteBreakpoint:300},{shades:{50:"#E8EAF6",100:"#C5CAE9",200:"#9FA8DA",300:"#7986CB",400:"#5C6BC0",500:"#3F51B5",600:"#3949AB",700:"#303F9F",800:"#283593",900:"#1A237E"},name:"Indigo",whiteBreakpoint:300},{shades:{50:"#E3F2FD",100:"#BBDEFB",200:"#90CAF9",300:"#64B5F6",400:"#42A5F5",500:"#2196F3",600:"#1E88E5",700:"#1976D2",800:"#1565C0",900:"#0D47A1"},name:"Blue",whiteBreakpoint:500},{shades:{50:"#E1F5FE",100:"#B3E5FC",200:"#81D4FA",300:"#4FC3F7",400:"#29B6F6",500:"#03A9F4",600:"#039BE5",700:"#0288D1",800:"#0277BD",900:"#01579B"},name:"Light Blue",whiteBreakpoint:600},{shades:{50:"#E0F7FA",100:"#B2EBF2",200:"#80DEEA",300:"#4DD0E1",400:"#26C6DA",500:"#00BCD4",600:"#00ACC1",700:"#0097A7",800:"#00838F",900:"#006064"},name:"Cyan",whiteBreakpoint:700},{shades:{50:"#E0F2F1",100:"#B2DFDB",200:"#80CBC4",300:"#4DB6AC",400:"#26A69A",500:"#009688",600:"#00897B",700:"#00796B",800:"#00695C",900:"#004D40"},name:"Teal",whiteBreakpoint:500},{shades:{50:"#E8F5E9",100:"#C8E6C9",200:"#A5D6A7",300:"#81C784",400:"#66BB6A",500:"#4CAF50",600:"#43A047",700:"#388E3C",800:"#2E7D32",900:"#1B5E20"},name:"Green",whiteBreakpoint:600},{shades:{50:"#F1F8E9",100:"#DCEDC8",200:"#C5E1A5",300:"#AED581",400:"#9CCC65",500:"#8BC34A",600:"#7CB342",700:"#689F38",800:"#558B2F",900:"#33691E"},name:"Light Green",whiteBreakpoint:600},{shades:{50:"#F9FBE7",100:"#F0F4C3",200:"#E6EE9C",300:"#DCE775",400:"#D4E157",500:"#CDDC39",600:"#C0CA33",700:"#AFB42B",800:"#9E9D24",900:"#827717"},name:"Lime",whiteBreakpoint:900},{shades:{50:"#FFFDE7",100:"#FFF9C4",200:"#FFF59D",300:"#FFF176",400:"#FFEE58",500:"#FFEB3B",600:"#FDD835",700:"#FBC02D",800:"#F9A825",900:"#F57F17"},name:"Yellow",whiteBreakpoint:9999},{shades:{50:"#FFF8E1",100:"#FFECB3",200:"#FFE082",300:"#FFD54F",400:"#FFCA28",500:"#FFC107",600:"#FFB300",700:"#FFA000",800:"#FF8F00",900:"#FF6F00"},name:"Amber",whiteBreakpoint:9999},{shades:{50:"#FFF3E0",100:"#FFE0B2",200:"#FFCC80",300:"#FFB74D",400:"#FFA726",500:"#FF9800",600:"#FB8C00",700:"#F57C00",800:"#EF6C00",900:"#E65100"},name:"Orange",whiteBreakpoint:800},{shades:{50:"#FBE9E7",100:"#FFCCBC",200:"#FFAB91",300:"#FF8A65",400:"#FF7043",500:"#FF5722",600:"#F4511E",700:"#E64A19",800:"#D84315",900:"#BF360C"},name:"Deep Orange",whiteBreakpoint:500},{shades:{50:"#EFEBE9",100:"#D7CCC8",200:"#BCAAA4",300:"#A1887F",400:"#8D6E63",500:"#795548",600:"#6D4C41",700:"#5D4037",800:"#4E342E",900:"#3E2723"},name:"Brown",whiteBreakpoint:300},{shades:{50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},name:"Grey",whiteBreakpoint:600},{shades:{50:"#ECEFF1",100:"#CFD8DC",200:"#B0BEC5",300:"#90A4AE",400:"#78909C",500:"#607D8B",600:"#546E7A",700:"#455A64",800:"#37474F",900:"#263238"},name:"Blue Grey",whiteBreakpoint:300}]},6301:z=>{z.exports=function U(p){for(var _=5381,C=p.length;C;)_=33*_^p.charCodeAt(--C);return _>>>0}}}]);