"use strict";(self.webpackChunkRestaurant=self.webpackChunkRestaurant||[]).push([[205],{5205:(Me,C,g)=>{g.r(C),g.d(C,{DishesModule:()=>Ge});var f=g(9808),u=g(3075),T=g(5245),G=g(2096),_=g(9826),A=g(5861),k=g(4987),M=g(9421),e=g(5e3),F=g(8734),Q=g(8966),D=g(5045),q=g(6444),U=g(8814),E=g(4011);function O(i,s){1&i&&e._UZ(0,"app-loader",4)}function L(i,s){1&i&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"span",9)(5,"mat-icon",10),e._uU(6," info"),e.qZA()(),e.TgZ(7,"p",11)(8,"span"),e._uU(9,"Your dish is not published, means it won't be visible to the users."),e.qZA()()()()()())}function Y(i,s){1&i&&(e.TgZ(0,"div",81),e._uU(1,"Name is invalid"),e.qZA())}function B(i,s){1&i&&(e.TgZ(0,"div",81),e._uU(1,"Type is invalid"),e.qZA())}function H(i,s){1&i&&(e.TgZ(0,"div",81),e._uU(1,"Description is invalid"),e.qZA())}function j(i,s){1&i&&(e.O4$(),e.TgZ(0,"svg",82),e._UZ(1,"path",83),e.qZA())}function z(i,s){if(1&i&&e._UZ(0,"img",84),2&i){const t=e.oxw(2);e.Q6J("src",t.getImage(),e.LSH)}}function R(i,s){1&i&&(e.TgZ(0,"span",93),e._uU(1,"Name is invalid"),e.qZA())}function V(i,s){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,R,2,0,"span",104),e.qZA()),2&i){const t=e.oxw().index,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.getFormError(t,"required","name","category"))}}function P(i,s){1&i&&(e.TgZ(0,"span",93),e._uU(1,"Price is invalid"),e.qZA())}function W(i,s){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,P,2,0,"span",104),e.qZA()),2&i){const t=e.oxw().index,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.getFormError(t,"required","price","category"))}}const v=function(i,s){return{"border-2 border-red-500":i,"border-gray-300":s}};function $(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",85)(1,"div",86)(2,"div",87)(3,"label",88),e._uU(4," Name "),e.qZA(),e.TgZ(5,"div",32),e._UZ(6,"input",89),e.qZA(),e.YNc(7,V,2,1,"span",90),e.qZA(),e.TgZ(8,"div",91)(9,"label",92),e._uU(10," Price "),e.TgZ(11,"span",93),e._uU(12),e.qZA()(),e.TgZ(13,"div",32),e._UZ(14,"input",94),e.YNc(15,W,2,1,"span",90),e.qZA()(),e.TgZ(16,"div",87)(17,"label",95),e._uU(18," Quantity "),e.qZA(),e.TgZ(19,"div",32),e._UZ(20,"input",96),e.qZA()(),e.TgZ(21,"div",97)(22,"label",98),e._uU(23," \xa0 "),e.qZA(),e.TgZ(24,"button",99),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).deleteSubForm(r,"category")}),e.TgZ(25,"mat-icon",100),e._uU(26,"remove"),e.qZA()()(),e.TgZ(27,"div",101)(28,"label",98),e._uU(29," \xa0 "),e.qZA(),e.TgZ(30,"div",102)(31,"button",103),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).deleteSubForm(r,"category")}),e.TgZ(32,"mat-icon",20),e._uU(33," remove"),e.qZA(),e._uU(34," Remove "),e.qZA()()()()()}if(2&i){const t=s.index,o=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(5),e.Q6J("ngClass",e.WLB(6,v,o.checkForFormErrors(t,"name","category"),!o.checkForFormErrors(t,"name","category"))),e.xp6(1),e.Q6J("ngIf",o.checkForFormErrors(t,"name","category")),e.xp6(5),e.hij("(",o.getCurrency(),")"),e.xp6(2),e.Q6J("ngClass",e.WLB(9,v,o.checkForFormErrors(t,"price","category"),!o.checkForFormErrors(t,"price","category"))),e.xp6(1),e.Q6J("ngIf",o.checkForFormErrors(t,"price","category"))}}const K=function(){return["./../../","menu","add"]};function X(i,s){1&i&&(e.TgZ(0,"div",105)(1,"button",106)(2,"mat-icon",107),e._uU(3,"menu_book"),e.qZA(),e.TgZ(4,"span",108),e._uU(5,"No menu found."),e.qZA(),e.TgZ(6,"button",109),e._uU(7," Create one "),e.TgZ(8,"mat-icon",110),e._uU(9," east "),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,K)))}function ee(i,s){1&i&&(e.TgZ(0,"div",111)(1,"mat-icon",112),e._uU(2," menu_book"),e.qZA(),e.TgZ(3,"span",113),e._uU(4," No menu added, search to add. "),e.qZA()())}function te(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",114)(1,"div",115),e._uU(2),e.TgZ(3,"button",116),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removeMenu(r)}),e.TgZ(4,"span",117),e._uU(5,"Remove"),e.qZA(),e.O4$(),e.TgZ(6,"svg",118),e._UZ(7,"path",119),e.qZA()()()()}if(2&i){const t=s.index,o=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.hij(" ",o.getMenu(t)," ")}}function oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",123),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(4).addMenu(r)}),e.TgZ(1,"span",124),e._uU(2),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Oqu(null==t?null:t.name)}}function ie(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,oe,3,1,"li",122),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.filteredMenus)}}function ne(i,s){if(1&i&&(e.TgZ(0,"div",120)(1,"ul",121),e.YNc(2,ie,2,1,"div",90),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.filteredMenus&&t.filteredMenus.length>0)}}function re(i,s){1&i&&(e.TgZ(0,"div",125),e._uU(1," Select at least one menu. "),e.qZA())}function se(i,s){1&i&&(e.TgZ(0,"div",126)(1,"mat-icon",112),e._uU(2," sell"),e.qZA(),e.TgZ(3,"span",113),e._uU(4," No tags added, search to add."),e.qZA()())}function le(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",127)(1,"div",115),e._uU(2),e.TgZ(3,"button",116),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removetags(r)}),e.TgZ(4,"span",117),e._uU(5,"Remove"),e.qZA(),e.O4$(),e.TgZ(6,"svg",118),e._UZ(7,"path",119),e.qZA()()()()}if(2&i){const t=s.index,o=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.hij(" ",o.getTags(t)," ")}}function de(i,s){1&i&&(e.TgZ(0,"h1",129),e._uU(1,"Loading..."),e.qZA())}function ae(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",123),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(4).addTag(r)}),e.TgZ(1,"span",124),e._uU(2),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Oqu(null==t?null:t.name)}}function ue(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ae,3,1,"li",130),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.tagList)}}function ce(i,s){if(1&i&&(e.TgZ(0,"div",120)(1,"ul",121),e.YNc(2,de,2,0,"h1",128),e.YNc(3,ue,2,1,"div",90),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.searchingTags),e.xp6(1),e.Q6J("ngIf",t.tagList&&t.tagList.length>0)}}function ge(i,s){1&i&&(e.TgZ(0,"div",125),e._uU(1," Select at least one tag. "),e.qZA())}function me(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",131),e.NdJ("click",function(n){return e.CHM(t),e.oxw(2).showAddTagDialog=!0,n.stopPropagation()}),e._uU(1," Unable to find the tag, "),e.TgZ(2,"u"),e._uU(3,"click"),e.qZA(),e._uU(4," to add one. "),e.qZA()}}function pe(i,s){1&i&&(e.TgZ(0,"div",81),e._uU(1,"Tag name is invalid"),e.qZA())}const fe=function(i,s){return{"ease-out duration-300 opacity-100":i,"ease-in duration-200 opacity-0":s}},_e=function(i,s){return{"ease-out duration-300 opacity-100 scale-100":i,"ease-in duration-200 opacity-0 scale-95":s}};function he(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",132)(1,"div",133),e._UZ(2,"div",134),e.TgZ(3,"div",135)(4,"div",136),e.NdJ("clickOutside",function(){return e.CHM(t),e.oxw(2).showAddTagDialog=!1}),e.TgZ(5,"form",14)(6,"h2",137),e._uU(7," Add Tag"),e.qZA(),e.TgZ(8,"div",138)(9,"div",139)(10,"label",140),e._uU(11,"Tag name"),e.qZA(),e._UZ(12,"input",141),e.YNc(13,pe,2,0,"div",34),e.qZA()(),e.TgZ(14,"div",142)(15,"button",143),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showAddTagDialog=!1}),e._uU(16," Cancel "),e.qZA(),e.TgZ(17,"button",144),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).createTag()}),e._uU(18," Add "),e.qZA()()()()()()()}if(2&i){const t=e.oxw(2);let o,n;e.xp6(2),e.Q6J("ngClass",e.WLB(6,fe,t.showAddTagDialog,!t.showAddTagDialog)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,_e,t.showAddTagDialog,!t.showAddTagDialog)),e.xp6(2),e.Q6J("formGroup",t.tagAddFormGroup),e.xp6(7),e.Q6J("ngClass",e.WLB(12,v,(null==(o=t.tagAddFormGroup.get("name"))?null:o.errors)&&((null==(o=t.tagAddFormGroup.get("name"))?null:o.touched)||(null==(o=t.tagAddFormGroup.get("name"))?null:o.dirty)),!(null!=(o=t.tagAddFormGroup.get("name"))&&o.errors&&(null!=(o=t.tagAddFormGroup.get("name"))&&o.touched||null!=(o=t.tagAddFormGroup.get("name"))&&o.dirty)))),e.xp6(1),e.Q6J("ngIf",(null==(n=t.tagAddFormGroup.get("name"))||null==n.errors?null:n.errors.required)&&(null==(n=t.tagAddFormGroup.get("name"))?null:n.errors)&&((null==(n=t.tagAddFormGroup.get("name"))?null:n.touched)||(null==(n=t.tagAddFormGroup.get("name"))?null:n.dirty))),e.xp6(4),e.Q6J("disabled",t.tagAddFormGroup.invalid)}}const Z=function(i,s){return{" border-2 border-red-500":i,"border-gray-300":s}},xe=function(i,s){return{"bg-indigo-600":i,"bg-gray-200":s}},ve=function(i,s){return{"translate-x-5":i,"translate-x-0":s}};function be(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"form",14)(3,"div",15)(4,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().goBackback()}),e.TgZ(5,"mat-icon",17),e._uU(6," arrow_back"),e.qZA(),e._uU(7," Back "),e.qZA(),e.TgZ(8,"div",18)(9,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.saveDish(n.publish?"Unpublish":"Publish")}),e.TgZ(10,"mat-icon",20),e._uU(11," publish"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveDish()}),e.TgZ(14,"mat-icon",20),e._uU(15," save"),e.qZA(),e._uU(16," Save"),e.qZA()()(),e.TgZ(17,"div",22)(18,"div",23)(19,"section",24)(20,"div",25)(21,"div",26)(22,"h2",27),e._uU(23," Dish Information"),e.qZA(),e.TgZ(24,"p",28),e._uU(25," This information will be displayed publicly so be careful what you write."),e.qZA()(),e.TgZ(26,"div",29)(27,"div",30)(28,"label",31),e._uU(29," Name "),e.qZA(),e.TgZ(30,"div",32),e._UZ(31,"input",33),e.qZA(),e.YNc(32,Y,2,0,"div",34),e.qZA(),e.TgZ(33,"div",30)(34,"label",35),e._uU(35," Type "),e.qZA(),e.TgZ(36,"div",32)(37,"select",36)(38,"option",37),e._uU(39,"Veg"),e.qZA(),e.TgZ(40,"option",38),e._uU(41,"Non Veg"),e.qZA()(),e.YNc(42,B,2,0,"div",34),e.qZA()(),e.TgZ(43,"div",39)(44,"label",40),e._uU(45," Description "),e.qZA(),e.TgZ(46,"div",32),e._UZ(47,"textarea",41),e.YNc(48,H,2,0,"div",34),e.qZA()(),e.TgZ(49,"div",42)(50,"label",43),e._uU(51," Stock "),e.qZA(),e.TgZ(52,"div",44)(53,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleStock()}),e._UZ(54,"span",46),e.qZA(),e.TgZ(55,"span",47),e._uU(56,"(click to toggle)"),e.qZA()()(),e.TgZ(57,"div",30)(58,"label",48),e._uU(59," Photo "),e.qZA(),e.TgZ(60,"div",49)(61,"span",50),e.YNc(62,j,2,0,"svg",51),e.YNc(63,z,1,1,"img",52),e.qZA(),e.TgZ(64,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeImage()}),e._uU(65," Change "),e.qZA()()(),e.TgZ(66,"div",54)(67,"label",55),e._uU(68," Variations "),e.qZA(),e.YNc(69,$,35,12,"div",56),e.TgZ(70,"div",57)(71,"label",58),e._uU(72," \xa0 "),e.qZA(),e.TgZ(73,"div",59)(74,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw().addDishCategory()}),e.TgZ(75,"mat-icon",20),e._uU(76," add"),e.qZA(),e._uU(77," Add more variations "),e.qZA()()()()()()()(),e.TgZ(78,"section",61)(79,"div",62)(80,"h2",63),e._uU(81,"Other Information"),e.qZA(),e.TgZ(82,"div",64)(83,"label",65),e._uU(84,"Menus"),e.qZA(),e.YNc(85,X,10,2,"div",66),e.TgZ(86,"div",67),e.YNc(87,ee,5,0,"div",68),e.YNc(88,te,8,2,"div",69),e.qZA(),e.TgZ(89,"div",70)(90,"span",71)(91,"input",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().showMenuListDropDown=!0})("clickOutside",function(){return e.CHM(t),e.oxw().menuListClose()})("keyup",function(n){return e.CHM(t),e.oxw().searchMenu(n.target.value)}),e.qZA()(),e.YNc(92,ne,3,1,"div",73),e.YNc(93,re,2,0,"div",74),e.qZA()(),e.TgZ(94,"div",64)(95,"label",65),e._uU(96,"Tags"),e.qZA(),e.TgZ(97,"div",75),e.YNc(98,se,5,0,"div",76),e.YNc(99,le,8,2,"div",77),e.qZA(),e.TgZ(100,"div",70)(101,"span",71)(102,"input",78),e.NdJ("click",function(){return e.CHM(t),e.oxw().showTagsListDropDown=!0})("clickOutside",function(){return e.CHM(t),e.oxw().tagListClose()})("keyup",function(n){return e.CHM(t),e.oxw().searchTags(n.target.value)}),e.qZA()(),e.YNc(103,ce,4,2,"div",73),e.YNc(104,ge,2,0,"div",74),e.YNc(105,me,5,0,"div",79),e.qZA()()()()()(),e.YNc(106,he,19,15,"div",80),e.qZA()()}if(2&i){const t=e.oxw();let o,n,r,l,d,c,a,m,b,p,x,h,y,w;e.xp6(2),e.Q6J("formGroup",t.dishFormGroup),e.xp6(7),e.Q6J("disabled",t.dishFormGroup.invalid),e.xp6(3),e.hij(" ",t.publish?"Unpublish":"Publish",""),e.xp6(1),e.Q6J("disabled",t.dishFormGroup.invalid),e.xp6(18),e.Q6J("ngClass",e.WLB(28,Z,(null==(o=t.dishFormGroup.get("name"))?null:o.errors)&&((null==(o=t.dishFormGroup.get("name"))?null:o.touched)||(null==(o=t.dishFormGroup.get("name"))?null:o.dirty)),!(null!=(o=t.dishFormGroup.get("description"))&&o.errors&&(null!=(o=t.dishFormGroup.get("name"))&&o.touched||null!=(o=t.dishFormGroup.get("name"))&&o.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(n=t.dishFormGroup.get("name"))?null:n.touched)||(null==(n=t.dishFormGroup.get("name"))?null:n.dirty))&&(null==(n=t.dishFormGroup.get("name"))||null==n.errors?null:n.errors.required)),e.xp6(5),e.Q6J("ngClass",e.WLB(31,Z,(null==(r=t.dishFormGroup.get("type"))?null:r.errors)&&((null==(r=t.dishFormGroup.get("type"))?null:r.touched)||(null==(r=t.dishFormGroup.get("type"))?null:r.dirty)),!(null!=(r=t.dishFormGroup.get("type"))&&r.errors&&(null!=(r=t.dishFormGroup.get("type"))&&r.touched||null!=(r=t.dishFormGroup.get("type"))&&r.dirty)))),e.xp6(5),e.Q6J("ngIf",((null==(l=t.dishFormGroup.get("type"))?null:l.touched)||(null==(l=t.dishFormGroup.get("type"))?null:l.dirty))&&(null==(l=t.dishFormGroup.get("type"))||null==l.errors?null:l.errors.required)),e.xp6(5),e.Q6J("ngClass",e.WLB(34,Z,(null==(d=t.dishFormGroup.get("description"))?null:d.errors)&&((null==(d=t.dishFormGroup.get("description"))?null:d.touched)||(null==(d=t.dishFormGroup.get("description"))?null:d.dirty)),!(null!=(d=t.dishFormGroup.get("description"))&&d.errors&&(null!=(d=t.dishFormGroup.get("description"))&&d.touched||null!=(d=t.dishFormGroup.get("description"))&&d.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(c=t.dishFormGroup.get("description"))?null:c.touched)||(null==(c=t.dishFormGroup.get("description"))?null:c.dirty))&&(null==(c=t.dishFormGroup.get("description"))||null==c.errors?null:c.errors.required)),e.xp6(5),e.Q6J("ngClass",e.WLB(37,xe,1==(null==(a=t.dishFormGroup.get("inStock"))?null:a.value),0==(null==(a=t.dishFormGroup.get("inStock"))?null:a.value))),e.xp6(1),e.Q6J("ngClass",e.WLB(40,ve,1==(null==(m=t.dishFormGroup.get("inStock"))?null:m.value),0==(null==(m=t.dishFormGroup.get("inStock"))?null:m.value))),e.xp6(8),e.Q6J("ngIf",!t.selectedImage&&!t.imageFromApi),e.xp6(1),e.Q6J("ngIf",t.selectedImage||t.imageFromApi),e.xp6(6),e.Q6J("ngForOf",t.getFormControl("category").controls),e.xp6(16),e.Q6J("ngIf",0==(null==t.getFormControl("menus").controls?null:t.getFormControl("menus").controls.length)&&0==(null==t.menus?null:t.menus.length)),e.xp6(2),e.Q6J("ngIf",0==(null==t.getFormControl("menus").controls?null:t.getFormControl("menus").controls.length)&&t.menus.length>0),e.xp6(1),e.Q6J("ngForOf",null==(b=t.getFormControl("menus"))?null:b.controls),e.xp6(3),e.Q6J("ngClass",e.WLB(43,v,(null==(p=t.dishFormGroup.get("menus"))?null:p.hasError("notValid"))&&(null==(p=t.dishFormGroup.get("menus"))?null:p.touched),!(null!=(p=t.dishFormGroup.get("menus"))&&p.hasError("notValid")&&null!=(p=t.dishFormGroup.get("menus"))&&p.touched))),e.xp6(1),e.Q6J("ngIf",t.showMenuListDropDown),e.xp6(1),e.Q6J("ngIf",(null==(x=t.dishFormGroup.get("menus"))?null:x.hasError("notValid"))&&(null==(x=t.dishFormGroup.get("menus"))?null:x.touched)),e.xp6(5),e.Q6J("ngIf",0==(null==t.getFormControl("tags").controls?null:t.getFormControl("tags").controls.length)),e.xp6(1),e.Q6J("ngForOf",t.getFormControl("tags").controls),e.xp6(3),e.Q6J("ngClass",e.WLB(46,v,(null==(h=t.dishFormGroup.get("tags"))?null:h.hasError("notValid"))&&(null==(h=t.dishFormGroup.get("tags"))?null:h.touched),!(null!=(h=t.dishFormGroup.get("tags"))&&h.hasError("notValid")&&null!=(h=t.dishFormGroup.get("tags"))&&h.touched))),e.xp6(1),e.Q6J("ngIf",t.showTagsListDropDown),e.xp6(1),e.Q6J("ngIf",(null==(y=t.dishFormGroup.get("tags"))?null:y.hasError("notValid"))&&(null==(y=t.dishFormGroup.get("tags"))?null:y.touched)),e.xp6(1),e.Q6J("ngIf",!(null!=(w=t.dishFormGroup.get("tags"))&&w.hasError("notValid")&&null!=(w=t.dishFormGroup.get("tags"))&&w.touched)),e.xp6(1),e.Q6J("ngIf",t.showAddTagDialog)}}let S=(()=>{class i{constructor(t,o,n,r,l,d,c,a){this._location=t,this.adminService=o,this.route=n,this.dialog=r,this.formBuilder=l,this.router=d,this.mainService=c,this.restaurantService=a,this.loading=!0,this.searchingTagName="",this.searchingTags=!1,this.showTagsListDropDown=!1,this.showMenuListDropDown=!1,this.menus=[],this.filteredMenus=[],this.formdata=new FormData,this.showAddTagDialog=!1,this.publish="",this.tagAddFormGroup=this.formBuilder.group({name:["",[u.kI.required]]}),this.dishFormGroup=this.formBuilder.group({name:["",[u.kI.required]],description:["",[u.kI.required]],price:["",[]],inStock:[!0,[u.kI.required]],type:["",[u.kI.required]],tags:this.formBuilder.array([],{validators:J}),menus:this.formBuilder.array([],{validators:J}),category:this.formBuilder.array([])}),this.debounce=(m,b=500)=>{let p;return function(...x){clearTimeout(p),p=setTimeout(()=>m.apply(this,x),b)}},this.updateState=()=>{this.showTagsListDropDown=!0,this.adminService.searchTags(this.searchingTagName).then(m=>{this.searchingTags=!1,this.tagList=m.data}).catch(m=>{this.searchingTags=!1,this.showTagsListDropDown=!1,this.mainService.openDialog("Error",this.mainService.errorMessage(m),"E")})},this.debouncedUpdate=this.debounce(this.updateState)}ngOnInit(){var t;this.addDishCategoryToFormArray();const o=this.restaurantService.getRestaurantSlug();o&&(this.getSingleRestaurantMenu(o),null===(t=this.route)||void 0===t||t.params.subscribe(n=>{n.dishId?this.getSingleDish(o,n.dishId):(this.addDishCategory(),this.loading=!1)}),this.routeQueryParams$=this.route.queryParams.subscribe(n=>{n.showImageDialog&&this.openEditImageModal()}))}saveDish(t="Publish"){var n,o=this;this.loading=!0;const r=this.restaurantService.getRestaurantSlug();r&&(null===(n=this.route)||void 0===n||n.params.subscribe(function(){var l=(0,A.Z)(function*(d){const c={name:o.dishFormGroup.value.name,description:o.dishFormGroup.value.description,price:Math.min.apply(Math,o.dishFormGroup.value.category.map(a=>a.price)),inStock:o.dishFormGroup.value.inStock,type:o.dishFormGroup.value.type,tags:o.dishFormGroup.value.tags.map(a=>a.id),menus:o.dishFormGroup.value.menus.map(a=>a.id),category:o.dishFormGroup.value.category,publishedAt:"Publish"==t?new Date:null};if(c.category=c.category.map(a=>(a.id||null==a||delete a.id,a)),d.dishId)o.selectedImage?(o.formdata.delete("data"),o.formdata.append("data",JSON.stringify(c)),o.adminService.updateDish(o.formdata,r,d.dishId).then(a=>{o.loading=!1,o.mainService.openDialog("Success","Dish Updated Successfully","S",!0)}).catch(a=>{o.loading=!1,console.log("Error",a),o.mainService.openDialog("Error",o.mainService.errorMessage(a),"E")})):o.adminService.updateDish(c,r,d.dishId).then(a=>{o.loading=!1,o.mainService.openDialog("Success","Dish Updated Successfully","S",!0)}).catch(a=>{o.loading=!1,console.log("Error",a),o.mainService.openDialog("Error",o.mainService.errorMessage(a),"E")});else{const a=o.restaurantService.getRestaurantSlug();if(a){if(!o.selectedImage)return void o.mainService.openDialog("Error","Please upload image","E");o.formdata.delete("data"),o.formdata.append("data",JSON.stringify(c)),o.adminService.addDish(o.formdata,a).then(m=>{o.loading=!1,o.mainService.openDialog("Success","Dish Added Successfully with id : "+m.data.id,"S",!0)}).catch(m=>{o.loading=!1,console.log("Error",m),o.mainService.openDialog("Error",o.mainService.errorMessage(m),"E")})}}});return function(d){return l.apply(this,arguments)}}()))}createTag(){this.loading=!0,this.adminService.addTag({data:this.tagAddFormGroup.value}).then(t=>{this.showAddTagDialog=!1,this.mainService.openDialog("Success","Tag Added Successfully","S"),this.tagAddFormGroup.reset(),this.loading=!1}).catch(t=>{this.loading=!1,console.log(t),this.mainService.openDialog("Error",this.mainService.errorMessage(t),"E")})}getSingleDish(t,o){this.loading=!0,this.adminService.getSingleDish(t,o).then(n=>{const r=n.data;r?(this.dishFormGroup.patchValue({name:null==r?void 0:r.name,description:null==r?void 0:r.description,price:null==r?void 0:r.price,inStock:null==r?void 0:r.inStock,type:null==r?void 0:r.type,currency:null==r?void 0:r.currency}),this.publish=null==r?void 0:r.publishedAt,r.tags.forEach(l=>{this.tags.push(this.formBuilder.group(l))}),r.menus.forEach(l=>{this.menu.push(this.formBuilder.group(l))}),r.category.forEach(l=>{this.category.push(this.formBuilder.group({id:null==l?void 0:l.id,name:null==l?void 0:l.name,price:null==l?void 0:l.price,metadata:null==l?void 0:l.metadata}))}),(null==r?void 0:r.image)&&(this.imageFromApi=this.mainService.getImageUrl(r.image?r.image[0]:"",k.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)),this.loading=!1):(this.loading=!1,this.mainService.openDialog("Error",this.mainService.errorMessage("No data found",!0),"E",!1,!0))}).catch(n=>{this.loading=!1,console.log("Error",n),this.mainService.openDialog("Error",this.mainService.errorMessage(n),"E",!1,!0)})}getSingleRestaurantMenu(t){this.loading=!0,this.adminService.getSingleRestaurantMenu(t).then(o=>{this.menus=o.data,this.menus?this.filteredMenus=this.menus:this.mainService.openDialog("Error",this.mainService.errorMessage("No data found",!0),"E",!1,!0),this.loading=!1}).catch(o=>{this.loading=!1,console.log("Error",o),this.mainService.openDialog("Error",this.mainService.errorMessage(o),"E",!1,!0)})}searchMenu(t){this.showMenuListDropDown=!0;const o=t.toLowerCase();this.filteredMenus=this.menus.filter(n=>n.name.toLowerCase().includes(o))}get menu(){return this.dishFormGroup.get("menus")}removeMenu(t){this.menu.removeAt(t)}getMenu(t){return this.menu.at(t).value.name}addMenu(t){this.menu.controls.find(o=>o.value.id==t.id)||this.menu.push(this.formBuilder.group({name:t.name,id:t.id}))}menuListClose(){var t;this.showMenuListDropDown&&(this.showMenuListDropDown=!1,null===(t=this.dishFormGroup.get("menus"))||void 0===t||t.markAllAsTouched())}get tags(){return this.dishFormGroup.get("tags")}removetags(t){this.tags.removeAt(t)}getTags(t){return this.tags.at(t).value.name}checkErrorFormGroupArray(t,o){return this.dishFormGroup.get(t).controls[0].invalid}addTag(t){this.tags.controls.find(o=>o.value.id==t.id)||(this.tags.push(this.formBuilder.group({name:t.name,id:t.id})),this.showTagsListDropDown=!1)}searchTags(t){this.showTagsListDropDown=!0,this.searchingTags=!0,t&&(null==t?void 0:t.length)>=2?(this.searchingTagName=t,this.debouncedUpdate()):this.showTagsListDropDown=!1}tagListClose(){var t;this.showTagsListDropDown&&(this.showTagsListDropDown=!1,null===(t=this.dishFormGroup.get("tags"))||void 0===t||t.markAllAsTouched())}get category(){return this.dishFormGroup.get("category")}addDishCategoryToFormArray(){return this.formBuilder.group({id:[""],name:["",[u.kI.required]],price:["",[u.kI.required]],metadata:[""]})}addDishCategory(){this.category.push(this.addDishCategoryToFormArray())}deleteSubForm(t,o){this.dishFormGroup.get(o).removeAt(t)}checkForFormErrors(t,o,n){var r,l,d;let c=this.getFormArray(n);return!(!(null===(r=c.controls[t].get(o))||void 0===r?void 0:r.errors)||!(null===(l=c.controls[t].get(o))||void 0===l?void 0:l.touched)&&!(null===(d=c.controls[t].get(o))||void 0===d?void 0:d.dirty))}getFormArray(t){return this.dishFormGroup.get(t)}getFormError(t,o,n,r){var l,d;return(null===(d=null===(l=this.getFormArray(r).controls[t].get(n))||void 0===l?void 0:l.errors)||void 0===d?void 0:d[o])||!1}getFormControl(t){return this.dishFormGroup.get(t)}goBackback(){this._location.back()}changeImage(){this.router.navigate([],{queryParams:{showImageDialog:!0},relativeTo:this.route})}openEditImageModal(){var t=this;this.dialog.open(M.D,{data:{image:""},panelClass:"custom-editDishmodalbox"}).afterClosed().subscribe(function(){var n=(0,A.Z)(function*(r){(null==r?void 0:r.image)&&(t.formdata.delete("files.image"),t.selectedImage=null==r?void 0:r.base64,t.formdata.append("files.image",null==r?void 0:r.image,r.name)),t._location.back()});return function(r){return n.apply(this,arguments)}}())}getImage(){return this.selectedImage?this.selectedImage:this.imageFromApi}toggleStock(){var t;this.dishFormGroup.patchValue({inStock:!(null===(t=this.dishFormGroup.get("inStock"))||void 0===t?void 0:t.value)})}getCurrency(){return this.restaurantService.getCurrency()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.Ye),e.Y36(F.l),e.Y36(_.gz),e.Y36(Q.uw),e.Y36(u.qu),e.Y36(_.F0),e.Y36(D.J),e.Y36(q.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit"]],decls:4,vars:3,consts:[[1,"bg-gray-100","h-full"],["class","absolute top-0 left-0",4,"ngIf"],["class","bg-yellow-500",4,"ngIf"],["class","pt-8 pb-12",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"bg-yellow-500"],[1,"mx-auto","max-w-6xl","py-3","px-3","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","items-center","justify-between"],[1,"flex","w-0","flex-1","items-center"],[1,"flex","rounded-lg","bg-yellow-600","p-2"],[1,"text-white"],[1,"ml-3","font-medium","text-white"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[3,"formGroup"],[1,"flex","justify-between","py-4","items-center"],[1,"text-indigo-500","flex","items-center","text-sm",3,"click"],[1,"mr-2","text-base"],[1,"flex","flex-row"],[1,"flex","justify-center","items-center","py-2","px-4","border","border-transparent","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","text-sm","font-medium","rounded-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled","click"],[1,"mr-2"],[1,"ml-2","disabled:bg-indigo-400","flex","items-center","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-indigo-500",3,"disabled","click"],[1,"mt-8","grid","grid-cols-1","gap-6","lg:max-w-7xl","lg:grid-flow-col-dense","lg:grid-cols-3"],[1,"space-y-6","lg:col-start-1","lg:col-span-2"],["aria-labelledby","applicant-information-title"],[1,"bg-white","shadow","sm:rounded-lg"],[1,"px-4","py-5","sm:px-6"],["id","applicant-information-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-1","max-w-2xl","text-sm","text-gray-500"],[1,"border-t","px-4","py-5","sm:px-6","grid","grid-cols-1","gap-y-6","gap-x-4","sm:grid-cols-6"],[1,"sm:col-span-3"],["for","dish-name",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["formControlName","name","type","text","name","dish-name","autocomplete","dish-name",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","border","rounded-md",3,"ngClass"],["class","text-red-500 text-xs pt-1",4,"ngIf"],["for","type",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","type","name","type","autocomplete","type",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","rounded-md",3,"ngClass"],["value","Veg"],["value","NonVeg"],[1,"sm:col-span-6"],["for","description",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","description","name","description","rows","8",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","border","rounded-md",3,"ngClass"],[1,"sm:col-span-6","flex","flex-row","justify-between","items-center","border-y","py-3"],["for","photo",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","flex","flex-col","items-center"],["type","button","role","switch","aria-checked","false","aria-labelledby","annual-billing-label",1,"bg-gray-200","relative","inline-flex","flex-shrink-0","h-6","w-11","border-2","border-transparent","rounded-full","cursor-pointer","transition-colors","ease-in-out","duration-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"ngClass","click"],["aria-hidden","true",1,"translate-x-0","pointer-events-none","inline-block","h-5","w-5","rounded-full","bg-white","shadow","transform","ring-0","transition","ease-in-out","duration-200",3,"ngClass"],[1,"mt-2","text-xs","text-gray-500",2,"font-size","0.49rem","line-height","0.5rem"],["for","photo",1,"sr-only","block","text-sm","font-medium","text-gray-700"],[1,"mt-1","flex","items-center"],[1,"h-32","w-32","rounded-full","overflow-hidden","bg-gray-100"],["class","h-full w-full text-gray-300","fill","currentColor","viewBox","0 0 24 24",4,"ngIf"],["loading","lazy","class","h-32 w-32 object-cover",3,"src",4,"ngIf"],[1,"cursor-pointer","ml-5","bg-white","py-2","px-3","border","border-gray-300","rounded-md","shadow-sm","text-sm","leading-4","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"bg-gray-50","mt-2","sm:col-span-6","px-4","py-5","sm:px-6","sm:py-6","grid","grid-cols-1","gap-y-6","gap-x-4","sm:grid-cols-6","border","rounded-md"],["for","photo",1,"sm:col-span-6","block","text-sm","font-medium","text-gray-700"],["formArrayName","category","class","sm:col-span-6",4,"ngFor","ngForOf"],[1,"sm:col-span-6","flex","justify-end"],["for","first-name",1,"invisible","sm:visible","block","text-sm","font-medium","text-gray-700"],[1,"mt-1","flex","align-middle"],[1,"flex","justify-center","w-full","items-center","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","py-1.5","px-4","text-sm","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-indigo-500",3,"click"],["aria-labelledby","timeline-title",1,"lg:col-start-3","lg:col-span-1"],[1,"bg-white","px-4","py-5","shadow","sm:rounded-lg","sm:px-6"],["id","timeline-title",1,"text-lg","font-medium","text-gray-900"],[1,"mt-4","col-span-6"],["for","tag",1,"block","text-sm","font-medium","text-gray-700"],["class","p-2 mt-2 bg-gray-50 rounded-lg",4,"ngIf"],[1,"bg-gray-100","rounded-md","grid","grid-cols-1","sm:grid-cols-4","gap-2","p-2","mt-2"],["class","mt-2 col-span-4 relative block w-full border-2 border-gray-300 border-dashed rounded-lg p-6 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",4,"ngIf"],["formArrayName","menus","class","sm:col-span-2 col-span-1",4,"ngFor","ngForOf"],[1,"relative"],[1,"inline-block","w-full","rounded-md","shadow-sm"],["type","text","placeholder","Search",1,"mt-2","py-2","px-3","rounded-md","focus:outline-none","focus:ring-indigo-500","block","w-full","sm:text-sm",3,"ngClass","click","clickOutside","keyup"],["class","absolute overflow-hidden z-10 w-full mt-1 bg-white rounded-md shadow-lg",4,"ngIf"],["class","ml-1 mt-1 text-xs text-red-500",4,"ngIf"],[1,"bg-gray-100","p-2","mt-2","rounded-md","grid","grid-cols-1","sm:grid-cols-4","gap-2"],["class","col-span-4 relative block w-full border-2 border-gray-300 border-dashed rounded-lg p-6 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",4,"ngIf"],["formArrayName","tags","class","sm:col-span-2 col-span-1",4,"ngFor","ngForOf"],["type","text","placeholder","Min 2 character","autocomplete","tag",1,"mt-2","py-2","px-3","rounded-md","focus:outline-none","focus:ring-indigo-500","block","w-full","sm:text-sm",3,"ngClass","click","clickOutside","keyup"],["class","ml-1 cursor-pointer mt-2 text-xs text-indigo-500",3,"click",4,"ngIf"],["class","fixed h-full inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],[1,"text-red-500","text-xs","pt-1"],["fill","currentColor","viewBox","0 0 24 24",1,"h-full","w-full","text-gray-300"],["d","M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"],["loading","lazy",1,"h-32","w-32","object-cover",3,"src"],["formArrayName","category",1,"sm:col-span-6"],[1,"grid","grid-cols-1","gap-y-6","gap-x-4","sm:grid-cols-6",3,"formGroupName"],[1,"sm:col-span-2"],["for","category-name",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","name","type","text","name","category-name","autocomplete","category-name",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","rounded-md",3,"ngClass"],[4,"ngIf"],[1,"sm:col-span-1"],["for","Price",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500","text-xs"],["formControlName","price","type","number","name","price","autocomplete","price",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","rounded-md",3,"ngClass"],["for","quantity",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","metadata","type","text","name","quantity","autocomplete","quantity",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","border-gray-300","rounded-md"],[1,"sm:col-span-1","hidden","sm:block","sm:mx-auto","sm:my-auto"],["for","first-name",1,"hidden","sm:block","text-sm","font-medium","text-gray-700"],[1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"text-base"],[1,"sm:col-span-1","sm:hidden","block","sm:mx-auto","sm:my-auto"],[1,"mt-1","flex","justify-end"],[1,"flex","justify-center","items-center","bg-red-600","border","border-transparent","rounded-md","shadow-sm","py-1.5","px-4","text-sm","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-red-500",3,"click"],["class","text-red-500 text-xs",4,"ngIf"],[1,"p-2","mt-2","bg-gray-50","rounded-lg"],["type","button",1,"block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-12","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mx-auto","text-gray-600","text-5xl",2,"height","unset","width","unset"],[1,"mx-auto","mt-2","block","text-sm","font-medium","text-gray-500"],["type","button",1,"mx-auto","mt-2","inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-purple-500","shadow-sm","text-sm","font-medium","rounded-3xl","text-indigo-500","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"ml-2","text-indigo-500","text-md",2,"height","unset","width","unset"],[1,"mt-2","col-span-4","relative","block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-6","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"text-gray-500","text-5xl"],[1,"mt-2","block","text-sm","font-medium","text-gray-900"],["formArrayName","menus",1,"sm:col-span-2","col-span-1"],[1,"capitalize","py-1","pl-3","pr-2","flex","flex-wrap","justify-between","rounded-full","items-center","text-sm","font-medium","bg-indigo-100","text-indigo-700",3,"formGroupName"],["type","button",1,"flex-shrink-0","ml-0.5","h-4","w-4","rounded-full","inline-flex","items-center","justify-center","text-indigo-400","hover:bg-indigo-200","hover:text-indigo-500","focus:outline-none","focus:bg-indigo-500","focus:text-white",3,"click"],[1,"sr-only"],["stroke","currentColor","fill","none","viewBox","0 0 8 8",1,"h-2","w-2"],["stroke-linecap","round","stroke-width","1.5","d","M1 1l6 6m0-6L1 7"],[1,"absolute","overflow-hidden","z-10","w-full","mt-1","bg-white","rounded-md","shadow-lg"],[1,"overflow-auto","text-base","leading-6","rounded-md","shadow-xs","max-h-60","focus:outline-none","sm:text-sm","sm:leading-5"],["class","hover:bg-gray-100  relative py-2 pl-3 text-gray-900 cursor-pointer select-none pr-9",3,"click",4,"ngFor","ngForOf"],[1,"hover:bg-gray-100","relative","py-2","pl-3","text-gray-900","cursor-pointer","select-none","pr-9",3,"click"],[1,"capitalize","block","font-normal","truncate"],[1,"ml-1","mt-1","text-xs","text-red-500"],[1,"col-span-4","relative","block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-6","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["formArrayName","tags",1,"sm:col-span-2","col-span-1"],["class","text-sm font-bold text-gray-700 p-4",4,"ngIf"],[1,"text-sm","font-bold","text-gray-700","p-4"],["class","hover:bg-gray-100 relative py-2 pl-3 text-gray-900 cursor-pointer select-none pr-9",3,"click",4,"ngFor","ngForOf"],[1,"ml-1","cursor-pointer","mt-2","text-xs","text-indigo-500",3,"click"],["role","dialog","aria-modal","true",1,"fixed","h-full","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity",3,"ngClass"],[1,"relative","inline-block","align-middle","m-4","max-w-xl","w-full","sm:m-auto","transform","divide-y","divide-gray-500","divide-opacity-10","overflow-hidden","rounded-xl","bg-white","bg-opacity-80","shadow-2xl","ring-1","ring-black","ring-opacity-5","backdrop-blur","backdrop-filter","transition-all",3,"ngClass"],[3,"clickOutside"],["id","payment-details-heading",1,"px-6","py-5","text-lg","leading-6","font-medium","text-gray-900"],[1,"grid","grid-cols-4","gap-6","px-6"],[1,"col-span-4","sm:col-span-2"],["for","menu-name",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","name","type","text","name","menu-name","autocomplete","menu-name",1,"mt-1","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","rounded-md",3,"ngClass"],[1,"mt-6","flex","justify-between","px-6","py-5","border-t"],["type","button",1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"disabled:bg-indigo-400","cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-500","hover:bg-indigo-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,O,1,0,"app-loader",1),e.YNc(2,L,10,0,"div",2),e.YNc(3,be,107,49,"div",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.publish&&!o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},directives:[f.O5,U.R,T.Hw,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,f.mk,u.EJ,u.YN,u.Kr,f.sg,u.CE,u.x0,u.wV,_.rH,E._],styles:[""]}),i})();function J(i){var s;return(null===(s=i.value)||void 0===s?void 0:s.length)?(i.markAllAsTouched(),null):{notValid:!0}}function ye(i,s){1&i&&e._UZ(0,"app-loader",4)}const I=function(){return["add"]};function we(i,s){1&i&&(e.TgZ(0,"div",5)(1,"button",6)(2,"mat-icon",7),e._uU(3,"lunch_dining"),e.qZA(),e.TgZ(4,"span",8),e._uU(5,"No dihes found."),e.qZA(),e.TgZ(6,"button",9),e._uU(7," Create one "),e.TgZ(8,"mat-icon",10),e._uU(9," east "),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,I)))}function Te(i,s){if(1&i&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("",t.dishes.length," entries found")}}function Ze(i,s){1&i&&(e.TgZ(0,"div",45),e._uU(1," Not Published "),e.qZA())}function Ce(i,s){1&i&&(e.TgZ(0,"div",46)(1,"span"),e._uU(2,"OUT OF STOCK"),e.qZA()())}function Ae(i,s){if(1&i&&(e.TgZ(0,"span",47),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function ke(i,s){if(1&i&&(e.TgZ(0,"li",48)(1,"div",49)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",50),e._uU(5),e.ALo(6,"currency"),e.qZA()()()),2&i){const t=s.$implicit,o=e.oxw().$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(6,2,t.price,o.currency))}}const N=function(i){return["edit",i]},Fe=function(i){return{"opacity-60":i}};function De(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24),e._UZ(2,"div",25),e.YNc(3,Ze,2,0,"div",26),e.TgZ(4,"div",27),e._UZ(5,"img",28),e.YNc(6,Ce,3,0,"div",29),e.qZA(),e.TgZ(7,"div",30)(8,"h3",31)(9,"div"),e._UZ(10,"span",32),e._uU(11),e.qZA()(),e.TgZ(12,"div",33),e.YNc(13,Ae,2,1,"span",34),e.qZA(),e.TgZ(14,"ul",35),e.YNc(15,ke,7,5,"li",36),e.qZA()()(),e.TgZ(16,"p",37),e._uU(17),e.ALo(18,"currency"),e.qZA(),e.TgZ(19,"div",35)(20,"div",38)(21,"button",39),e.NdJ("click",function(n){const l=e.CHM(t).$implicit,d=e.oxw(3);return d.showDeleteDialog=!0,n.stopPropagation(),d.dishIdToDelete=l.id}),e.TgZ(22,"a",40)(23,"mat-icon",41),e._uU(24," delete"),e.qZA(),e.TgZ(25,"span",42),e._uU(26,"Delete"),e.qZA()()(),e.TgZ(27,"div",43)(28,"a",44)(29,"mat-icon",41),e._uU(30," edit"),e.qZA(),e.TgZ(31,"span",42),e._uU(32,"Edit"),e.qZA()()()()()()}if(2&i){const t=s.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("routerLink",e.VKq(15,N,null==t?null:t.id)),e.xp6(1),e.Q6J("ngClass","Veg"==(null==t?null:t.type)?"bg-green-600":"bg-red-600"),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.publishedAt)),e.xp6(2),e.Q6J("ngClass",e.VKq(17,Fe,!t.inStock))("src",null!=t&&t.image?o.getImageUrl(null!=t&&t.image?null==t?null:t.image[0]:""):"",e.LSH)("alt",null==t?null:t.name),e.xp6(1),e.Q6J("ngIf",!t.inStock),e.xp6(5),e.hij(" ",null==t?null:t.name," "),e.xp6(2),e.Q6J("ngForOf",t.menus),e.xp6(2),e.Q6J("ngForOf",t.category),e.xp6(2),e.hij("",e.xi3(18,12,null==t?null:t.price,t.currency)," "),e.xp6(11),e.Q6J("routerLink",e.VKq(19,N,t.id))}}function qe(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",15)(2,"div")(3,"h2",16),e._uU(4," Dishes "),e.qZA(),e.YNc(5,Te,2,1,"span",17),e.qZA(),e.TgZ(6,"button",18)(7,"mat-icon",19),e._uU(8," add"),e.qZA(),e._uU(9," Create new dish "),e.qZA()(),e.TgZ(10,"div",20),e.YNc(11,De,33,21,"div",21),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",t.dishes),e.xp6(1),e.Q6J("routerLink",e.DdM(3,I)),e.xp6(5),e.Q6J("ngForOf",t.dishes)}}const Ue=function(i,s){return{"ease-out duration-300 opacity-100":i,"ease-in duration-200 opacity-0":s}},Ee=function(i,s){return{"ease-out duration-300 opacity-100 scale-100":i,"ease-in duration-200 opacity-0 scale-95":s}};function Se(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",51)(1,"div",52),e._UZ(2,"div",53),e.TgZ(3,"div",54)(4,"div",55),e.NdJ("clickOutside",function(){return e.CHM(t),e.oxw(2).showDeleteDialog=!1}),e.TgZ(5,"div",56)(6,"div",57)(7,"mat-icon",58),e._uU(8," warning "),e.qZA()(),e.TgZ(9,"div",59)(10,"h3",60),e._uU(11,"Are you sure?"),e.qZA(),e.TgZ(12,"div",61)(13,"p",62),e._uU(14," Once deleted you won't be able to retrive the data. "),e.qZA()()()(),e.TgZ(15,"div",63)(16,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showDeleteDialog=!1}),e._uU(17," Cancel "),e.qZA(),e.TgZ(18,"button",65),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return n.deleteDish(n.dishIdToDelete)}),e._uU(19," Ok, Delete "),e.qZA()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.WLB(2,Ue,t.showDeleteDialog,!t.showDeleteDialog)),e.xp6(1),e.Q6J("ngClass",e.WLB(5,Ee,t.showDeleteDialog,!t.showDeleteDialog))}}function Je(i,s){if(1&i&&(e.TgZ(0,"div",11)(1,"div",12),e.YNc(2,qe,12,4,"div",13),e.YNc(3,Se,20,8,"div",14),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.dishes&&t.dishes.length>0),e.xp6(1),e.Q6J("ngIf",t.showDeleteDialog)}}const Ie=[{path:"",component:(()=>{class i{constructor(t,o,n,r){this.adminService=t,this.route=o,this.mainService=n,this.restaurantService=r,this.loading=!0,this.showDeleteDialog=!1,this.dishIdToDelete=""}ngOnInit(){const t=this.restaurantService.getRestaurantSlug();t&&this.getAllDishes(t)}getAllDishes(t){this.loading=!0,this.adminService.getAllDishes(t).then(o=>{this.loading=!1,this.dishes=o.data}).catch(o=>{this.loading=!1,console.log(o),this.mainService.openDialog("Error",this.mainService.errorMessage(o),"E")})}deleteDish(t){this.loading=!0;const o=this.restaurantService.getRestaurantSlug();o&&this.adminService.deleteDish(o,t).then(n=>{this.loading=!1,this.mainService.openDialog("Success","Dish Deleted Successfully","S",!0)}).catch(n=>{this.loading=!1,console.log(n),this.mainService.openDialog("Error",this.mainService.errorMessage(n),"E")})}getImageUrl(t){return this.mainService.getImageUrl(t,k.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(F.l),e.Y36(_.gz),e.Y36(D.J),e.Y36(q.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-overview"]],decls:4,vars:3,consts:[["class","absolute top-0 left-0",4,"ngIf"],[1,"bg-gray-100","min-h-screen"],["class","p-12 max-w-6xl mx-auto",4,"ngIf"],["class","pt-8 pb-12",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"p-12","max-w-6xl","mx-auto"],["type","button",1,"block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-12","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mx-auto","text-gray-600","text-5xl",2,"height","unset","width","unset"],[1,"mx-auto","mt-2","block","text-sm","font-medium","text-gray-500"],["type","button",1,"mx-auto","mt-2","inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-purple-500","shadow-sm","text-sm","font-medium","rounded-3xl","text-indigo-500","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"ml-2","text-indigo-500","text-md",2,"height","unset","width","unset"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","overflow-hidden","px-4","space-y-4","sm:px-6","lg:px-8"],[4,"ngIf"],["class","fixed h-full inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],[1,"flex","justify-between","py-4","items-center"],[1,"text-lg","font-medium","text-gray-900"],["class","text-xs text-gray-600",4,"ngIf"],[1,"disabled:bg-indigo-400","inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mr-2","text-md"],[1,"mt-4","-mx-px","p-1","border-gray-200","grid","grid-cols-1","sm:grid-cols-2","sm:mx-0","md:grid-cols-3","lg:grid-cols-3","xl:grid-cols-5","gap-3"],["class","  bg-white border-gray-200 flex flex-col overflow-hidden rounded-lg shadow",4,"ngFor","ngForOf"],[1,"text-xs","text-gray-600"],[1,"bg-white","border-gray-200","flex","flex-col","overflow-hidden","rounded-lg","shadow"],[1,"group","h-full","relative","px-4","pt-4","sm:px-6","sm:pt-6",3,"routerLink"],[1,"w-4","h-4","border-2","shadow-md","border-white","absolute","top-4","right-4","z-10","rounded-full",3,"ngClass"],["class","absolute text-center px-8 text-white  -rotate-45  top-8 -left-8 z-10 bg-yellow-500 shadow-md",4,"ngIf"],[1,"relative","text-center","w-full","rounded-lg","overflow-hidden","bg-gray-200","aspect-w-1","aspect-h-1"],["loading","lazy",1,"w-full","h-full","object-center","object-cover",3,"ngClass","src","alt"],["class","py-2 centered z-10 h-max bg-black bg-opacity-50 backdrop-blur backdrop-filter",4,"ngIf"],[1,"pt-8","text-center"],[1,"text-sm","font-medium"],["aria-hidden","true",1,"text-gray-900","absolute","inset-0"],[1,"flex","flex-wrap","space-x-1"],["class","mt-2 flex-shrink-0 inline-block px-2 py-0.5 text-blue-800 text-xs font-medium bg-blue-100 rounded-full",4,"ngFor","ngForOf"],[1,"mt-6"],["class","text-gray-500 text-xs capitalize",4,"ngFor","ngForOf"],[1,"mt-6","mx-auto","text-base","font-medium","text-red-500"],[1,"border-t","flex","flex-row","divide-x","divide-gray-200"],[1,"cursor-pointer","sm:w-0","flex-1","flex","text-gray-500","hover:text-gray-700",3,"click"],[1,"relative","w-0","flex-1","inline-flex","items-center","justify-center","py-4","text-sm","text-gray-700","font-medium","border","border-transparent","rounded-br-lg","hover:text-red-500"],[1,"text-base"],[1,"ml-2"],[1,"cursor-pointer","-ml-px","border-t","sm:border-t-0","sm:w-0","flex-1","flex","text-gray-500","hover:text-gray-700"],[1,"relative","w-0","flex-1","inline-flex","items-center","justify-center","py-4","text-sm","text-gray-700","font-medium","border","border-transparent","rounded-br-lg","hover:text-indigo-500",3,"routerLink"],[1,"absolute","text-center","px-8","text-white","-rotate-45","top-8","-left-8","z-10","bg-yellow-500","shadow-md"],[1,"py-2","centered","z-10","h-max","bg-black","bg-opacity-50","backdrop-blur","backdrop-filter"],[1,"mt-2","flex-shrink-0","inline-block","px-2","py-0.5","text-blue-800","text-xs","font-medium","bg-blue-100","rounded-full"],[1,"text-gray-500","text-xs","capitalize"],[1,"flex","flex-wrap","justify-between","space-y-1"],[1,"text-red-500","ml-1"],["role","dialog","aria-modal","true",1,"fixed","h-full","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity",3,"ngClass"],[1,"relative","inline-block","align-middle","m-4","max-w-xl","w-full","sm:m-auto","transform","divide-y","divide-gray-500","divide-opacity-10","overflow-hidden","rounded-xl","bg-white","bg-opacity-80","shadow-2xl","ring-1","ring-black","ring-opacity-5","backdrop-blur","backdrop-filter","transition-all",3,"ngClass"],[3,"clickOutside"],[1,"flex","items-start","px-4","pt-5","p-6"],[1,"flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","sm:mx-0","sm:h-10","sm:w-10"],["aria-hidden","false","aria-label","warning",1,"h-6","w-6","text-yellow-500"],[1,"mt-0","ml-4","text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","border-t"],["type","button",1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,ye,1,0,"app-loader",0),e.TgZ(1,"div",1),e.YNc(2,we,10,2,"div",2),e.YNc(3,Je,4,2,"div",3),e.qZA()),2&t&&(e.Q6J("ngIf",o.loading),e.xp6(2),e.Q6J("ngIf",!(o.loading||o.dishes&&0!=(null==o.dishes?null:o.dishes.length))),e.xp6(1),e.Q6J("ngIf",!o.loading))},directives:[f.O5,U.R,_.rH,T.Hw,f.sg,f.mk,_.yS,E._],pipes:[f.H9],styles:[".centered[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 20px #000000;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),i})(),pathMatch:"full"},{path:"edit/:dishId",component:S,pathMatch:"full"},{path:"add",component:S,pathMatch:"full"}];let Ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Ie)],_.Bz]}),i})(),Ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[f.ez,u.u5,T.Ps,G.x,Ne,u.UX]]}),i})()}}]);