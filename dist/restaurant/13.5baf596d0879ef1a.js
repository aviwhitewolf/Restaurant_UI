"use strict";(self.webpackChunkRestaurant=self.webpackChunkRestaurant||[]).push([[13],{1707:(z,q,m)=>{m.r(q),m.d(q,{CategoryModule:()=>ce});var x=m(9808),T=m(9826),U=m(3075),f=m(4987),i=m(5e3),Q=m(8734),B=m(9118),j=m(8814),G=m(5245);function P(u,v){1&u&&i._UZ(0,"app-loader",2)}function e(u,v){1&u&&(i.TgZ(0,"div",21),i._uU(1,"Category name is invalid"),i.qZA())}const S=function(u,v){return{"border-2 border-red-500":u,"border-gray-300":v}};function J(u,v){if(1&u){const s=i.EpF();i.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"button",7),i.NdJ("click",function(){return i.CHM(s),i.oxw().goBackback()}),i.TgZ(5,"mat-icon",8),i._uU(6," arrow_back"),i.qZA(),i._uU(7," Back "),i.qZA(),i.TgZ(8,"button",9),i.NdJ("click",function(){return i.CHM(s),i.oxw().updateOrAddCategory()}),i.TgZ(9,"mat-icon",10),i._uU(10," save"),i.qZA(),i._uU(11," Save "),i.qZA()(),i.TgZ(12,"form",11)(13,"div",12)(14,"div",13)(15,"div")(16,"h2",14),i._uU(17," Category Details"),i.qZA(),i.TgZ(18,"p",15),i._uU(19,"Update your category information. "),i.qZA()(),i.TgZ(20,"div",16)(21,"div",17)(22,"label",18),i._uU(23,"Category name"),i.qZA(),i._UZ(24,"input",19),i.YNc(25,e,2,0,"div",20),i.qZA()()()()()()()()}if(2&u){const s=i.oxw();let c,p;i.xp6(8),i.Q6J("disabled",s.categoryUpdateFormGroup.invalid),i.xp6(4),i.Q6J("formGroup",s.categoryUpdateFormGroup),i.xp6(12),i.Q6J("ngClass",i.WLB(4,S,(null==(c=s.categoryUpdateFormGroup.get("name"))?null:c.errors)&&((null==(c=s.categoryUpdateFormGroup.get("name"))?null:c.touched)||(null==(c=s.categoryUpdateFormGroup.get("name"))?null:c.dirty)),!(null!=(c=s.categoryUpdateFormGroup.get("name"))&&c.errors&&(null!=(c=s.categoryUpdateFormGroup.get("name"))&&c.touched||null!=(c=s.categoryUpdateFormGroup.get("name"))&&c.dirty)))),i.xp6(1),i.Q6J("ngIf",(null==(p=s.categoryUpdateFormGroup.get("name"))||null==p.errors?null:p.errors.required)&&(null==(p=s.categoryUpdateFormGroup.get("name"))?null:p.errors)&&((null==(p=s.categoryUpdateFormGroup.get("name"))?null:p.touched)||(null==(p=s.categoryUpdateFormGroup.get("name"))?null:p.dirty)))}}let I=(()=>{class u{constructor(s,c,p,y,b){this.formBuilder=s,this.adminService=c,this.mainService=p,this.route=y,this._location=b,this.loading=!0,this.currencySymbol="",this.categoryUpdateFormGroup=this.formBuilder.group({name:["",[U.kI.required]]}),this.currencySymbol=this.mainService.getToLocalStorage(f.g.LOCAL_USER).currencySymbol||"\u20b9"}ngOnInit(){var s,c,p,y;null===(y=null===(p=null===(c=null===(s=this.route)||void 0===s?void 0:s.parent)||void 0===c?void 0:c.parent)||void 0===p?void 0:p.parent)||void 0===y||y.params.subscribe(b=>{var k;b&&b.slug&&(null===(k=this.route)||void 0===k||k.params.subscribe(N=>{N.catId?this.getSingleCategory(b.slug,N.catId):this.loading=!1}))})}getSingleCategory(s,c){this.loading=!0,this.adminService.getSingleCategory(s,c).then(p=>{this.singleCategory=p.data,this.categoryUpdateFormGroup.setValue({name:this.singleCategory.name}),this.loading=!1}).catch(p=>{this.loading=!1,console.log(p),this.mainService.openDialog("Error",this.mainService.errorMessage(p),"E",!1,!0)})}updateOrAddCategory(){var s,c,p,y;null===(y=null===(p=null===(c=null===(s=this.route)||void 0===s?void 0:s.parent)||void 0===c?void 0:c.parent)||void 0===p?void 0:p.parent)||void 0===y||y.params.subscribe(b=>{var k;b&&b.slug&&(null===(k=this.route)||void 0===k||k.params.subscribe(N=>{N.catId?this.updateTable(b.slug,N.catId):this.addCategory(b.slug)}))})}updateTable(s,c){this.loading=!0,this.adminService.updateExpenseCategory(this.categoryUpdateFormGroup.value,s,c).then(p=>{this.loading=!1,this.mainService.openDialog("Success","Category updated successfully","S",!0,!1)}).catch(p=>{this.loading=!1,console.log(p),this.mainService.openDialog("Error",this.mainService.errorMessage(p),"E")})}addCategory(s){this.loading=!0,this.adminService.addExpenseCategory({name:this.categoryUpdateFormGroup.value.name},s).then(p=>{var y;this.loading=!1,this.mainService.openDialog("Success","Category created successfully with id:"+(null===(y=null==p?void 0:p.data)||void 0===y?void 0:y.id),"S",!0,!1)}).catch(p=>{this.loading=!1,console.log(p),this.mainService.openDialog("Error",this.mainService.errorMessage(p),"E")})}goBackback(){this._location.back()}}return u.\u0275fac=function(s){return new(s||u)(i.Y36(U.qu),i.Y36(Q.l),i.Y36(B.J),i.Y36(T.gz),i.Y36(x.Ye))},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-edit"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","bg-gray-100 min-h-screen",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"bg-gray-100","min-h-screen"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","px-4","space-y-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","py-4","items-center"],[1,"text-indigo-500","flex","items-center","text-sm",3,"click"],[1,"mr-2","text-base"],[1,"disabled:bg-indigo-400","flex","items-center","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-indigo-500",3,"disabled","click"],[1,"mr-2"],[3,"formGroup"],[1,"shadow","sm:rounded-md","sm:overflow-hidden"],[1,"bg-white","py-6","px-4","sm:p-6"],["id","payment-details-heading",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"mt-6","grid","grid-cols-4","gap-6"],[1,"col-span-4","sm:col-span-2"],["for","menu-name",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","name","type","text","name","menu-name","autocomplete","menu-name",1,"mt-1","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","rounded-md",3,"ngClass"],["class","text-red-500 text-xs pt-1",4,"ngIf"],[1,"text-red-500","text-xs","pt-1"]],template:function(s,c){1&s&&(i.YNc(0,P,1,0,"app-loader",0),i.YNc(1,J,26,7,"div",1)),2&s&&(i.Q6J("ngIf",c.loading),i.xp6(1),i.Q6J("ngIf",!c.loading))},directives:[x.O5,j.R,G.Hw,U._Y,U.JL,U.sg,U.Fj,U.JJ,U.u,x.mk],styles:[""]}),u})();var H=m(8080),te=m(4011);function ne(u,v){1&u&&i._UZ(0,"app-loader",2)}function oe(u,v){if(1&u&&(i.TgZ(0,"span",13),i._uU(1),i.qZA()),2&u){const s=i.oxw(2);i.xp6(1),i.hij("",(null==s.expenseCategories?null:s.expenseCategories.length)||0," entries found")}}const X=function(u){return["edit",u]},ie=function(u,v){return{color:u,"background-color":v}};function le(u,v){if(1&u){const s=i.EpF();i.TgZ(0,"li",17)(1,"div",18),i._uU(2),i.qZA(),i.TgZ(3,"div",19)(4,"div",20)(5,"p",21),i._uU(6),i.qZA()()(),i.TgZ(7,"div",22)(8,"button",23),i.NdJ("click",function(p){const b=i.CHM(s).$implicit,k=i.oxw(3);return k.showDeleteDialog=!0,p.stopPropagation(),k.categoryIdToDelete=null==b?null:b.id}),i.TgZ(9,"mat-icon",24),i._uU(10,"delete"),i.qZA()(),i.TgZ(11,"button",25)(12,"mat-icon",24),i._uU(13,"edit"),i.qZA()()()()}if(2&u){const s=v.$implicit,c=i.oxw(3);i.Q6J("routerLink",i.VKq(5,X,s.id)),i.xp6(1),i.Q6J("ngStyle",i.WLB(7,ie,c.getColor(null==s?null:s.name,"color"),c.getColor(null==s?null:s.name,"backgroundColor"))),i.xp6(1),i.hij(" ",null==s||null==s.name?null:s.name.substring(0,1)," "),i.xp6(4),i.hij(" ",null==s?null:s.name," "),i.xp6(5),i.Q6J("routerLink",i.VKq(10,X,s.id))}}function re(u,v){if(1&u&&(i.TgZ(0,"div",14)(1,"ul",15),i.YNc(2,le,14,12,"li",16),i.qZA()()),2&u){const s=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",s.expenseCategories)}}const Y=function(u,v){return{"ease-out duration-300 opacity-100":u,"ease-in duration-200 opacity-0":v}},K=function(u,v){return{"ease-out duration-300 opacity-100 scale-100":u,"ease-in duration-200 opacity-0 scale-95":v}};function $(u,v){if(1&u){const s=i.EpF();i.TgZ(0,"div",26)(1,"div",27),i._UZ(2,"div",28),i.TgZ(3,"div",29)(4,"div",30),i.NdJ("clickOutside",function(){return i.CHM(s),i.oxw(2).showDeleteDialog=!1}),i.TgZ(5,"div",31)(6,"div",32)(7,"mat-icon",33),i._uU(8," warning "),i.qZA()(),i.TgZ(9,"div",34)(10,"h3",35),i._uU(11,"Are you sure?"),i.qZA(),i.TgZ(12,"div",36)(13,"p",37),i._uU(14," Once deleted you won't be able to retrive the data. "),i.qZA()()()(),i.TgZ(15,"div",38)(16,"button",39),i.NdJ("click",function(){return i.CHM(s),i.oxw(2).showDeleteDialog=!1}),i._uU(17," Cancel "),i.qZA(),i.TgZ(18,"button",40),i.NdJ("click",function(){i.CHM(s);const p=i.oxw(2);return p.deleteCategory(p.categoryIdToDelete)}),i._uU(19," Ok, Delete "),i.qZA()()()()()()}if(2&u){const s=i.oxw(2);i.xp6(2),i.Q6J("ngClass",i.WLB(2,Y,s.showDeleteDialog,!s.showDeleteDialog)),i.xp6(1),i.Q6J("ngClass",i.WLB(5,K,s.showDeleteDialog,!s.showDeleteDialog))}}const W=function(){return["add"]};function M(u,v){if(1&u&&(i.TgZ(0,"main",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div")(5,"h2",7),i._uU(6," Categories "),i.qZA(),i.YNc(7,oe,2,1,"span",8),i.qZA(),i.TgZ(8,"button",9)(9,"mat-icon",10),i._uU(10," add"),i.qZA(),i._uU(11," Create category "),i.qZA()()(),i.YNc(12,re,3,1,"div",11),i.YNc(13,$,20,8,"div",12),i.qZA()()),2&u){const s=i.oxw();i.xp6(7),i.Q6J("ngIf",s.expenseCategories),i.xp6(1),i.Q6J("routerLink",i.DdM(4,W)),i.xp6(4),i.Q6J("ngIf",s.expenseCategories),i.xp6(1),i.Q6J("ngIf",s.showDeleteDialog)}}const ae=[{path:"",component:(()=>{class u{constructor(s,c,p){this.route=s,this.adminService=c,this.mainService=p,this.loading=!1,this.showDeleteDialog=!1,this.categoryIdToDelete=""}ngOnInit(){var s,c,p,y;null===(y=null===(p=null===(c=null===(s=this.route)||void 0===s?void 0:s.parent)||void 0===c?void 0:c.parent)||void 0===p?void 0:p.parent)||void 0===y||y.params.subscribe(b=>{b&&b.slug&&this.getExpenseCategory(b.slug)})}getExpenseCategory(s){this.loading=!0,this.adminService.getExpenseCategory(s).then(c=>{this.expenseCategories=null==c?void 0:c.data,console.log("Expenses",this.expenseCategories),this.loading=!1}).catch(c=>{this.loading=!1,console.log("Error",c),this.mainService.openDialog("Error",this.mainService.errorMessage(c),"E")})}deleteCategory(s){var c,p,y,b;this.loading=!0,null===(b=null===(y=null===(p=null===(c=this.route)||void 0===c?void 0:c.parent)||void 0===p?void 0:p.parent)||void 0===y?void 0:y.parent)||void 0===b||b.params.subscribe(k=>{k&&k.slug&&this.adminService.deleteExpenseCategory(k.slug,s).then(N=>{this.loading=!1,this.mainService.openDialog("Success","Category deleted successfully","S",!0,!1)}).catch(N=>{this.loading=!1,console.log(N),this.mainService.openDialog("Error",this.mainService.errorMessage(N),"E")})})}getColor(s,c){const p=(0,H.Z)(s,700);return"color"==c?p.color:p.backgroundColor}}return u.\u0275fac=function(s){return new(s||u)(i.Y36(T.gz),i.Y36(Q.l),i.Y36(B.J))},u.\u0275cmp=i.Xpm({type:u,selectors:[["app-overview"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","flex-1 pb-8 bg-gray-100 min-h-screen",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"flex-1","pb-8","bg-gray-100","min-h-screen"],[1,"pt-8"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","sm:flex-row","flex-col","justify-between","py-4","flex-wrap","sm:flex-nowrap"],[1,"text-lg","leading-6","font-medium","text-gray-900"],["class","text-xs text-gray-600",4,"ngIf"],[1,"mt-2","sm:mt-0","inline-flex","justify-center","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mr-2","text-md"],["class","max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",4,"ngIf"],["class","fixed h-full inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],[1,"text-xs","text-gray-600"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8","mt-8"],["role","list",1,"grid","grid-cols-1","gap-4","sm:gap-6","sm:grid-cols-2","xl:grid-cols-4","mt-3"],["class","cursor-pointer hover:bg-gray-50 bg-white relative col-span-1 flex shadow rounded-xl overflow-hidden",3,"routerLink",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover:bg-gray-50","bg-white","relative","col-span-1","flex","shadow","rounded-xl","overflow-hidden",3,"routerLink"],[1,"flex-shrink-0","flex","items-center","justify-center","w-16","text-xl","font-medium","rounded-l-md",3,"ngStyle"],[1,"flex-1","flex","items-center","justify-between","rounded-r-md","truncate"],[1,"flex-1","px-4","py-6","text-sm","truncate"],[1,"text-gray-900","font-medium","hover:text-gray-600"],[1,"mr-4","flex","items-center","justify-center","flex-wrap","space-x-2"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-gray-400","hover:bg-red-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"text-base"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-gray-400","hover:bg-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],["role","dialog","aria-modal","true",1,"fixed","h-full","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity",3,"ngClass"],[1,"relative","inline-block","align-middle","m-4","max-w-xl","w-full","sm:m-auto","transform","divide-y","divide-gray-500","divide-opacity-10","overflow-hidden","rounded-xl","bg-white","bg-opacity-80","shadow-2xl","ring-1","ring-black","ring-opacity-5","backdrop-blur","backdrop-filter","transition-all",3,"ngClass"],[3,"clickOutside"],[1,"flex","items-start","px-4","pt-5","p-6"],[1,"flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","sm:mx-0","sm:h-10","sm:w-10"],["aria-hidden","false","aria-label","warning",1,"h-6","w-6","text-yellow-500"],[1,"mt-0","ml-4","text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","border-t"],["type","button",1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"]],template:function(s,c){1&s&&(i.YNc(0,ne,1,0,"app-loader",0),i.YNc(1,M,14,5,"main",1)),2&s&&(i.Q6J("ngIf",c.loading),i.xp6(1),i.Q6J("ngIf",!c.loading))},directives:[x.O5,j.R,T.rH,G.Hw,x.sg,x.PC,x.mk,te._],styles:[""]}),u})(),pathMatch:"full"},{path:"edit/:catId",component:I,pathMatch:"full"},{path:"add",component:I,pathMatch:"full"}];let se=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=i.oAB({type:u}),u.\u0275inj=i.cJS({imports:[[T.Bz.forChild(ae)],T.Bz]}),u})();var de=m(2096);let ce=(()=>{class u{}return u.\u0275fac=function(s){return new(s||u)},u.\u0275mod=i.oAB({type:u}),u.\u0275inj=i.cJS({imports:[[x.ez,se,G.Ps,de.x,U.UX]]}),u})()},9013:(z,q,m)=>{m.r(q),m.d(q,{ExpenseModule:()=>Ht});var x=m(9808),T=m(9826),U=m(5861),f=m(3075),i=m(4987),Q=m(5748),B=m(8966),j=m(7579),G=m(8372),P=m(1884),e=m(5e3),S=m(8734),J=m(9118),I=m(4011);function H(o,r){1&o&&(e.TgZ(0,"div",13),e._UZ(1,"div",14),e.qZA())}function te(o,r){1&o&&(e.O4$(),e.TgZ(0,"svg",23),e._UZ(1,"path",24),e.qZA())}function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return d.selectedEmpAfterSearch=(null==d.selectedEmpAfterSearch?null:d.selectedEmpAfterSearch.mobile)==(null==a?null:a.mobile)?null:a}),e._UZ(1,"img",20),e.TgZ(2,"span",21),e._uU(3),e.qZA(),e.YNc(4,te,2,0,"svg",22),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("src",n.getImageUrl(null==t?null:t.image[0]),e.LSH)("alt",t.fullName),e.xp6(2),e.Oqu(t.fullName),e.xp6(1),e.Q6J("ngIf",(null==n.selectedEmpAfterSearch?null:n.selectedEmpAfterSearch.fullName)==(null==t?null:t.fullName))}}function oe(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"h2",16),e._uU(2,"Found match"),e.qZA(),e.TgZ(3,"ul",17),e.YNc(4,ne,5,4,"li",18),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.employees)}}function X(o,r){if(1&o&&(e.TgZ(0,"div",25)(1,"div",26),e._UZ(2,"img",27),e.TgZ(3,"h2",28),e._uU(4),e.qZA(),e.TgZ(5,"p",29),e._uU(6),e.qZA()(),e.TgZ(7,"div",30)(8,"dl",31)(9,"dt",32),e._uU(10,"Phone"),e.qZA(),e.TgZ(11,"dd"),e._uU(12),e.qZA(),e.TgZ(13,"dt",32),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"dd",33)(16,"a",34),e._uU(17),e.qZA()()(),e.TgZ(18,"button",35),e._uU(19,"Select Employee"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("src",t.getImageUrl(null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.image[0]),e.LSH)("alt",t.selectedEmpAfterSearch.fullName),e.xp6(2),e.Oqu(null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.fullName),e.xp6(2),e.Oqu(null==t.selectedEmpAfterSearch||null==t.selectedEmpAfterSearch.designation?null:t.selectedEmpAfterSearch.designation.name),e.xp6(6),e.AsE("",null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.countryCode," ",null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.mobile,""),e.xp6(5),e.Oqu(null==t.selectedEmpAfterSearch?null:t.selectedEmpAfterSearch.email),e.xp6(1),e.Q6J("mat-dialog-close",t.selectedEmpAfterSearch)}}function ie(o,r){1&o&&(e.TgZ(0,"div",36),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",38),e.qZA(),e.kcU(),e.TgZ(3,"p",39),e._uU(4,"Search Employee"),e.qZA(),e.TgZ(5,"p",40),e._uU(6,"Use email, mobile or name to search an employee (min 3 words required)."),e.qZA()())}function le(o,r){1&o&&(e.TgZ(0,"div",36),e.O4$(),e.TgZ(1,"svg",41),e._UZ(2,"path",38),e.qZA(),e.kcU(),e.TgZ(3,"p",42),e._uU(4,"No matched result"),e.qZA(),e.TgZ(5,"p",43),e._uU(6,"Try searching again with email, mobile or name."),e.qZA()())}let re=(()=>{class o{constructor(t,n,l,a,d,g){this.dialogRef=t,this.formBuilder=n,this.route=l,this.adminService=a,this.mainService=d,this.data=g,this.loading=!1,this.notFoundError=!1,this.searchUpdate=new j.x,this.employeeFormGroup=this.formBuilder.group({search:["",[f.kI.email]]})}ngOnInit(){this.searchUpdate.pipe((0,G.b)(900),(0,P.x)()).subscribe(t=>{t&&t.length>3&&this.searchEmployee(t)})}searchEmployee(t){this.notFoundError&&(this.notFoundError=!1),this.selectedEmpAfterSearch=null,this.adminService.searchEmployee(this.data.slug,t).then(n=>{this.loading=!1,this.employees=n.data}).catch(n=>{this.loading=!1,console.log(n),this.notFoundError=!0})}getImageUrl(t){return this.mainService.getImageUrl(t,i.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}onNoClick(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B.so),e.Y36(f.qu),e.Y36(T.gz),e.Y36(S.l),e.Y36(J.J),e.Y36(B.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-employee"]],decls:14,vars:6,consts:[["role","dialog","aria-modal","true",1,"fixed","inset-0","z-10","overflow-y-auto","p-4","sm:p-6","md:p-20"],[3,"formGroup"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity"],[1,"mx-auto","max-w-3xl","transform","divide-y","divide-gray-100","overflow-hidden","rounded-xl","bg-white","shadow-2xl","ring-1","ring-black","ring-opacity-5","transition-all",3,"clickOutside"],[1,"relative"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"pointer-events-none","absolute","top-3.5","left-4","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["type","text","cdkFocusInitial","","formControlName","search","type","text","name","search","autocomplete","search","placeholder","Search... (min 3 words required)","role","combobox","aria-expanded","false","aria-controls","options",1,"h-12","w-full","border-0","bg-transparent","pl-11","pr-4","text-sm","text-gray-800","placeholder-gray-400","focus:ring-0",3,"ngModelChange"],["class","progress-materializecss",4,"ngIf"],[1,"flex","divide-x","divide-gray-100"],["class","max-h-96 min-w-0 flex-auto scroll-py-4 overflow-y-auto px-6 py-4 sm:h-96",4,"ngIf"],["class","hidden h-96 w-1/2 flex-none flex-col divide-y divide-gray-100 overflow-y-auto sm:flex",4,"ngIf"],["class","py-14 px-6 text-center text-sm sm:px-14",4,"ngIf"],[1,"progress-materializecss"],[1,"indeterminate"],[1,"max-h-96","min-w-0","flex-auto","scroll-py-4","overflow-y-auto","px-6","py-4","sm:h-96"],[1,"mt-2","mb-4","text-xs","font-semibold","text-gray-500"],["id","options","role","listbox",1,"-mx-2","text-sm","text-gray-700"],["class","cursor-pointer hover:bg-gray-100 group flex select-none items-center rounded-md p-2","id","option-1","role","option","tabindex","-1",3,"click",4,"ngFor","ngForOf"],["id","option-1","role","option","tabindex","-1",1,"cursor-pointer","hover:bg-gray-100","group","flex","select-none","items-center","rounded-md","p-2",3,"click"],["loading","lazy",1,"h-6","w-6","flex-none","rounded-full","object-cover",3,"src","alt"],[1,"ml-3","flex-auto","truncate"],["class","ml-3 h-5 w-5 flex-none text-gray-400","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"ml-3","h-5","w-5","flex-none","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"hidden","h-96","w-1/2","flex-none","flex-col","divide-y","divide-gray-100","overflow-y-auto","sm:flex"],[1,"flex-none","p-6","text-center"],["loading","lazy",1,"mx-auto","h-16","w-16","rounded-full","object-cover",3,"src","alt"],[1,"mt-3","font-semibold","text-gray-900"],[1,"text-sm","leading-6","text-gray-500"],[1,"flex","flex-auto","flex-col","justify-between","p-6"],[1,"grid","grid-cols-1","gap-x-6","gap-y-3","text-sm","text-gray-700"],[1,"col-end-1","font-semibold","text-gray-900"],[1,"truncate"],["href","#",1,"text-indigo-600","underline"],["type","button",1,"mt-6","w-full","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"mat-dialog-close"],[1,"py-14","px-6","text-center","text-sm","sm:px-14"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"mx-auto","h-6","w-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"mt-4","font-semibold","text-gray-900"],[1,"mt-2","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"mx-auto","h-6","w-6","text-red-500"],[1,"mt-4","font-semibold","text-red-500"],[1,"mt-2","text-red-400"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.NdJ("clickOutside",function(){return n.onNoClick()}),e.TgZ(4,"div",4),e.O4$(),e.TgZ(5,"svg",5),e._UZ(6,"path",6),e.qZA(),e.kcU(),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(a){return n.searchUpdate.next(a),n.loading=!!(a&&a.length>3),n.employees=0==a.length?null:n.employees,n.selectedEmpAfterSearch=0==a.length?null:n.selectedEmpAfterSearch}),e.qZA()(),e.YNc(8,H,2,0,"div",8),e.TgZ(9,"div",9),e.YNc(10,oe,5,1,"div",10),e.YNc(11,X,20,8,"div",11),e.qZA(),e.YNc(12,ie,7,0,"div",12),e.YNc(13,le,7,0,"div",12),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.employeeFormGroup),e.xp6(7),e.Q6J("ngIf",n.loading),e.xp6(2),e.Q6J("ngIf",n.employees),e.xp6(1),e.Q6J("ngIf",n.selectedEmpAfterSearch),e.xp6(1),e.Q6J("ngIf",!n.employees&&!n.notFoundError),e.xp6(1),e.Q6J("ngIf",!n.employees&&n.notFoundError))},directives:[f._Y,f.JL,f.sg,I._,f.Fj,f.JJ,f.u,x.O5,x.sg,B.ZT],styles:['.progress[_ngcontent-%COMP%], progress[value][_ngcontent-%COMP%]{width:100%;border:none;height:5px;display:block;appearance:none;-webkit-appearance:none}.progress[_ngcontent-%COMP%]::-webkit-progress-bar, progress[value][_ngcontent-%COMP%]::-webkit-progress-bar{background-color:#fff}.progress[_ngcontent-%COMP%]::-webkit-progress-value, progress[value][_ngcontent-%COMP%]::-webkit-progress-value{background-color:#6366f1}.progress-materializecss[_ngcontent-%COMP%]{position:relative;height:4px;display:block;width:100%;background-color:#fff;border-radius:2px;overflow:hidden}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]{background-color:#6366f1}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress-materializecss[_ngcontent-%COMP%]   .indeterminate[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}']}),o})();var Y=m(5439),K=m(8814),$=m(5245),W=m(6895),M=m(288);function Ee(o,r){1&o&&e._UZ(0,"span",22)}function ae(o,r){if(1&o&&(e.TgZ(0,"div",23)(1,"div",24)(2,"h3",25),e._uU(3,"Old"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"json"),e.qZA()(),e.TgZ(7,"div",26)(8,"h3",25),e._uU(9,"New"),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.ALo(12,"json"),e.qZA()()()),2&o){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(e.lcZ(6,2,t.old)),e.xp6(6),e.Oqu(e.lcZ(12,4,t.new))}}function se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"div",5),e.YNc(2,Ee,1,0,"span",6),e.TgZ(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),e.O4$(),e.TgZ(7,"svg",10),e._UZ(8,"path",11),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",12)(10,"div")(11,"div",13)(12,"p",14),e._uU(13),e.qZA()(),e.TgZ(14,"p",15),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"div",16)(18,"p"),e._uU(19),e.qZA()(),e.TgZ(20,"div",17)(21,"div",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleState()}),e._uU(22,"Details"),e.qZA(),e.TgZ(23,"mat-accordion",19,20)(25,"mat-expansion-panel",21),e.YNc(26,ae,13,6,"ng-template",1),e.qZA()()()()()()()}if(2&o){const t=r.$implicit,n=r.last,l=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!n),e.xp6(11),e.AsE("",t.user.fullName||t.user.username," ",t.action,"d this."),e.xp6(2),e.Oqu(e.lcZ(16,6,t.date)),e.xp6(4),e.Oqu(t.remarks),e.xp6(6),e.Q6J("expanded",l.checkState)}}function de(o,r){if(1&o&&(e.TgZ(0,"div",2)(1,"ul",3),e.YNc(2,se,27,8,"li",4),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.actionHistory)}}let ce=(()=>{class o{constructor(){this.checkState=!1}ngOnInit(){}toggleState(){this.checkState=!this.checkState}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-action-history"]],viewQuery:function(t,n){if(1&t&&e.Gf(M.pp,5),2&t){let l;e.iGM(l=e.CRH())&&(n.accordion=l.first)}},inputs:{actionHistory:"actionHistory"},decls:6,vars:0,consts:[[1,"mat-elevation-z0","border"],["matExpansionPanelContent",""],[1,"flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[1,"relative","pb-8"],["class","absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden","true",4,"ngIf"],[1,"relative","flex","items-start","space-x-3"],[1,"relative","px-1"],[1,"h-8","w-8","bg-gray-100","rounded-full","ring-8","ring-white","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-500"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule","evenodd"],[1,"min-w-0","flex-1"],[1,"text-sm"],[1,"capitalize","font-medium","text-gray-900"],[1,"mt-0.5","text-sm","text-gray-500"],[1,"mt-2","text-sm","text-gray-700"],[1,"mt-2"],[1,"underline","text-xs","py-2","text-indigo-500","cursor-pointer",3,"click"],["multi",""],["accordion","matAccordion"],[1,"mat-elevation-z0",3,"expanded"],["aria-hidden","true",1,"absolute","top-5","left-5","-ml-px","h-full","w-0.5","bg-gray-200"],[1,"flex","sm:flex-nowrap","flex-wrap","justify-between"],[1,"flex","flex-col","bg-gray-100","rounded-md","p-4","flex-1"],[1,"text-sm","text-gray-500","font-bold"],[1,"flex","flex-col","bg-gray-100","rounded-md","p-4","sm:ml-2","ml-0","mt-2","sm:mt-0","flex-1"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion")(1,"mat-expansion-panel",0)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," Action History "),e.qZA()(),e.YNc(5,de,3,1,"ng-template",1),e.qZA()())},directives:[M.pp,M.ib,M.yz,M.yK,M.HS,x.sg,x.O5],pipes:[x.uU,x.Ts],styles:[""]}),o})();function u(o,r){1&o&&e._UZ(0,"app-loader",2)}function v(o,r){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function s(o,r){1&o&&(e.TgZ(0,"div",54),e._uU(1," Category is invalid "),e.qZA())}function c(o,r){if(1&o&&(e.TgZ(0,"div",20)(1,"div",55),e._UZ(2,"img",56),e.TgZ(3,"div",57)(4,"h3",58),e._uU(5),e.qZA(),e.TgZ(6,"p",59),e._uU(7),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.getImageUrl(null==t.seletedEmployee?null:t.seletedEmployee.image[0]),e.LSH)("alt",t.seletedEmployee.fullName),e.xp6(3),e.Oqu(t.seletedEmployee.fullName),e.xp6(2),e.hij("",null==t.seletedEmployee||null==t.seletedEmployee.designation?null:t.seletedEmployee.designation.name," ")}}function p(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",60),e._uU(2,"\xa0"),e.qZA(),e.TgZ(3,"div",61),e.O4$(),e.TgZ(4,"svg",62),e._UZ(5,"path",63),e.qZA(),e.kcU(),e.TgZ(6,"div",64),e._uU(7,"No employee selected for salary credit, "),e.TgZ(8,"u",65),e.NdJ("click",function(l){return e.CHM(t),e.oxw(2).openSearchEmployee(),l.stopPropagation()}),e._uU(9,"Click to select"),e.qZA()()()()}}function y(o,r){1&o&&(e.TgZ(0,"div",54),e._uU(1," Debit is invalid "),e.qZA())}function b(o,r){1&o&&(e.TgZ(0,"div",54),e._uU(1," Credit is invalid "),e.qZA())}function k(o,r){1&o&&(e.TgZ(0,"div",54),e._uU(1," Remarks is invalid "),e.qZA())}function N(o,r){1&o&&(e.TgZ(0,"div",54),e._uU(1," Url is invalid "),e.qZA())}function ke(o,r){1&o&&(e.TgZ(0,"div",54),e._uU(1," Date is invalid "),e.qZA())}function Se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit;return e.oxw(2).openPdfViewer(l)}),e.TgZ(1,"mat-icon",73),e._uU(2,"visibility"),e.qZA()()}}function De(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",66)(1,"div",67),e.O4$(),e.TgZ(2,"svg",68),e._UZ(3,"path",69),e.qZA(),e.kcU(),e.TgZ(4,"span",70),e._uU(5),e.qZA()(),e.TgZ(6,"div",71)(7,"button",72),e.NdJ("click",function(l){const d=e.CHM(t).$implicit,g=e.oxw(2);return g.remove(d),l.stopPropagation(),g.documentToDelete=d}),e.TgZ(8,"mat-icon",73),e._uU(9,"delete_forever"),e.qZA()(),e.YNc(10,Se,3,0,"button",74),e.TgZ(11,"button",75),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).download(a)}),e.TgZ(12,"mat-icon",73),e._uU(13,"download"),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(5),e.Oqu(null==t?null:t.name),e.xp6(5),e.Q6J("ngIf",".pdf"==(null==t?null:t.ext))}}function Oe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",66)(1,"div",67),e.O4$(),e.TgZ(2,"svg",68),e._UZ(3,"path",69),e.qZA(),e.kcU(),e.TgZ(4,"span",70),e._uU(5),e.qZA()(),e.TgZ(6,"div",71)(7,"button",72),e.NdJ("click",function(l){const d=e.CHM(t).$implicit,g=e.oxw(2);return g.remove(d),l.stopPropagation(),g.documentToDelete=d}),e.TgZ(8,"mat-icon",73),e._uU(9,"delete_forever"),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(5),e.Oqu(null==t?null:t.name)}}function qe(o,r){if(1&o&&e._UZ(0,"app-action-history",77),2&o){const t=e.oxw(2);e.Q6J("actionHistory",t.singleExpense.actionHistory)}}const Ie=function(o,r){return{"ease-out duration-300 opacity-100":o,"ease-in duration-200 opacity-0":r}},Ne=function(o,r){return{"ease-out duration-300 opacity-100 scale-100":o,"ease-in duration-200 opacity-0 scale-95":r}};function Be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",78)(1,"div",79),e._UZ(2,"div",80),e.TgZ(3,"div",81)(4,"div",82),e.NdJ("clickOutside",function(){return e.CHM(t),e.oxw(2).showDeleteDocumentDialog=!1}),e.TgZ(5,"div",83)(6,"div",84)(7,"mat-icon",85),e._uU(8," warning "),e.qZA()(),e.TgZ(9,"div",86)(10,"h3",87),e._uU(11,"Are you sure?"),e.qZA(),e.TgZ(12,"div",88)(13,"p",89),e._uU(14," Once deleted you won't be able to retrive the data. "),e.qZA()()()(),e.TgZ(15,"div",90)(16,"button",91),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showDeleteDocumentDialog=!1}),e._uU(17," Cancel "),e.qZA(),e.TgZ(18,"button",92),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return l.deleteUpload(l.documentToDelete)}),e._uU(19," Ok, Delete "),e.qZA()()()()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.WLB(2,Ie,t.showDeleteDocumentDialog,!t.showDeleteDocumentDialog)),e.xp6(1),e.Q6J("ngClass",e.WLB(5,Ne,t.showDeleteDocumentDialog,!t.showDeleteDocumentDialog))}}const L=function(o,r){return{" border-2 border-red-500":o,"border-gray-300":r}};function Je(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().goBackback()}),e.TgZ(4,"mat-icon",7),e._uU(5," arrow_back"),e.qZA(),e._uU(6," Back "),e.qZA(),e.TgZ(7,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateOrSaveExpense()}),e.TgZ(8,"mat-icon",9),e._uU(9," save"),e.qZA(),e._uU(10," Save "),e.qZA()(),e.TgZ(11,"div",10)(12,"h2",11),e._uU(13," Expense Details"),e.qZA(),e.TgZ(14,"p",12),e._uU(15,"Add or Update your Expense information. "),e.qZA()(),e.TgZ(16,"form",13)(17,"main",14)(18,"div",15)(19,"div",16)(20,"section",17)(21,"div")(22,"div",18)(23,"div",19)(24,"div",20)(25,"label",21),e._uU(26,"Category"),e.qZA(),e.TgZ(27,"select",22),e.NdJ("change",function(l){return e.CHM(t),e.oxw().onCategoryChange(l.target.value)}),e.YNc(28,v,2,2,"option",23),e.qZA(),e.YNc(29,s,2,0,"div",24),e.qZA(),e.YNc(30,c,8,4,"div",25),e.YNc(31,p,10,0,"div",25),e.TgZ(32,"div",26)(33,"label",27)(34,"span"),e._uU(35,"Debit "),e.TgZ(36,"b",28),e._uU(37,"(INR)"),e.qZA()()(),e._UZ(38,"input",29),e.YNc(39,y,2,0,"div",24),e.qZA(),e.TgZ(40,"div",26)(41,"label",30)(42,"span"),e._uU(43,"Credit "),e.TgZ(44,"b",28),e._uU(45,"(INR)"),e.qZA()()(),e._UZ(46,"input",31),e.YNc(47,b,2,0,"div",24),e.qZA(),e.TgZ(48,"div",32)(49,"label",33),e._uU(50,"Remarks"),e.qZA(),e._UZ(51,"textarea",34),e.YNc(52,k,2,0,"div",24),e.qZA(),e.TgZ(53,"div",20)(54,"label",35),e._uU(55,"Upload Url"),e.qZA(),e._UZ(56,"input",36),e.YNc(57,N,2,0,"div",24),e.qZA(),e.TgZ(58,"div",20)(59,"label",37),e._uU(60,"Date"),e.qZA(),e.TgZ(61,"input",38),e.NdJ("click",function(){return e.CHM(t),e.MAs(63).open()}),e.qZA(),e._UZ(62,"mat-datepicker",39,40),e.YNc(64,ke,2,0,"div",24),e.qZA()()()()()()()(),e.TgZ(65,"footer",41)(66,"div",42)(67,"ul",43)(68,"div",44)(69,"h1"),e._uU(70,"Documents"),e.qZA()(),e.YNc(71,De,14,2,"li",45),e.YNc(72,Oe,10,1,"li",45),e.TgZ(73,"div",46)(74,"label",47)(75,"mat-icon",48),e._uU(76," add "),e.qZA(),e._uU(77," Upload Document "),e.qZA(),e.TgZ(78,"input",49),e.NdJ("change",function(l){return e.CHM(t),e.oxw().uploadFile(l)}),e.qZA()()()()()(),e.TgZ(79,"div",50),e.YNc(80,qe,1,1,"app-action-history",51),e.qZA()(),e.YNc(81,Be,20,8,"div",52),e.qZA()}if(2&o){const t=e.MAs(63),n=e.oxw();let l,a,d,g,_,h,C,E,w,A,Z,D;e.xp6(7),e.Q6J("disabled",n.expenseFormGroup.invalid),e.xp6(9),e.Q6J("formGroup",n.expenseFormGroup),e.xp6(11),e.Q6J("ngClass",e.WLB(23,L,(null==(l=n.expenseFormGroup.get("category"))?null:l.errors)&&((null==(l=n.expenseFormGroup.get("category"))?null:l.touched)||(null==(l=n.expenseFormGroup.get("category"))?null:l.dirty)),!(null!=(l=n.expenseFormGroup.get("category"))&&l.errors&&(null!=(l=n.expenseFormGroup.get("category"))&&l.touched||null!=(l=n.expenseFormGroup.get("category"))&&l.dirty)))),e.xp6(1),e.Q6J("ngForOf",n.expenseCategories),e.xp6(1),e.Q6J("ngIf",((null==(a=n.expenseFormGroup.get("category"))?null:a.touched)||(null==(a=n.expenseFormGroup.get("category"))?null:a.dirty))&&(null==(a=n.expenseFormGroup.get("category"))||null==a.errors?null:a.errors.required)),e.xp6(1),e.Q6J("ngIf",n.seletedEmployee),e.xp6(1),e.Q6J("ngIf",!n.seletedEmployee&&n.checkIfSalaryIsSelected()),e.xp6(7),e.Q6J("ngClass",e.WLB(26,L,(null==(d=n.expenseFormGroup.get("debit"))?null:d.errors)&&((null==(d=n.expenseFormGroup.get("debit"))?null:d.touched)||(null==(d=n.expenseFormGroup.get("debit"))?null:d.dirty)),!(null!=(d=n.expenseFormGroup.get("debit"))&&d.errors&&(null!=(d=n.expenseFormGroup.get("debit"))&&d.touched||null!=(d=n.expenseFormGroup.get("debit"))&&d.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(g=n.expenseFormGroup.get("debit"))?null:g.touched)||(null==(g=n.expenseFormGroup.get("debit"))?null:g.dirty))&&(null==(g=n.expenseFormGroup.get("debit"))||null==g.errors?null:g.errors.required)),e.xp6(7),e.Q6J("ngClass",e.WLB(29,L,(null==(_=n.expenseFormGroup.get("credit"))?null:_.errors)&&((null==(_=n.expenseFormGroup.get("credit"))?null:_.touched)||(null==(_=n.expenseFormGroup.get("credit"))?null:_.dirty)),!(null!=(_=n.expenseFormGroup.get("credit"))&&_.errors&&(null!=(_=n.expenseFormGroup.get("credit"))&&_.touched||null!=(_=n.expenseFormGroup.get("credit"))&&_.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(h=n.expenseFormGroup.get("credit"))?null:h.touched)||(null==(h=n.expenseFormGroup.get("credit"))?null:h.dirty))&&(null==(h=n.expenseFormGroup.get("credit"))||null==h.errors?null:h.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(32,L,(null==(C=n.expenseFormGroup.get("remarks"))?null:C.errors)&&((null==(C=n.expenseFormGroup.get("remarks"))?null:C.touched)||(null==(C=n.expenseFormGroup.get("remarks"))?null:C.dirty)),!(null!=(C=n.expenseFormGroup.get("remarks"))&&C.errors&&(null!=(C=n.expenseFormGroup.get("remarks"))&&C.touched||null!=(C=n.expenseFormGroup.get("remarks"))&&C.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(E=n.expenseFormGroup.get("remarks"))?null:E.touched)||(null==(E=n.expenseFormGroup.get("remarks"))?null:E.dirty))&&(null==(E=n.expenseFormGroup.get("remarks"))||null==E.errors?null:E.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(35,L,(null==(w=n.expenseFormGroup.get("uploadUrl"))?null:w.errors)&&((null==(w=n.expenseFormGroup.get("uploadUrl"))?null:w.touched)||(null==(w=n.expenseFormGroup.get("uploadUrl"))?null:w.dirty)),!(null!=(w=n.expenseFormGroup.get("uploadUrl"))&&w.errors&&(null!=(w=n.expenseFormGroup.get("uploadUrl"))&&w.touched||null!=(w=n.expenseFormGroup.get("uploadUrl"))&&w.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(A=n.expenseFormGroup.get("uploadUrl"))?null:A.touched)||(null==(A=n.expenseFormGroup.get("uploadUrl"))?null:A.dirty))&&(null==(A=n.expenseFormGroup.get("uploadUrl"))||null==A.errors?null:A.errors.required)),e.xp6(4),e.Q6J("matDatepicker",t)("ngClass",e.WLB(38,L,(null==(Z=n.expenseFormGroup.get("date"))?null:Z.errors)&&((null==(Z=n.expenseFormGroup.get("date"))?null:Z.touched)||(null==(Z=n.expenseFormGroup.get("date"))?null:Z.dirty)),!(null!=(Z=n.expenseFormGroup.get("date"))&&Z.errors&&(null!=(Z=n.expenseFormGroup.get("date"))&&Z.touched||null!=(Z=n.expenseFormGroup.get("date"))&&Z.dirty)))),e.xp6(1),e.Q6J("disabled",!1),e.xp6(2),e.Q6J("ngIf",((null==(D=n.expenseFormGroup.get("date"))?null:D.touched)||(null==(D=n.expenseFormGroup.get("date"))?null:D.dirty))&&(null==(D=n.expenseFormGroup.get("date"))||null==D.errors?null:D.errors.required)),e.xp6(7),e.Q6J("ngForOf",null==n.singleExpense?null:n.singleExpense.upload),e.xp6(1),e.Q6J("ngForOf",n.files),e.xp6(8),e.Q6J("ngIf",null==n.singleExpense?null:n.singleExpense.actionHistory),e.xp6(1),e.Q6J("ngIf",n.showDeleteDocumentDialog)}}let Ae=(()=>{class o{constructor(t,n,l,a,d,g,_,h){this.formBuilder=t,this._location=n,this.adminService=l,this.route=a,this.dialog=d,this.router=g,this.mainService=_,this.cdRef=h,this.loading=!1,this.showChangeImageToggle=!1,this.currencySymbol="",this.formdata=new FormData,this.files=[],this.showDeleteDocumentDialog=!1,this.expenseFormGroup=this.formBuilder.group({debit:[0,[f.kI.required]],credit:[0,[f.kI.required]],remarks:["",[f.kI.required]],category:["",[f.kI.required]],currency:["INR",[f.kI.required]],uploadUrl:[""],employee:[null],date:[new Date,[f.kI.required]]}),this.currencySymbol=this.mainService.getToLocalStorage(i.g.LOCAL_USER).currencySymbol||"\u20b9"}ngOnInit(){var t,n,l;null===(l=null===(n=null===(t=this.route)||void 0===t?void 0:t.parent)||void 0===n?void 0:n.parent)||void 0===l||l.params.subscribe(a=>{var d;a&&a.slug&&(this.getAllExpenseCategory(a.slug),null===(d=this.route)||void 0===d||d.params.subscribe(g=>{g.expenseId&&this.getExpense(a.slug,g.expenseId)}))})}updateOrSaveExpense(){var n,l,a,t=this;this.loading=!0,null===(a=null===(l=null===(n=this.route)||void 0===n?void 0:n.parent)||void 0===l?void 0:l.parent)||void 0===a||a.params.subscribe(d=>{var g;d&&d.slug&&(null===(g=this.route)||void 0===g||g.params.subscribe(function(){var _=(0,U.Z)(function*(h){var C,E,w,A,Z,D,V,pe,me,ge,fe,xe,_e,ve,he,ye,we,be,Ce,Ze;const Te={currency:null===(E=null===(C=t.expenseFormGroup)||void 0===C?void 0:C.value)||void 0===E?void 0:E.currency,remarks:null===(A=null===(w=t.expenseFormGroup)||void 0===w?void 0:w.value)||void 0===A?void 0:A.remarks,address:null===(D=null===(Z=t.expenseFormGroup)||void 0===Z?void 0:Z.value)||void 0===D?void 0:D.address,debit:null===(pe=null===(V=t.expenseFormGroup)||void 0===V?void 0:V.value)||void 0===pe?void 0:pe.debit,credit:null===(ge=null===(me=t.expenseFormGroup)||void 0===me?void 0:me.value)||void 0===ge?void 0:ge.credit,uploadUrl:null===(xe=null===(fe=t.expenseFormGroup)||void 0===fe?void 0:fe.value)||void 0===xe?void 0:xe.uploadUrl,category:null===(ve=null===(_e=t.expenseFormGroup)||void 0===_e?void 0:_e.value)||void 0===ve?void 0:ve.category,employee:null===(he=t.seletedEmployee)||void 0===he?void 0:he.id,date:Y(null===(we=null===(ye=t.expenseFormGroup)||void 0===ye?void 0:ye.value)||void 0===we?void 0:we.date).endOf("day").toISOString()};t.files.length>0?(t.formdata.delete("files.upload"),t.files.forEach(O=>t.formdata.append("files.upload",O,O.name))):t.formdata.delete("files.upload"),h.expenseId?t.formdata.has("files.upload")?(t.formdata.delete("data"),t.formdata.append("data",JSON.stringify(Te)),t.adminService.updateExpense(t.formdata,d.slug,h.expenseId).then(O=>{t.reset(),t.loading=!1,t.mainService.openDialog("Success","Updated Successfully","S",!0)}).catch(O=>{t.loading=!1,console.log("Error",O),t.mainService.openDialog("Error",t.mainService.errorMessage(O),"E")})):t.adminService.updateExpense(Te,d.slug,h.expenseId).then(O=>{t.loading=!1,t.reset(),t.mainService.openDialog("Success","Updated Successfully","S",!0)}).catch(O=>{t.loading=!1,console.log("Error",O),t.mainService.openDialog("Error",t.mainService.errorMessage(O),"E")}):null===(Ze=null===(Ce=null===(be=t.route)||void 0===be?void 0:be.parent)||void 0===Ce?void 0:Ce.parent)||void 0===Ze||Ze.params.subscribe(O=>{O&&O.slug&&(t.formdata.delete("data"),t.formdata.append("data",JSON.stringify(Te)),t.adminService.addExpense(t.formdata,O.slug).then(ee=>{t.reset(),t.loading=!1,t.mainService.openDialog("Success","Added Successfully with id : "+ee.data.id,"S",!0)}).catch(ee=>{t.loading=!1,console.log("Error",ee),t.mainService.openDialog("Error",t.mainService.errorMessage(ee),"E")}))})});return function(h){return _.apply(this,arguments)}}()))})}getAllExpenseCategory(t){this.loading=!0,this.adminService.getExpenseCategory(t).then(n=>{this.expenseCategories=null==n?void 0:n.data,this.route.queryParams.subscribe(l=>{if(l.showSearchEmployee){const a=this.expenseCategories.find(d=>"Salary"==d.name);this.expenseFormGroup.patchValue({category:a.id})}}),this.loading=!1}).catch(n=>{this.loading=!1,console.log("Error",n),this.mainService.openDialog("Error",this.mainService.errorMessage(n),"E")})}getExpense(t,n){this.loading=!0,this.adminService.getSingleExpense(t,n).then(l=>{var a,d,g,_,h,C,E,w,A;this.singleExpense=null==l?void 0:l.data,this.expenseFormGroup.patchValue({debit:null===(a=this.singleExpense)||void 0===a?void 0:a.debit,credit:null===(d=this.singleExpense)||void 0===d?void 0:d.credit,remarks:null===(g=this.singleExpense)||void 0===g?void 0:g.remarks,category:null===(h=null===(_=this.singleExpense)||void 0===_?void 0:_.category)||void 0===h?void 0:h.id,currency:null===(C=this.singleExpense)||void 0===C?void 0:C.currency,uploadUrl:null===(E=this.singleExpense)||void 0===E?void 0:E.uploadUrl,date:Y(null===(w=this.singleExpense)||void 0===w?void 0:w.date).toISOString()}),this.seletedEmployee=null===(A=this.singleExpense)||void 0===A?void 0:A.employee,this.loading=!1}).catch(l=>{this.loading=!1,console.log("Error",l),this.mainService.openDialog("Error",this.mainService.errorMessage(l),"E")})}onCategoryChange(t){var n,l,a;null===(a=null===(l=null===(n=this.route)||void 0===n?void 0:n.parent)||void 0===l?void 0:l.parent)||void 0===a||a.params.subscribe(d=>{if(d&&d.slug){this.router.navigate([]),this.seletedEmployee=null;const g=this.expenseCategories.find(_=>"Salary"==_.name);(null==g?void 0:g.id)==t&&this.openEmployeeSearchComponent(d.slug)}})}openEmployeeSearchComponent(t){this.dialog.open(re,{panelClass:"popUp-modalbox",data:{slug:t}}).afterClosed().subscribe(l=>{this.seletedEmployee=l,this.router.navigate([])})}checkIfSalaryIsSelected(){if(this.expenseCategories){const t=this.expenseCategories.find(n=>{var l;return"salary"==(null===(l=null==n?void 0:n.name)||void 0===l?void 0:l.toLowerCase())});if(this.expenseFormGroup.value.category==t.id)return!0}return!1}openSearchEmployee(){var t,n,l;null===(l=null===(n=null===(t=this.route)||void 0===t?void 0:t.parent)||void 0===n?void 0:n.parent)||void 0===l||l.params.subscribe(a=>{a&&a.slug&&this.openEmployeeSearchComponent(a.slug)})}openPdfViewer(t){const n=this.mainService.getImageUrl(t,i.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE);this.dialog.open(Q.r,{data:{url:n,height:"100%",width:"100%"}})}download(t){let n="";(".jpeg"==(null==t?void 0:t.ext)||".png"==(null==t?void 0:t.ext)||".jpg"==(null==t?void 0:t.ext))&&(n=i.g.IMAGE_SIZE.large);const l=this.mainService.getImageUrl(t,i.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE,n);window.open(l)}uploadFile(t){var n=this;return(0,U.Z)(function*(){var l,a,d;let g=t.target.files;if(g.length>0){let _=g[0];if(!(n.files.findIndex(h=>h.name==_.name)<0&&(n.singleExpense&&(null===(l=n.singleExpense)||void 0===l?void 0:l.upload)?(null===(d=null===(a=n.singleExpense)||void 0===a?void 0:a.upload)||void 0===d?void 0:d.findIndex(h=>h.name==_.name))<0:-1)))return void n.mainService.openDialog("Error","Document already exists with same name.","E");n.files.push(_)}})()}remove(t){if(null==t?void 0:t.id)this.showDeleteDocumentDialog=!0;else{const n=this.files.map(l=>l.name).indexOf(t.name);n>=0&&this.files.splice(n,1)}}reset(){this.files=[],this.formdata.delete("data"),this.formdata.delete("files.upload"),this.formdata.delete("files.upload")}deleteUpload(t){var l,a,d,n=this;this.loading=!0;const g=null==t?void 0:t.id;null===(d=null===(a=null===(l=this.route)||void 0===l?void 0:l.parent)||void 0===a?void 0:a.parent)||void 0===d||d.params.subscribe(_=>{var h;_&&_.slug&&g&&(null===(h=this.route)||void 0===h||h.params.subscribe(function(){var C=(0,U.Z)(function*(E){E.expenseId&&n.adminService.deleteExpenseUpload(g,E.expenseId,_.slug).then(w=>{var A,Z;n.showDeleteDocumentDialog=!1;const D=null===(A=n.singleExpense)||void 0===A?void 0:A.upload.map(V=>V.id).indexOf(t.id);D>=0&&(null===(Z=n.singleExpense)||void 0===Z||Z.upload.splice(D,1)),n.loading=!1,n.mainService.openDialog("Success","Document deleted successfully","S")}).catch(w=>{console.log("Error",w),n.showDeleteDocumentDialog=!1,n.loading=!1,n.mainService.openDialog("Error",n.mainService.errorMessage(w),"E")})});return function(E){return C.apply(this,arguments)}}()))})}goBackback(){this._location.back()}ngAfterViewChecked(){this.cdRef.detectChanges()}getImageUrl(t){return this.mainService.getImageUrl(t,i.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}checkSearchEmployeeInUrl(){return this.routeQueryParams$=this.route.queryParams.subscribe(t=>!!t.showSearchEmployee),!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.qu),e.Y36(x.Ye),e.Y36(S.l),e.Y36(T.gz),e.Y36(B.uw),e.Y36(T.F0),e.Y36(J.J),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","pt-8 pb-12",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","py-4","items-center"],[1,"text-indigo-500","flex","items-center","text-sm",3,"click"],[1,"mr-2","text-base"],[1,"disabled:bg-indigo-400","flex","items-center","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-indigo-500",3,"disabled","click"],[1,"mr-2"],[1,"py-6"],["id","payment-details-heading",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[3,"formGroup"],[1,"flex-1"],[1,"relative"],[1,"space-y-6","mt-2","lg:col-span-9"],["aria-labelledby","user-info"],[1,"bg-white"],[1,"mt-6","grid","grid-cols-4","gap-6"],[1,"col-span-4","sm:col-span-2"],["for","category",1,"block","text-sm","font-medium","text-gray-700"],["name","category","autocomplete","none","formControlName","category",1,"mt-1","block","w-full","bg-white","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-xs pt-1",4,"ngIf"],["class","col-span-4 sm:col-span-2",4,"ngIf"],[1,"col-span-4","sm:col-span-1"],["for","debit",1,"flex","items-center","text-sm","font-medium","text-gray-700"],[1,"font-medium","text-indigo-400","text-xs"],["formControlName","debit","type","text","name","debit","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","credit",1,"flex","items-center","text-sm","font-medium","text-gray-700"],["formControlName","credit","type","text","name","credit","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[1,"col-span-4","row-span-2","sm:col-span-2"],["for","remarks",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","remarks","name","remarks","rows","6",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","border","rounded-md",3,"ngClass"],["for","upload-url",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","uploadUrl","type","text","name","uploadUrl","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","date",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","date","name","date","autocomplete","none","placeholder","",1,"border","mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"matDatepicker","ngClass","click"],[3,"disabled"],["dojpicker",""],[1,"mt-6","sm:mt-12"],[1,"grid","sm:grid-cols-2","grid-cols-1","sm:space-x-4"],["role","list",1,"mt-6","h-72","sm:mt-0","divide-y","divide-gray-200","rounded-md","border","border-gray-200","overflow-y-scroll"],[1,"z-10","sticky","top-0","border-gray-200","bg-gray-50","px-3","py-1","text-sm","font-medium","text-gray-500"],["class","flex items-center justify-between py-3 pl-3 pr-4 text-sm",4,"ngFor","ngForOf"],[1,"sticky","bottom-0","cursor-pointer","bg-indigo-50","border-t","w-full","text-sm","leading-8","font-medium","text-gray-700","hover:bg-indigo-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["for","upload-document",1,"flex","items-center","justify-center","w-full","py-2","text-indigo-500"],[1,"mr-2","text-md","text-indigo-500"],["type","file","accept",".pdf, .png, .jpeg, .jpg","onclick","this.value = null","name","upload-document","id","upload-document",2,"opacity","0","position","absolute","z-index","-1",3,"change"],[1,"mt-8"],[3,"actionHistory",4,"ngIf"],["class","fixed h-full inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],[3,"value"],[1,"text-red-500","text-xs","pt-1"],[1,"flex","items-center"],["loading","lazy",1,"w-16","h-16","rounded-full","lg:w-20","lg:h-20","object-cover",3,"src","alt"],[1,"ml-4","font-medium","text-lg","leading-6","space-y-1"],[1,"capitalize"],[1,"text-indigo-600"],["for","category",1,"hidden","sm:block","text-sm","font-medium","text-gray-700"],[1,"mt-3","flex","flex-row","text-sm","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"mr-4","h-6","w-6","text-red-500","flex-none"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"w-full","shrink","font-semibold","text-red-500"],[1,"cursor-pointer",3,"click"],[1,"flex","items-center","justify-between","py-3","pl-3","pr-4","text-sm"],[1,"flex","w-0","flex-1","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-400"],["fill-rule","evenodd","d","M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule","evenodd"],[1,"ml-2","w-0","flex-1","truncate"],[1,"ml-4","space-x-2","flex-shrink-0"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"text-base"],["type","button","class","inline-flex items-center  border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"click",4,"ngIf"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-yellow-500","hover:bg-yellow-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[3,"actionHistory"],["role","dialog","aria-modal","true",1,"fixed","h-full","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity",3,"ngClass"],[1,"relative","inline-block","align-middle","m-4","max-w-xl","w-full","sm:m-auto","transform","divide-y","divide-gray-500","divide-opacity-10","overflow-hidden","rounded-xl","bg-white","bg-opacity-80","shadow-2xl","ring-1","ring-black","ring-opacity-5","backdrop-blur","backdrop-filter","transition-all",3,"ngClass"],[3,"clickOutside"],[1,"flex","items-start","px-4","pt-5","p-6"],[1,"flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","sm:mx-0","sm:h-10","sm:w-10"],["aria-hidden","false","aria-label","warning",1,"h-6","w-6","text-yellow-500"],[1,"mt-0","ml-4","text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","border-t"],["type","button",1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,u,1,0,"app-loader",0),e.YNc(1,Je,82,41,"div",1)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[x.O5,K.R,$.Hw,f._Y,f.JL,f.sg,f.EJ,f.JJ,f.u,x.mk,x.sg,f.YN,f.Kr,f.Fj,W.hl,W.Mq,ce,I._],styles:[""]}),o})();var Me=m(4847),F=m(2075),R=m(1777),Ye=m(8080),Qe=m(449),Ge=m(775),Fe=m(7446),Ue=m(9354);function He(o,r){1&o&&e._UZ(0,"app-loader",2)}function Re(o,r){if(1&o&&(e.TgZ(0,"span",67),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("\xa0of\xa0",t.activeDateRange,"")}}const je=function(o,r){return{color:o,"background-color":r}};function Le(o,r){if(1&o&&(e.TgZ(0,"li",68)(1,"div",69),e._uU(2),e.qZA(),e.TgZ(3,"div",70)(4,"div",71)(5,"p",72),e._uU(6),e.qZA(),e.TgZ(7,"p",73),e._uU(8,"Debit: "),e.TgZ(9,"b",74),e._uU(10),e.ALo(11,"currency"),e.qZA()(),e.TgZ(12,"p",73),e._uU(13,"Credit: "),e.TgZ(14,"b",75),e._uU(15),e.ALo(16,"currency"),e.qZA()()()()()),2&o){const t=r.$implicit;let n,l,a,d;e.xp6(1),e.Q6J("ngStyle",e.WLB(11,je,null==(n=t)||null==n.value||null==n.value.colors?null:n.value.colors.color,null==(n=t)||null==n.value||null==n.value.colors?null:n.value.colors.backgroundColor)),e.xp6(1),e.Oqu(null==(l=t)||null==l.key?null:l.key.substring(0,1)),e.xp6(4),e.hij(" ",null==t?null:t.key," "),e.xp6(4),e.Oqu(e.xi3(11,5,null!=(a=t)&&null!=a.value&&a.value.debit?null==(a=t)||null==a.value?null:a.value.debit:0,null==(a=t)||null==a.value?null:a.value.currency)),e.xp6(5),e.Oqu(e.xi3(16,8,null!=(d=t)&&null!=d.value&&d.value.credit?null==(d=t)||null==d.value?null:d.value.credit:0,null==(d=t)||null==d.value?null:d.value.currency))}}const ze=function(){return["../category","add"]};function Pe(o,r){if(1&o&&(e.TgZ(0,"div",61)(1,"h2",13),e._uU(2," Category Summary "),e.YNc(3,Re,2,1,"span",14),e.qZA(),e.TgZ(4,"ul",62),e.YNc(5,Le,17,14,"li",63),e.ALo(6,"keyvalue"),e.TgZ(7,"li",64)(8,"div",65)(9,"mat-icon",66),e._uU(10,"add"),e.qZA(),e._uU(11,"Add category "),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.activeDateRange),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,3,t.groupSummary)),e.xp6(2),e.Q6J("routerLink",e.DdM(5,ze))}}function $e(o,r){if(1&o&&(e.TgZ(0,"span",67),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("\xa0of\xa0",t.activeDateRange,"")}}function We(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteMultipleExpense()}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij("Delete (",t.selection.selected.length,")")}}function Ve(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"th",77)(1,"mat-checkbox",78),e.NdJ("change",function(l){e.CHM(t);const a=e.oxw(2);return l?a.toggleAllRows():null}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",79)(1,"mat-checkbox",80),e.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const d=e.CHM(t).$implicit,g=e.oxw(2);return l?g.selection.toggle(d):null}),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function Ke(o,r){1&o&&(e.TgZ(0,"td",81),e._uU(1," Total "),e.qZA())}function et(o,r){1&o&&(e.TgZ(0,"th",77),e._uU(1," Date "),e.qZA())}function tt(o,r){if(1&o&&(e.TgZ(0,"td",79)(1,"time",26),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&o){const t=r.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,null==t?null:t.date)," ")}}function nt(o,r){1&o&&e._UZ(0,"td",81)}function ot(o,r){1&o&&(e.TgZ(0,"th",77),e._uU(1,"Debit"),e.qZA())}function it(o,r){if(1&o&&(e.TgZ(0,"span",84)(1,"mat-icon",85),e._uU(2,"north_east"),e.qZA(),e._uU(3),e.ALo(4,"currency"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",e.xi3(4,1,null==t?null:t.debit,null==t?null:t.currency)," ")}}function lt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function rt(o,r){if(1&o&&(e.TgZ(0,"td",79),e.YNc(1,it,5,4,"span",82),e.YNc(2,lt,2,0,"span",83),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.debit),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.debit))}}function at(o,r){if(1&o&&(e.TgZ(0,"td",81)(1,"div",86)(2,"span",84)(3,"mat-icon",85),e._uU(4,"north_east"),e.qZA(),e._uU(5),e.ALo(6,"currency"),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.xi3(6,1,t.getDebitCost(),"INR")," ")}}function st(o,r){1&o&&(e.TgZ(0,"th",77),e._uU(1,"Credit"),e.qZA())}function dt(o,r){if(1&o&&(e.TgZ(0,"span",88)(1,"mat-icon",89),e._uU(2,"south_west"),e.qZA(),e._uU(3),e.ALo(4,"currency"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",e.xi3(4,1,null==t?null:t.credit,null==t?null:t.currency)," ")}}function ct(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function ut(o,r){if(1&o&&(e.TgZ(0,"td",79),e.YNc(1,dt,5,4,"span",87),e.YNc(2,ct,2,0,"span",83),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.credit),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.credit))}}function pt(o,r){if(1&o&&(e.TgZ(0,"td",81)(1,"div",86)(2,"span",88)(3,"mat-icon",89),e._uU(4,"south_west"),e.qZA(),e._uU(5),e.ALo(6,"currency"),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.hij(" ",e.xi3(6,1,t.getCreditCost(),"INR")," ")}}function mt(o,r){1&o&&(e.TgZ(0,"th",77),e._uU(1," Category "),e.qZA())}const ue=function(o){return["../edit",o]};function gt(o,r){if(1&o&&(e.TgZ(0,"td",79)(1,"a",90),e._uU(2),e.qZA()()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,ue,t.id)),e.xp6(1),e.hij(" ",null==t||null==t.category?null:t.category.name," ")}}function ft(o,r){1&o&&e._UZ(0,"td",81)}function xt(o,r){1&o&&(e.TgZ(0,"th",77),e._uU(1," Staff "),e.qZA())}function _t(o,r){if(1&o&&(e.TgZ(0,"div",73),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t||null==t.employee?null:t.employee.fullName," ")}}function vt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function ht(o,r){if(1&o&&(e.TgZ(0,"td",79),e.YNc(1,_t,2,1,"div",91),e.YNc(2,vt,2,0,"span",83),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.employee),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.employee))}}function yt(o,r){1&o&&e._UZ(0,"td",81)}function wt(o,r){1&o&&(e.TgZ(0,"th",92),e._uU(1,"\xa0"),e.qZA())}function bt(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_down"),e.qZA())}function Ct(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_up"),e.qZA())}function Zt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",79)(1,"button",93),e.NdJ("click",function(l){const d=e.CHM(t).$implicit,g=e.oxw(2);return g.expandedElement=g.expandedElement===d?null:d,l.stopPropagation()}),e.YNc(2,bt,2,0,"mat-icon",83),e.YNc(3,Ct,2,0,"mat-icon",83),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",n.expandedElement!==t),e.xp6(1),e.Q6J("ngIf",n.expandedElement===t)}}function Tt(o,r){1&o&&e._UZ(0,"td",81)}function Et(o,r){if(1&o&&(e.TgZ(0,"div",99)(1,"h3",100),e._uU(2,"Remarks"),e.qZA(),e.TgZ(3,"a",101),e._UZ(4,"markdown",102),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.Q6J("routerLink",e.VKq(2,ue,t.id)),e.xp6(1),e.Q6J("data",t.remarks)}}function At(o,r){if(1&o&&(e.TgZ(0,"div",103)(1,"a",101)(2,"h3",100),e._uU(3,"Infomation"),e.qZA(),e.TgZ(4,"ul",104)(5,"li",105)(6,"p",106),e._uU(7," Email "),e.qZA(),e.TgZ(8,"p",107),e._uU(9),e.qZA()(),e.TgZ(10,"li",105)(11,"p",106),e._uU(12," Name "),e.qZA(),e.TgZ(13,"p",107),e._uU(14),e.qZA()(),e.TgZ(15,"li",105)(16,"p",106),e._uU(17," Gender "),e.qZA(),e.TgZ(18,"p",107),e._uU(19),e.qZA()(),e.TgZ(20,"li",105)(21,"p",106),e._uU(22," Mobile "),e.qZA(),e.TgZ(23,"p",107),e._uU(24),e.qZA()(),e.TgZ(25,"li",105)(26,"p",106),e._uU(27," Address "),e.qZA(),e._UZ(28,"markdown",108),e.qZA()()()()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(6,ue,t.id)),e.xp6(8),e.hij(" ",null==t||null==t.employee?null:t.employee.email,""),e.xp6(5),e.hij(" ",null==t||null==t.employee?null:t.employee.fullName,""),e.xp6(5),e.hij(" ",null==t||null==t.employee?null:t.employee.gender,""),e.xp6(5),e.hij(" ",null==t||null==t.employee?null:t.employee.mobile,""),e.xp6(4),e.Q6J("data",null==t||null==t.employee?null:t.employee.address)}}function Ft(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",96),e.YNc(2,Et,5,4,"div",97),e.YNc(3,At,29,8,"div",98),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",null==t?null:t.remarks),e.xp6(1),e.Q6J("ngIf",null==t?null:t.employee)}}function Ut(o,r){if(1&o&&(e.TgZ(0,"td",79)(1,"div",94)(2,"div",95),e.YNc(3,Ft,4,2,"ng-container",83),e.qZA()()()),2&o){const t=r.$implicit,n=e.oxw(2);e.uIk("colspan",n.columnsToDisplayWithExpand.length),e.xp6(1),e.Q6J("@detailExpand",t==n.expandedElement?"expanded":"collapsed"),e.xp6(2),e.Q6J("ngIf",(null==t?null:t.remarks)||(null==t||null==t.employee?null:t.employee.fullName))}}function kt(o,r){1&o&&e._UZ(0,"td",81)}function St(o,r){1&o&&e._UZ(0,"tr",109)}function Dt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",110),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return d.expandedElement=d.expandedElement===a?null:a}),e.qZA()}if(2&o){const t=r.$implicit,n=e.oxw(2);e.ekj("example-expanded-row",n.expandedElement===t)}}function Ot(o,r){1&o&&e._UZ(0,"tr",111)}function qt(o,r){1&o&&e._UZ(0,"tr",112)}function It(o,r){if(1&o&&(e.TgZ(0,"tr",113)(1,"td",114),e._uU(2),e.qZA()()),2&o){e.oxw();const t=e.MAs(53);e.xp6(2),e.hij('No data matching the filter "',t.value,'"')}}const Nt=function(){return["../add"]},Bt=function(){return["expandedDetail"]};function Jt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"main",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"app-date-range",7,8),e.NdJ("data",function(l){return e.CHM(t),e.oxw().dateRangeChanged(l)}),e.qZA(),e.TgZ(6,"button",9)(7,"mat-icon",10),e._uU(8," add"),e.qZA(),e._uU(9," Create expense "),e.qZA()()(),e.YNc(10,Pe,12,6,"div",11),e.TgZ(11,"div",12)(12,"h2",13),e._uU(13," Expenses "),e.YNc(14,$e,2,1,"span",14),e.qZA(),e.YNc(15,We,2,1,"button",15),e.qZA(),e.TgZ(16,"div",16)(17,"ul",17)(18,"li")(19,"a",18)(20,"span",19)(21,"span",20),e.O4$(),e.TgZ(22,"svg",21),e._UZ(23,"path",22),e.qZA(),e.kcU(),e.TgZ(24,"span",23)(25,"span",24),e._uU(26,"Payment to Molly Sanders"),e.qZA(),e.TgZ(27,"span")(28,"span",25),e._uU(29,"$20,000"),e.qZA(),e._uU(30," USD"),e.qZA(),e.TgZ(31,"time",26),e._uU(32,"July 11, 2020"),e.qZA()()(),e.O4$(),e.TgZ(33,"svg",21),e._UZ(34,"path",27),e.qZA()()()()(),e.kcU(),e.TgZ(35,"nav",28)(36,"div",29)(37,"a",30),e._uU(38," Previous "),e.qZA(),e.TgZ(39,"a",31),e._uU(40," Next "),e.qZA()()()(),e.TgZ(41,"div",32)(42,"div",5)(43,"div",33)(44,"div",34)(45,"div",35)(46,"label",36),e._uU(47,"Search"),e.qZA(),e.TgZ(48,"div",37)(49,"div",38),e.O4$(),e.TgZ(50,"svg",39),e._UZ(51,"path",40),e.qZA()(),e.kcU(),e.TgZ(52,"input",41,42),e.NdJ("keyup",function(l){return e.CHM(t),e.oxw().applyFilter(l)}),e.qZA()()(),e.TgZ(54,"table",43),e.ynx(55,44),e.YNc(56,Ve,2,3,"th",45),e.YNc(57,Xe,2,2,"td",46),e.YNc(58,Ke,2,0,"td",47),e.BQk(),e.ynx(59,48),e.YNc(60,et,2,0,"th",45),e.YNc(61,tt,4,3,"td",46),e.YNc(62,nt,1,0,"td",47),e.BQk(),e.ynx(63,49),e.YNc(64,ot,2,0,"th",45),e.YNc(65,rt,3,2,"td",46),e.YNc(66,at,7,4,"td",47),e.BQk(),e.ynx(67,50),e.YNc(68,st,2,0,"th",45),e.YNc(69,ut,3,2,"td",46),e.YNc(70,pt,7,4,"td",47),e.BQk(),e.ynx(71,51),e.YNc(72,mt,2,0,"th",45),e.YNc(73,gt,3,4,"td",46),e.YNc(74,ft,1,0,"td",47),e.BQk(),e.ynx(75,52),e.YNc(76,xt,2,0,"th",45),e.YNc(77,ht,3,2,"td",46),e.YNc(78,yt,1,0,"td",47),e.BQk(),e.ynx(79,53),e.YNc(80,wt,2,0,"th",54),e.YNc(81,Zt,4,2,"td",46),e.YNc(82,Tt,1,0,"td",47),e.BQk(),e.ynx(83,55),e.YNc(84,Ut,4,3,"td",46),e.YNc(85,kt,1,0,"td",47),e.BQk(),e.YNc(86,St,1,0,"tr",56),e.YNc(87,Dt,1,2,"tr",57),e.YNc(88,Ot,1,0,"tr",58),e.YNc(89,qt,1,0,"tr",59),e.YNc(90,It,3,1,"tr",60),e.qZA()()()()()()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("routerLink",e.DdM(10,Nt)),e.xp6(4),e.Q6J("ngIf",t.groupSummary),e.xp6(4),e.Q6J("ngIf",t.activeDateRange),e.xp6(1),e.Q6J("ngIf",t.selection.selected.length>0),e.xp6(39),e.Q6J("dataSource",t.dataSource),e.xp6(32),e.Q6J("matHeaderRowDef",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matFooterRowDef",t.columnsToDisplayWithExpand)("matFooterRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(11,Bt))}}const Mt=[{path:"overview",component:(()=>{class o{constructor(t,n,l){this.adminService=t,this.mainService=n,this.route=l,this.loading=!0,this.currencySymbol="",this.displayedColumns=["select","category","employee","date","debit","credit"],this.columnsToDisplayWithExpand=[...this.displayedColumns,"expand"],this.selection=new Qe.Ov(!0,[]),this.groupSummary={},this.activeDateRange="",this.range=new f.cw({start:new f.NI(null),end:new f.NI(null)}),this.currencySymbol=this.mainService.getToLocalStorage(i.g.LOCAL_USER).currencySymbol||"\u20b9"}ngOnInit(){}ngAfterViewInit(){var t,n,l;null===(l=null===(n=null===(t=this.route)||void 0===t?void 0:t.parent)||void 0===n?void 0:n.parent)||void 0===l||l.params.subscribe(a=>{a&&a.slug&&this.initDate(a.slug)})}dateRangeChanged(t){var n,l,a;null===(a=null===(l=null===(n=this.route)||void 0===n?void 0:n.parent)||void 0===l?void 0:l.parent)||void 0===a||a.params.subscribe(d=>{d&&d.slug&&(this.activeDateRange=t.type,this.dateData=t,this.getAllExpense(d.slug,Y(t.start).startOf("day").toISOString(),Y(t.end).endOf("day").toISOString()))})}initDate(t){var n=this;return(0,U.Z)(function*(){const l=yield n.mainService.getSelectedDate();(null==l?void 0:l.start)&&(null==l?void 0:l.end)&&(null==l?void 0:l.type)&&(n.activeDateRange=l.type,n.dateData=l,n.getAllExpense(t,Y(l.start).startOf("day").toISOString(),Y(l.end).endOf("day").toISOString()))})()}getAllExpense(t,n,l){this.loading=!0,this.adminService.getAllExpense(n,l,t).then(a=>{this.restaurant=a.data.restaurant,this.expense=a.data,this.dogrouping(),this.dataSource=new F.by(this.expense),this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(d,g)=>-1!=JSON.stringify(d).toLowerCase().indexOf(g),this.loading=!1}).catch(a=>{this.loading=!1,console.log(a),this.mainService.openDialog("Error",this.mainService.errorMessage(a),"E")})}dogrouping(){if(this.groupSummary={},this.expense&&this.expense.length>0)for(let t=0;t<this.expense.length;t++){const n=this.expense[t];this.groupSummary[n.category.name]?(this.groupSummary[n.category.name].debit=this.groupSummary[n.category.name].debit+n.debit,this.groupSummary[n.category.name].credit=this.groupSummary[n.category.name].credit+n.credit):this.groupSummary[n.category.name]={debit:parseFloat(n.debit),credit:parseFloat(n.credit),currency:n.currency,colors:(0,Ye.Z)(n.category.name,700)}}}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}getDebitCost(){return parseInt(this.expense.map(t=>t.debit).reduce((t,n)=>t+n,0))}getCreditCost(){return parseInt(this.expense.map(t=>t.credit).reduce((t,n)=>t+n,0))}getImageUrl(t){return this.mainService.getImageUrl(t,i.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}deleteMultipleExpense(){var t,n,l;this.loading=!0;const a=this.selection.selected.map(d=>d.id);null===(l=null===(n=null===(t=this.route)||void 0===t?void 0:t.parent)||void 0===n?void 0:n.parent)||void 0===l||l.params.subscribe(d=>{d&&d.slug&&this.adminService.deleteExpenses(a,d.slug).then(g=>{this.loading=!1,this.mainService.openDialog("Success","Selected expense deleted successfully","S",!0,!1)}).catch(g=>{this.loading=!1,console.log(g),this.mainService.openDialog("Error",this.mainService.errorMessage(g),"E")})})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?(this.selection.isSelected(t)?"deselect":"select")+" }":(this.isAllSelected()?"deselect":"select")+" all"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.l),e.Y36(J.J),e.Y36(T.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-overview"]],viewQuery:function(t,n){if(1&t&&e.Gf(Me.YE,5),2&t){let l;e.iGM(l=e.CRH())&&(n.sort=l.first)}},decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","flex-1 pb-8 bg-gray-100 min-h-screen",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"flex-1","pb-8","bg-gray-100","min-h-screen"],[1,"pt-8"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","sm:flex-row","flex-col","justify-between","py-4","flex-wrap","sm:flex-nowrap"],[3,"data"],["dateRange",""],[1,"mt-2","sm:mt-0","inline-flex","justify-center","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mr-2","text-md"],["class","max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",4,"ngIf"],[1,"sm:px-6","lg:px-8","max-w-6xl","mx-auto","mt-8","px-4","flex","flex-row","justify-between"],[1,"text-lg","leading-6","font-medium","text-gray-900"],["class","lowercase text-gray-500 text-xs font-normal",4,"ngIf"],["type","button","class","inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",3,"click",4,"ngIf"],[1,"shadow","sm:hidden"],["role","list",1,"mt-2","divide-y","divide-gray-200","overflow-hidden","shadow","sm:hidden"],["href","#",1,"block","px-4","py-4","bg-white","hover:bg-gray-50"],[1,"flex","items-center","space-x-4"],[1,"flex-1","flex","space-x-2","truncate"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"flex-shrink-0","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule","evenodd"],[1,"flex","flex-col","text-gray-500","text-sm","truncate"],[1,"truncate"],[1,"text-gray-900","font-medium"],["datetime","2020-07-11"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],["aria-label","Pagination",1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200"],[1,"flex-1","flex","justify-between"],["href","#",1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],["href","#",1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:text-gray-500"],[1,"hidden","sm:block"],[1,"flex","flex-col","mt-2"],[1,"align-middle","min-w-full","overflow-x-auto","shadow","overflow-hidden","sm:rounded-lg","bg-white"],[1,"w-full","flex","md:ml-0","px-6","py-4"],["for","search-field",1,"sr-only"],[1,"relative","w-full","text-gray-400","focus-within:text-gray-600"],["aria-hidden","true",1,"absolute","inset-y-0","left-0","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["name","search-field","placeholder","Search",1,"z-0","block","w-full","h-full","pl-8","pr-3","py-2","border-transparent","text-gray-900","placeholder-gray-500","focus:outline-none","focus:ring-0","focus:border-transparent","sm:text-sm",3,"keyup"],["input",""],["mat-table","","multiTemplateDataRows","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","date"],["matColumnDef","debit"],["matColumnDef","credit"],["matColumnDef","category"],["matColumnDef","employee"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8","mt-8"],["role","list",1,"grid","grid-cols-1","gap-4","sm:gap-6","sm:grid-cols-2","xl:grid-cols-4","mt-3"],["class","bg-white hover:bg-gray-50 relative col-span-1 flex shadow rounded-xl overflow-hidden",4,"ngFor","ngForOf"],[1,"relative","col-span-1","flex","shadow","rounded-xl","cursor-pointer","bg-white","hover:bg-gray-50",3,"routerLink"],[1,"w-full","p-4","flex","justify-center","items-center","truncate"],[1,"mr-2"],[1,"lowercase","text-gray-500","text-xs","font-normal"],[1,"bg-white","hover:bg-gray-50","relative","col-span-1","flex","shadow","rounded-xl","overflow-hidden"],[1,"flex-shrink-0","flex","items-center","justify-center","w-16","text-xl","font-medium","rounded-l-md",3,"ngStyle"],[1,"flex-1","flex","items-center","justify-between","rounded-r-md","truncate"],[1,"flex-1","px-4","py-2","text-sm","truncate"],[1,"text-gray-900","font-medium","hover:text-gray-600"],[1,"text-gray-500"],[1,"text-red-500"],[1,"text-green-600"],["type","button",1,"inline-flex","items-center","px-2.5","py-1.5","border","border-transparent","text-xs","font-medium","rounded","text-red-700","bg-red-100","hover:bg-red-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],["mat-header-cell","","mat-sort-header",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-footer-cell",""],["class","text-red-500 flex items-center",4,"ngIf"],[4,"ngIf"],[1,"text-red-500","flex","items-center"],[1,"text-base","text-red-500","mr-1"],[1,"py-2"],["class","text-green-600 flex items-center",4,"ngIf"],[1,"text-green-600","flex","items-center"],[1,"text-base","text-green-600","mr-1"],[1,"capitalize","underline","text-indigo-500",3,"routerLink"],["class","text-gray-500",4,"ngIf"],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","aria-label","expand row",3,"click"],[1,"detail"],[1,"py-4","px-1"],[1,"w-full","relative","divide-x","divide-gray-300","px-4","space-x-3","rounded-lg","border","border-gray-200","bg-yellow-50","py-4","shadow-md","flex","focus-within:ring-2","focus-within:ring-offset-2","focus-within:ring-indigo-500"],["class","flex-1 min-w-0 ",4,"ngIf"],["class","flex-1 pl-4 min-w-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"text-gray-400","mb-2"],[1,"focus:outline-none",3,"routerLink"],[1,"text-justify",3,"data"],[1,"flex-1","pl-4","min-w-0"],["role","list",1,"divide-y","divide-gray-200"],[1,"py-2","flex-col"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-gray-500",3,"data"],["mat-header-row",""],["mat-row","",1,"row",3,"click"],["mat-footer-row",""],["mat-row","",1,"example-detail-row"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,n){1&t&&(e.YNc(0,He,1,0,"app-loader",0),e.YNc(1,Jt,91,12,"main",1)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[x.O5,K.R,Ge.S,T.rH,$.Hw,x.sg,x.PC,F.BZ,F.w1,F.fO,F.ge,Fe.oG,F.Dz,F.ev,F.mD,F.yh,T.yS,Ue.lF,F.as,F.XQ,F.nj,F.Gk,F.Ke,F.Q2,F.Ee],pipes:[x.Nd,x.H9,x.uU],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.detail[_ngcontent-%COMP%]{overflow:hidden}.diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0}.symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.description[_ngcontent-%COMP%]{padding:16px}.description-attribution[_ngcontent-%COMP%]{opacity:.5}tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:700}.mat-table-sticky[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}.example-detail[_ngcontent-%COMP%]{overflow:hidden}"],data:{animation:[(0,R.X$)("detailExpand",[(0,R.SB)("collapsed",(0,R.oB)({height:"0px",minHeight:"0"})),(0,R.SB)("expanded",(0,R.oB)({height:"*"})),(0,R.eR)("expanded <=> collapsed",(0,R.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),o})(),pathMatch:"full"},{path:"edit/:expenseId",component:Ae,pathMatch:"full"},{path:"add",component:Ae,pathMatch:"full"},{path:"category",loadChildren:()=>Promise.resolve().then(m.bind(m,1707)).then(o=>o.CategoryModule)}];let Yt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[T.Bz.forChild(Mt)],T.Bz]}),o})();var Qt=m(2096),Gt=m(1707);let Ht=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[x.ez,Yt,Qt.x,$.Ps,W.FA,f.u5,f.UX,F.p0,Ue.JP,M.To,Gt.CategoryModule,Fe.p9]]}),o})()},8080:(z,q,m)=>{var U=Q(m(6301)),i=Q(m(9386));function Q(S){return S&&S.__esModule?S:{default:S}}var B=["50","100","200","300","400","500","600","700","800","900"],j="rgba(255, 255, 255, 1)",G="rgba(0, 0, 0, 0.87)";function P(S){var J=(0,U.default)(S);return i.default[J%i.default.length]}q.Z=function e(S){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,I=""+J;B.includes(I)||(I="500");var H=P(S);return{backgroundColor:H.shades[I],color:parseInt(I,10)>=H.whiteBreakpoint?j:G,materialColorName:H.name}}},9386:(z,q)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.default=[{shades:{50:"#FFEBEE",100:"#FFCDD2",200:"#EF9A9A",300:"#E57373",400:"#EF5350",500:"#F44336",600:"#E53935",700:"#D32F2F",800:"#C62828",900:"#B71C1C"},name:"Red",whiteBreakpoint:400},{shades:{50:"#FCE4EC",100:"#F8BBD0",200:"#F48FB1",300:"#F06292",400:"#EC407A",500:"#E91E63",600:"#D81B60",700:"#C2185B",800:"#AD1457",900:"#880E4F"},name:"Pink",whiteBreakpoint:300},{shades:{50:"#F3E5F5",100:"#E1BEE7",200:"#CE93D8",300:"#BA68C8",400:"#AB47BC",500:"#9C27B0",600:"#8E24AA",700:"#7B1FA2",800:"#6A1B9A",900:"#4A148C"},name:"Purple",whiteBreakpoint:300},{shades:{50:"#EDE7F6",100:"#D1C4E9",200:"#B39DDB",300:"#9575CD",400:"#7E57C2",500:"#673AB7",600:"#5E35B1",700:"#512DA8",800:"#4527A0",900:"#311B92"},name:"Deep Purple",whiteBreakpoint:300},{shades:{50:"#E8EAF6",100:"#C5CAE9",200:"#9FA8DA",300:"#7986CB",400:"#5C6BC0",500:"#3F51B5",600:"#3949AB",700:"#303F9F",800:"#283593",900:"#1A237E"},name:"Indigo",whiteBreakpoint:300},{shades:{50:"#E3F2FD",100:"#BBDEFB",200:"#90CAF9",300:"#64B5F6",400:"#42A5F5",500:"#2196F3",600:"#1E88E5",700:"#1976D2",800:"#1565C0",900:"#0D47A1"},name:"Blue",whiteBreakpoint:500},{shades:{50:"#E1F5FE",100:"#B3E5FC",200:"#81D4FA",300:"#4FC3F7",400:"#29B6F6",500:"#03A9F4",600:"#039BE5",700:"#0288D1",800:"#0277BD",900:"#01579B"},name:"Light Blue",whiteBreakpoint:600},{shades:{50:"#E0F7FA",100:"#B2EBF2",200:"#80DEEA",300:"#4DD0E1",400:"#26C6DA",500:"#00BCD4",600:"#00ACC1",700:"#0097A7",800:"#00838F",900:"#006064"},name:"Cyan",whiteBreakpoint:700},{shades:{50:"#E0F2F1",100:"#B2DFDB",200:"#80CBC4",300:"#4DB6AC",400:"#26A69A",500:"#009688",600:"#00897B",700:"#00796B",800:"#00695C",900:"#004D40"},name:"Teal",whiteBreakpoint:500},{shades:{50:"#E8F5E9",100:"#C8E6C9",200:"#A5D6A7",300:"#81C784",400:"#66BB6A",500:"#4CAF50",600:"#43A047",700:"#388E3C",800:"#2E7D32",900:"#1B5E20"},name:"Green",whiteBreakpoint:600},{shades:{50:"#F1F8E9",100:"#DCEDC8",200:"#C5E1A5",300:"#AED581",400:"#9CCC65",500:"#8BC34A",600:"#7CB342",700:"#689F38",800:"#558B2F",900:"#33691E"},name:"Light Green",whiteBreakpoint:600},{shades:{50:"#F9FBE7",100:"#F0F4C3",200:"#E6EE9C",300:"#DCE775",400:"#D4E157",500:"#CDDC39",600:"#C0CA33",700:"#AFB42B",800:"#9E9D24",900:"#827717"},name:"Lime",whiteBreakpoint:900},{shades:{50:"#FFFDE7",100:"#FFF9C4",200:"#FFF59D",300:"#FFF176",400:"#FFEE58",500:"#FFEB3B",600:"#FDD835",700:"#FBC02D",800:"#F9A825",900:"#F57F17"},name:"Yellow",whiteBreakpoint:9999},{shades:{50:"#FFF8E1",100:"#FFECB3",200:"#FFE082",300:"#FFD54F",400:"#FFCA28",500:"#FFC107",600:"#FFB300",700:"#FFA000",800:"#FF8F00",900:"#FF6F00"},name:"Amber",whiteBreakpoint:9999},{shades:{50:"#FFF3E0",100:"#FFE0B2",200:"#FFCC80",300:"#FFB74D",400:"#FFA726",500:"#FF9800",600:"#FB8C00",700:"#F57C00",800:"#EF6C00",900:"#E65100"},name:"Orange",whiteBreakpoint:800},{shades:{50:"#FBE9E7",100:"#FFCCBC",200:"#FFAB91",300:"#FF8A65",400:"#FF7043",500:"#FF5722",600:"#F4511E",700:"#E64A19",800:"#D84315",900:"#BF360C"},name:"Deep Orange",whiteBreakpoint:500},{shades:{50:"#EFEBE9",100:"#D7CCC8",200:"#BCAAA4",300:"#A1887F",400:"#8D6E63",500:"#795548",600:"#6D4C41",700:"#5D4037",800:"#4E342E",900:"#3E2723"},name:"Brown",whiteBreakpoint:300},{shades:{50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},name:"Grey",whiteBreakpoint:600},{shades:{50:"#ECEFF1",100:"#CFD8DC",200:"#B0BEC5",300:"#90A4AE",400:"#78909C",500:"#607D8B",600:"#546E7A",700:"#455A64",800:"#37474F",900:"#263238"},name:"Blue Grey",whiteBreakpoint:300}]},6301:z=>{z.exports=function q(m){for(var x=5381,T=m.length;T;)x=33*x^m.charCodeAt(--T);return x>>>0}}}]);