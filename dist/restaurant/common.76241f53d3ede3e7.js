"use strict";(self.webpackChunkRestaurant=self.webpackChunkRestaurant||[]).push([[592],{158:(U,w,c)=>{c.d(w,{t:()=>y});var e=c(3014),m=c.n(e),t=c(4987),i=c(5e3),x=c(5045);let y=(()=>{class v{constructor(_){this.mainService=_}getOrderInfo(_){const b=this.mainService.getToLocalStorage(t.g.LOCAL_CART),l={user:this.mainService.getToLocalStorage(t.g.LOCAL_USER).id,restaurantSlug:_,orderItems:[],table:"",modeOfTransaction:""};for(const s in b)if(Object.prototype.hasOwnProperty.call(b,s)){const o=b[s],n={dish:o.id,orderDishCategory:[]};for(const a in o.category){if(Object.prototype.hasOwnProperty.call(o.category,a)){const f=o.category[a];n.orderDishCategory.push({quantity:f.quantity,name:f.name,id:f.id})}l.orderItems.push(n)}}return l}createOrder(_,b,l){const s=this.mainService.getToLocalStorage(t.g.LOCAL_USER).jwt||"";_.table=b,_.modeOfTransaction=l;const o={Authorization:`Bearer ${s}`};return m().post(t.g.BASE_URL+t.g.CREATE_ORDER_URL,_,{headers:o})}getAllTables(_){const l={Authorization:`Bearer ${this.mainService.getToLocalStorage(t.g.LOCAL_USER).jwt||""}`},s=t.g.BASE_URL+t.g.TABLE+`?slug=${_}`;return m().get(s,{headers:l})}}return v.\u0275fac=function(_){return new(_||v)(i.LFG(x.J))},v.\u0275prov=i.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},3707:(U,w,c)=>{c.d(w,{_:()=>l});var e=c(5e3),m=c(4987),t=c(5045),i=c(9808),x=c(508),y=c(5245);function v(s,o){if(1&s){const n=e.EpF();e.TgZ(0,"li",2)(1,"div",3),e._UZ(2,"img",4),e.qZA(),e.TgZ(3,"div",5)(4,"div")(5,"div",6)(6,"h3",7),e._uU(7),e.qZA(),e.TgZ(8,"p",8),e._uU(9),e.ALo(10,"currency"),e.qZA()(),e.TgZ(11,"p",9),e._uU(12),e.ALo(13,"currency"),e.qZA()(),e.TgZ(14,"div",10)(15,"p",11),e._uU(16),e.qZA(),e.TgZ(17,"div",12)(18,"button",13),e.NdJ("click",function(){const C=e.CHM(n).$implicit,h=e.oxw(2);return h.decreaseQuntity(h.getJsonData(C.value,"name"))}),e.TgZ(19,"mat-icon",14),e._uU(20,"remove"),e.qZA()(),e.TgZ(21,"p",15),e._uU(22),e.qZA(),e.TgZ(23,"button",16),e.NdJ("click",function(){const C=e.CHM(n).$implicit,h=e.oxw(2);return h.increaseQuntity(h.getJsonData(C.value,"name"))}),e.TgZ(24,"mat-icon",14),e._uU(25,"add"),e.qZA()()(),e.TgZ(26,"div",17)(27,"button",18),e.NdJ("click",function(){const C=e.CHM(n).$implicit,h=e.oxw(2);return h.removeDish(h.getJsonData(C.value,"name"))}),e._uU(28," Remove "),e.qZA()()()()()}if(2&s){const n=o.$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("src",a.getImageUrl(a.dish),e.LSH)("alt",a.dish.name),e.xp6(5),e.hij(" ",a.dish.name," "),e.xp6(2),e.Oqu(e.xi3(10,18,a.getJsonData(n.value,"price")*a.getJsonData(n.value,"quantity"),a.dish.currency)),e.xp6(3),e.AsE(" ",a.getJsonData(n.value,"name")," /",e.xi3(13,21,a.getJsonData(n.value,"price"),a.dish.currency)," "),e.xp6(3),e.Q6J("ngClass","Veg"==a.dish.type?"bg-green-100 text-green-800":"bg-red-100 text-red-500"),e.xp6(1),e.Oqu(a.type),e.xp6(2),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(4),e.Oqu(a.getJsonData(n.value,"quantity")||0),e.xp6(1),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(4),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1)}}function E(s,o){if(1&s&&(e.ynx(0),e.YNc(1,v,29,24,"li",1),e.ALo(2,"keyvalue"),e.BQk()),2&s){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.dish.category))}}function _(s,o){if(1&s){const n=e.EpF();e.TgZ(0,"ul",20)(1,"li",21)(2,"div",22),e._UZ(3,"img",23),e.qZA(),e.TgZ(4,"div",24)(5,"div",17)(6,"div",25)(7,"h4",26)(8,"div",27),e._uU(9),e.qZA()(),e.TgZ(10,"p",28),e._uU(11),e.ALo(12,"currency"),e.qZA()(),e.TgZ(13,"div",29)(14,"button",30),e.NdJ("click",function(){const C=e.CHM(n).$implicit,h=e.oxw(2);return h.removeDish(h.getJsonData(C.value,"name"))}),e.TgZ(15,"span",31),e._uU(16,"Remove"),e.qZA(),e.O4$(),e.TgZ(17,"svg",32),e._UZ(18,"path",33),e.qZA()()()(),e.kcU(),e.TgZ(19,"div",34)(20,"div",35)(21,"button",36),e.NdJ("click",function(){const C=e.CHM(n).$implicit,h=e.oxw(2);return h.decreaseQuntity(h.getJsonData(C.value,"name"))}),e.TgZ(22,"mat-icon",37),e._uU(23,"remove"),e.qZA()(),e.TgZ(24,"p",38),e._uU(25),e.qZA(),e.TgZ(26,"button",39),e.NdJ("click",function(){const C=e.CHM(n).$implicit,h=e.oxw(2);return h.increaseQuntity(h.getJsonData(C.value,"name"))}),e.TgZ(27,"mat-icon",40),e._uU(28,"add"),e.qZA()()(),e.TgZ(29,"p",41),e._uU(30),e.ALo(31,"currency"),e.qZA()()()()()}if(2&s){const n=o.$implicit,a=e.oxw(2);e.xp6(3),e.Q6J("src",a.getImageUrl(a.dish),e.LSH)("alt",a.dish.name),e.xp6(6),e.hij("",a.dish.name," "),e.xp6(2),e.lnq("",a.getJsonData(n.value,"name"),"\xa0\ufe52\xa0",a.type,"\xa0\ufe52\xa0",e.xi3(12,17,a.getJsonData(n.value,"price"),a.dish.currency),""),e.xp6(3),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(8),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(3),e.Oqu(a.getJsonData(n.value,"quantity")||0),e.xp6(2),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(3),e.Oqu(e.xi3(31,20,a.getJsonData(n.value,"price")*a.getJsonData(n.value,"quantity"),a.dish.currency))}}function b(s,o){if(1&s&&(e.ynx(0),e.YNc(1,_,32,23,"ul",19),e.ALo(2,"keyvalue"),e.BQk()),2&s){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.dish.category))}}let l=(()=>{class s{constructor(n){this.mainService=n,this.theme="user",this.refreshCart=new e.vpe}ngOnInit(){}getJsonData(n,a){return n[a]}getTotalPrice(){}removeDish(n){var a;const f=this.mainService.getToLocalStorage(m.g.LOCAL_CART);delete f[this.dish.id].category[n],0==(null===(a=Object.keys(f[this.dish.id].category))||void 0===a?void 0:a.length)&&delete f[this.dish.id],this.mainService.setToLocalStorage(f,m.g.LOCAL_CART),this.refreshCart.emit(parseInt(this.dish.id))}increaseQuntity(n){const a=this.mainService.getToLocalStorage(m.g.LOCAL_CART);a[this.dish.id].category[n].quantity++,this.mainService.setToLocalStorage(a,m.g.LOCAL_CART),this.refreshCart.emit(parseInt(this.dish.id))}decreaseQuntity(n){const a=this.mainService.getToLocalStorage(m.g.LOCAL_CART);let f=a[this.dish.id].category[n].quantity;f--,0==f?this.removeDish(n):(a[this.dish.id].category[n].quantity--,this.mainService.setToLocalStorage(a,m.g.LOCAL_CART),this.refreshCart.emit(parseInt(this.dish.id)))}getImageUrl(n){var a;if("object"==typeof n.image){let f=m.g.IMAGE_JSON_STRUCTURE_WITH_ATTRIBUTE;return(null===(a=n.image[0])||void 0===a?void 0:a.url)&&(f=m.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE),this.mainService.getImageUrl(n.image?n.image[0]:"",f)}return n.image}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(t.J))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-cart-card"]],inputs:{dish:"dish",type:"type",theme:"theme"},outputs:{refreshCart:"refreshCart"},decls:2,vars:2,consts:[[4,"ngIf"],["class","py-6 flex border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"py-6","flex","border-b","dark:border-gray-700"],[1,"flex-shrink-0","w-24","h-24","rounded-lg","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-center","object-cover",3,"src","alt"],[1,"ml-4","flex-1","flex","flex-col"],[1,"flex","justify-between","text-base","font-medium","text-gray-900","dark:text-white"],[1,"capitalize"],[1,"ml-4","text-red-500","dark:text-red-700"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex-1","flex","items-center","justify-between","text-sm","mt-2"],[1,"text-gray-500","px-1.5","py-1","rounded-full","text-xs",3,"ngClass"],[1,"flex","items-center","space-x-3","border-2","dark:border-gray-700","rounded-full"],["matRipple","",1,"bg-indigo-500","dark:bg-indigo-500","cursor-pointer","rounded-full","flex","justify-center","items-center","w-8","h-8","active:bg-indigo-700","dark:active:bg-indigo-800","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"text-white"],[1,"text-gray-500","text-sm","dark:text-gray-100"],["matRipple","",1,"ml-4","bg-indigo-500","dark:bg-indigo-500","cursor-pointer","rounded-full","flex","justify-center","items-center","w-8","h-8","active:bg-indigo-700","dark:active:bg-indigo-800","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"flex"],["type","button","matRipple","",1,"font-medium","text-indigo-500","hover:text-indigo-500","p-2","rounded-full","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],["role","list","class","divide-y divide-gray-200 border-b",4,"ngFor","ngForOf"],["role","list",1,"divide-y","divide-gray-200","border-b"],[1,"flex","py-6"],[1,"flex-shrink-0"],["loading","lazy",1,"w-20","h-20","object-cover","rounded-md",3,"src","alt"],[1,"ml-6","flex-1","flex","flex-col"],[1,"min-w-0","flex-1"],[1,"text-sm"],[1,"font-medium","text-gray-700","hover:text-gray-800","capitalize"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flow-root"],["type","button","matRipple","",1,"-m-2.5","bg-white","p-2.5","flex","items-center","justify-center","text-gray-400","hover:text-gray-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"flex-1","pt-2","flex","items-end","justify-between"],[1,"flex","items-center","overflow-hidden","space-x-3","border","rounded-md"],[1,"cursor-pointer","bg-gray-100","hover:bg-gray-200","flex","justify-center","items-center","w-6","h-6",3,"click"],["matRipple","",1,"text-gray-400","hover:text-gray-500","rounded-full","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded"],[1,"text-gray-500","text-sm"],[1,"ml-4","bg-gray-100","cursor-pointer","hover:bg-gray-200","flex","justify-center","items-center","w-6","h-6",3,"click"],["matRipple","",1,"text-gray-400","hover:text-gray-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded"],[1,"mt-1","text-sm","font-medium","text-red-500"]],template:function(n,a){1&n&&(e.YNc(0,E,3,3,"ng-container",0),e.YNc(1,b,3,3,"ng-container",0)),2&n&&(e.Q6J("ngIf","user"==a.theme),e.xp6(1),e.Q6J("ngIf","admin"==a.theme))},directives:[i.O5,i.sg,i.mk,x.wG,y.Hw],pipes:[i.Nd,i.H9],styles:[""]}),s})()},4011:(U,w,c)=>{c.d(w,{_:()=>m});var e=c(5e3);let m=(()=>{class t{constructor(x){this.elementRef=x,this.clickOutside=new e.vpe}onClick(x){this.elementRef.nativeElement.contains(x)||this.clickOutside.emit()}}return t.\u0275fac=function(x){return new(x||t)(e.Y36(e.SBq))},t.\u0275dir=e.lG2({type:t,selectors:[["","clickOutside",""]],hostBindings:function(x,y){1&x&&e.NdJ("click",function(E){return y.onClick(E.target)},!1,e.evT)},outputs:{clickOutside:"clickOutside"}}),t})()},9421:(U,w,c)=>{c.d(w,{D:()=>b});var e=c(3877),m=c(8966),t=c(4987),i=c(5e3),x=c(5045),y=c(9808),v=c(5245);function E(l,s){if(1&l){const o=i.EpF();i.TgZ(0,"div",9)(1,"label",10),i.O4$(),i.TgZ(2,"svg",11),i._UZ(3,"path",12),i.qZA(),i.kcU(),i.TgZ(4,"span",13),i._uU(5,"Click to upload image"),i.qZA()(),i.TgZ(6,"input",14),i.NdJ("change",function(a){return i.CHM(o),i.oxw().fileChangeEvent(a)}),i.qZA()()}}function _(l,s){if(1&l){const o=i.EpF();i.TgZ(0,"div")(1,"div",15)(2,"button",16),i.NdJ("click",function(){return i.CHM(o),i.oxw().rotateLeft()}),i.TgZ(3,"mat-icon",17),i._uU(4,"rotate_90_degrees_ccw"),i.qZA()(),i.TgZ(5,"button",18),i.NdJ("click",function(){return i.CHM(o),i.oxw().rotateRight()}),i.TgZ(6,"mat-icon",17),i._uU(7,"rotate_90_degrees_cw"),i.qZA()(),i.TgZ(8,"button",18),i.NdJ("click",function(){return i.CHM(o),i.oxw().flipHorizontal()}),i.TgZ(9,"mat-icon",19),i._uU(10,"flip"),i.qZA()(),i.TgZ(11,"button",18),i.NdJ("click",function(){return i.CHM(o),i.oxw().flipVertical()}),i.TgZ(12,"mat-icon",17),i._uU(13,"flip"),i.qZA()(),i.TgZ(14,"button",18),i.NdJ("click",function(){return i.CHM(o),i.oxw().zoomOut()}),i.TgZ(15,"mat-icon",17),i._uU(16,"zoom_out"),i.qZA()(),i.TgZ(17,"button",18),i.NdJ("click",function(){return i.CHM(o),i.oxw().zoomIn()}),i.TgZ(18,"mat-icon",17),i._uU(19,"zoom_in"),i.qZA()()(),i.TgZ(20,"div",20)(21,"div",21)(22,"image-cropper",22),i.NdJ("imageCropped",function(a){return i.CHM(o),i.oxw().imageCropped(a)})("imageLoaded",function(){return i.CHM(o),i.oxw().imageLoaded()})("cropperReady",function(a){return i.CHM(o),i.oxw().cropperReady(a)})("loadImageFailed",function(){return i.CHM(o),i.oxw().loadImageFailed()}),i.qZA()(),i.TgZ(23,"div",21),i._UZ(24,"img",23),i.qZA()(),i.TgZ(25,"div",24)(26,"button",25),i.NdJ("click",function(){return i.CHM(o),i.oxw().resetImage()}),i.TgZ(27,"mat-icon",26),i._uU(28," rotate_left"),i.qZA(),i._uU(29," Reset "),i.qZA()()()}if(2&l){const o=i.oxw();i.xp6(22),i.Udp("display",o.showCropper?null:"none"),i.Q6J("imageChangedEvent",o.imageChangedEvent)("maintainAspectRatio",!0)("containWithinAspectRatio",o.containWithinAspectRatio)("aspectRatio",1)("resizeToWidth",1280)("resizeToHeight",640)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",o.canvasRotation)("transform",o.transform)("alignImage","left"),i.xp6(2),i.Q6J("src",o.croppedImage,i.LSH)}}let b=(()=>{class l{constructor(o,n,a){this.dialogRef=o,this.data=n,this.mainService=a,this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!0,this.transform={}}ngOnInit(){}fileChangeEvent(o){this.imageSize=this.calculateImageSize(o.target.files[0]),this.imageSize<=t.g.MAX_IMAGE_SIZE_IN_MB?this.imageChangedEvent=o:this.mainService.openDialog("Error","Image size should be less than "+t.g.MAX_IMAGE_SIZE_IN_MB+" MB","E")}imageCropped(o){this.croppedImage=o.base64,this.data.image=(0,e.Ll)(this.croppedImage),this.data.base64=this.croppedImage}calculateImageSize(o){return this.data.name=o.name,this.data.type=o.type,(o.size/1024/1024).toFixed(4)}imageLoaded(){this.showCropper=!0}cropperReady(o){}loadImageFailed(){this.mainService.openDialog("Error","Image Loading failed","E")}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipAfterRotate(){const o=this.transform.flipH,n=this.transform.flipV;this.transform=Object.assign(Object.assign({},this.transform),{flipH:n,flipV:o})}flipHorizontal(){this.transform=Object.assign(Object.assign({},this.transform),{flipH:!this.transform.flipH})}flipVertical(){this.transform=Object.assign(Object.assign({},this.transform),{flipV:!this.transform.flipV})}resetImage(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={}}zoomOut(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}toggleContainWithinAspectRatio(){this.containWithinAspectRatio=!this.containWithinAspectRatio}updateRotation(){this.transform=Object.assign(Object.assign({},this.transform),{rotate:this.rotation})}closeModal(){this.dialogRef.close()}clear(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={},this.imageChangedEvent=null}}return l.\u0275fac=function(o){return new(o||l)(i.Y36(m.so),i.Y36(m.WI),i.Y36(x.J))},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-edit-image-modal"]],decls:13,vars:4,consts:[[1,"bg-gray-100","px-5","py-4","flex","justify-between","items-center"],[1,"font-bold"],["type","button",1,"inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","focus:outline-none","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"bg-white","p-6",2,"background","repeating-conic-gradient(rgb(246, 246, 249) 0%, rgb(246, 246, 249) 25%, transparent 0%, transparent 50%) 50% center / 20px 20px"],["class","block w-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",4,"ngIf"],[4,"ngIf"],[1,"bg-gray-100","px-5","py-4","flex","justify-between"],[1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"disabled:bg-indigo-400","cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled","mat-dialog-close"],[1,"block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-12","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["for","upload-photo"],["xmlns","http://www.w3.org/2000/svg","stroke","currentColor","fill","none","viewBox","0 0 48 48","aria-hidden","true",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 14v20c0 4.418 7.163 8 16 8 1.381 0 2.721-.087 4-.252M8 14c0 4.418 7.163 8 16 8s16-3.582 16-8M8 14c0-4.418 7.163-8 16-8s16 3.582 16 8m0 0v14m0-4c0 4.418-7.163 8-16 8S8 28.418 8 24m32 10v6m0 0v6m0-6h6m-6 0h-6"],[1,"mt-2","block","text-sm","font-medium","text-gray-600"],["type","file","name","photo","id","upload-photo",2,"opacity","0","position","absolute","z-index","-1",3,"change"],[1,"flex","justify-between","items-center","my-6"],["type","button",1,"inline-flex","items-center","p-2","border","border-transparent","rounded-full","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"text-base"],["type","button",1,"ml-4","inline-flex","items-center","p-2","border","border-transparent","rounded-full","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"text-base","h-6","w-6"],[1,"grid","grid-cols-1","sm:grid-cols-2"],[1,"max-w-xs","max-h-min"],[3,"imageChangedEvent","maintainAspectRatio","containWithinAspectRatio","aspectRatio","resizeToWidth","resizeToHeight","onlyScaleDown","roundCropper","canvasRotation","transform","alignImage","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["loading","lazy",3,"src"],[1,"w-full","flex","justify-center","mt-4"],[1,"flex","items-center","bg-red-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-red-500",3,"click"],[1,"mr-2"]],template:function(o,n){1&o&&(i.TgZ(0,"div",0)(1,"h3",1),i._uU(2,"Edit Image"),i.qZA(),i.TgZ(3,"button",2),i.NdJ("click",function(){return n.clear()}),i._uU(4,"Clear"),i.qZA()(),i.TgZ(5,"div",3),i.YNc(6,E,7,0,"div",4),i.YNc(7,_,30,14,"div",5),i.qZA(),i.TgZ(8,"div",6)(9,"button",7),i.NdJ("click",function(){return n.closeModal()}),i._uU(10," Close "),i.qZA(),i.TgZ(11,"button",8),i._uU(12," Save "),i.qZA()()),2&o&&(i.xp6(6),i.Q6J("ngIf",!n.imageChangedEvent),i.xp6(1),i.Q6J("ngIf",n.imageChangedEvent),i.xp6(4),i.Q6J("disabled",!n.croppedImage)("mat-dialog-close",n.data))},directives:[y.O5,v.Hw,e.ap,m.ZT],styles:["@media only screen and (max-width: 829px){image-cropper[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}}image-cropper[_ngcontent-%COMP%]{height:50vh}"]}),l})()},5748:(U,w,c)=>{c.d(w,{r:()=>E});var e=c(8966),m=c(2490),t=c(5e3),i=c(5045),x=c(5245),y=c(9808);function v(_,b){if(1&_){const l=t.EpF();t.TgZ(0,"pdf-viewer",34),t.NdJ("pagechanging",function(o){return t.CHM(l),t.oxw().pagechanging(o.target.value)})("after-load-complete",function(o){return t.CHM(l),t.oxw().afterLoadComplete(o)})("pageChange",function(o){return t.CHM(l),t.oxw().page=o})("error",function(o){return t.CHM(l),t.oxw().onError(o)}),t.qZA()}if(2&_){const l=t.oxw();t.Q6J("src",null==l.data?null:l.data.url)("rotation",0)("original-size",!1)("show-all",l.showAll)("fit-to-page",l.fitToPage)("zoom",l.zoom)("zoom-scale","page-fit")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("page",l.page)("rotation",l.rotation)("show-borders",!1)}}let E=(()=>{class _{constructor(l,s,o){this.data=l,this.mainService=s,this.dialog=o,this.renderText=!0,this.originalSize=!1,this.fitToPage=!0,this.showAll=!0,this.autoresize=!1,this.showBorders=!0,this.renderTextModes=[0,1,2],this.renderTextMode=1,this.rotation=0,this.zoom=1,this.zoomScale="page-fit",this.pdfQuery="",this.totalPages=0,this.page=1,this.isLoaded=!1}ngOnInit(){}searchQueryChanged(l){this.pdfComponent.eventBus.dispatch("find",{query:l,type:"again",caseSensitive:!1,findPrevious:void 0,highlightAll:!0,phraseSearch:!0})}pagechanging(l){(null==l?void 0:l.pageNumber)&&(this.page=l.pageNumber)}afterLoadComplete(l){this.totalPages=l.numPages,this.isLoaded=!0}nextPage(){this.page<this.totalPages&&this.page++}prevPage(){this.totalPages>0&&this.page>1&&this.page--}changeZoomScale(l){this.pdfComponent.pdfViewer.currentScaleValue=l}onError(l){console.log("Error",l),this.mainService.openDialog("Error","Error loading pdf.","E")}}return _.\u0275fac=function(l){return new(l||_)(t.Y36(e.WI),t.Y36(i.J),t.Y36(e.uw))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-pdf-viewer"]],viewQuery:function(l,s){if(1&l&&t.Gf(m.rQ,5),2&l){let o;t.iGM(o=t.CRH())&&(s.pdfComponent=o.first)}},decls:76,vars:3,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","z-10","inset-0","overflow-hidden","bg-gray-200"],[1,"relative","items-end","justify-center","text-center","block","p-0"],[1,"bg-white","shadow"],[1,"max-w-7xl","mx-auto","px-2","sm:px-4","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","px-2","lg:px-0"],[1,"hidden","lg:flex","lg:space-x-8"],["aria-label","Pagination",1,"py-3","inline-flex","-space-x-px","rounded-md","shadow-sm"],[1,"relative","inline-flex","items-center","rounded-l-md","border","border-gray-300","bg-white","px-1","py-1","text-sm","font-medium","text-gray-500","hover:bg-gray-50","focus:z-20",3,"click"],[1,"sr-only"],[1,"h-5","w-5","text-gray-500"],[1,"relative","inline-flex","items-center","rounded-r-md","border","border-gray-300","bg-white","px-1","py-1","text-sm","font-medium","text-gray-500","hover:bg-gray-50","focus:z-20",3,"click"],[1,"relative","inline-flex","items-center","border","border-gray-300","bg-white","px-1","py-1","text-sm","font-medium","text-gray-500","hover:bg-gray-50","focus:z-20",3,"click"],[1,"flex-1","flex","items-center","justify-center","px-2","lg:ml-6","lg:justify-end"],[1,"max-w-lg","w-full","lg:max-w-xs"],["for","search",1,"sr-only"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["id","pdfQueryInput","type","text","placeholder","Search...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"keyup"],[1,"ml-4","flex","items-center"],["mat-dialog-close","","type","button",1,"flex","flex-shrink-0","bg-white","p-1","text-gray-400","rounded-full","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"justify-center","items-center","text-gray-500"],[1,"pt-2"],["style","width: 100%; height: 90vh;",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","page","show-borders","pagechanging","after-load-complete","pageChange","error",4,"ngIf"],[1,"fixed","z-50","bottom-2","p-4","w-full"],[1,"w-32","mx-auto"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","cursor-pointer",3,"click"],[1,"text-base"],[1,"shadow-md","block","w-full","pl-10","pr-16","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500","text-sm",3,"value","keyup"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer",3,"click"],[1,"text-sm"],[1,"ml-3","text-base"],[2,"width","100%","height","90vh",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","page","show-borders","pagechanging","after-load-complete","pageChange","error"]],template:function(l,s){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),t.NdJ("click",function(){return s.zoom=s.zoom+.1}),t.TgZ(9,"span",9),t._uU(10,"Zoom In"),t.qZA(),t.TgZ(11,"mat-icon",10),t._uU(12,"zoom_in"),t.qZA()(),t.TgZ(13,"button",11),t.NdJ("click",function(){return s.zoom=s.zoom-.1}),t.TgZ(14,"span",9),t._uU(15,"Zoom Out"),t.qZA(),t.TgZ(16,"mat-icon",10),t._uU(17,"zoom_out"),t.qZA()()(),t.TgZ(18,"div",7)(19,"button",8),t.NdJ("click",function(){return s.changeZoomScale("page-width")}),t.TgZ(20,"span",9),t._uU(21,"Fill Screen"),t.qZA(),t.TgZ(22,"mat-icon",10),t._uU(23,"zoom_out_map"),t.qZA()(),t.TgZ(24,"button",12),t.NdJ("click",function(){return s.changeZoomScale("page-height")}),t.TgZ(25,"span",9),t._uU(26,"Fit Height"),t.qZA(),t.TgZ(27,"mat-icon",10),t._uU(28,"height"),t.qZA()(),t.TgZ(29,"button",11),t.NdJ("click",function(){return s.changeZoomScale("page-fit")}),t.TgZ(30,"span",9),t._uU(31,"Fit Screen"),t.qZA(),t.TgZ(32,"mat-icon",10),t._uU(33,"fit_screen"),t.qZA()()(),t.TgZ(34,"div",7)(35,"button",8),t.NdJ("click",function(){return s.rotation=s.rotation-90}),t.TgZ(36,"span",9),t._uU(37,"rotate left"),t.qZA(),t.TgZ(38,"mat-icon",10),t._uU(39,"rotate_left"),t.qZA()(),t.TgZ(40,"button",11),t.NdJ("click",function(){return s.rotation=s.rotation+90}),t.TgZ(41,"span",9),t._uU(42,"rotate right"),t.qZA(),t.TgZ(43,"mat-icon",10),t._uU(44,"rotate_right"),t.qZA()()()()(),t.TgZ(45,"div",13)(46,"div",14)(47,"label",15),t._uU(48,"Search"),t.qZA(),t.TgZ(49,"div",16)(50,"div",17),t.O4$(),t.TgZ(51,"svg",18),t._UZ(52,"path",19),t.qZA()(),t.kcU(),t.TgZ(53,"input",20),t.NdJ("keyup",function(n){return s.searchQueryChanged(n.target.value)}),t.qZA()()()(),t.TgZ(54,"div",21)(55,"button",22)(56,"span",9),t._uU(57,"Close"),t.qZA(),t.TgZ(58,"mat-icon",23),t._uU(59,"close"),t.qZA()()()()()(),t.TgZ(60,"div",24),t.YNc(61,v,1,14,"pdf-viewer",25),t.qZA(),t.TgZ(62,"div",26)(63,"div",27)(64,"label",15),t._uU(65,"Search"),t.qZA(),t.TgZ(66,"div",16)(67,"div",28),t.NdJ("click",function(){return s.prevPage()}),t.TgZ(68,"mat-icon",29),t._uU(69,"arrow_upward"),t.qZA()(),t.TgZ(70,"input",30),t.NdJ("keyup",function(n){return s.page=n.target.value>0&&n.target.value<s.totalPages?n.target.value:s.page}),t.qZA(),t.TgZ(71,"div",31),t.NdJ("click",function(){return s.nextPage()}),t.TgZ(72,"span",32),t._uU(73),t.qZA(),t.TgZ(74,"mat-icon",33),t._uU(75,"arrow_downward"),t.qZA()()()()()()()),2&l&&(t.xp6(61),t.Q6J("ngIf",null==s.data?null:s.data.url),t.xp6(9),t.Q6J("value",s.page),t.xp6(3),t.hij("/ ",s.totalPages,""))},directives:[x.Hw,e.ZT,y.O5,m.rQ],styles:[""]}),_})()},5398:(U,w,c)=>{c.d(w,{Z:()=>R});var e=c(5e3),m=c(4987),t=c(5045),i=c(8734),x=c(9826),y=c(6444),v=c(9808),E=c(5245),_=c(3075);function b(p,Z){1&p&&(e.TgZ(0,"div",4)(1,"h1",5),e._uU(2,"Loading..."),e.qZA()())}function l(p,Z){1&p&&(e.TgZ(0,"h2",6),e._uU(1,"Search"),e.qZA())}const s=function(){return["../../","dishes","add"]};function o(p,Z){1&p&&(e.TgZ(0,"div",7)(1,"button",8)(2,"mat-icon",9),e._uU(3,"lunch_dining"),e.qZA(),e.TgZ(4,"span",10),e._uU(5,"No dihes found."),e.qZA(),e.TgZ(6,"button",11),e._uU(7," Create one "),e.TgZ(8,"mat-icon",12),e._uU(9," east "),e.qZA()()()()),2&p&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,s)))}function n(p,Z){if(1&p){const r=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(r);const d=e.oxw().$implicit,u=e.oxw().$implicit;return e.oxw(2).selectedDish(u,d)}),e.TgZ(1,"div",25),e._UZ(2,"img",26),e.TgZ(3,"div",27)(4,"span",28),e._uU(5),e.qZA(),e.TgZ(6,"span",29),e._uU(7),e.qZA(),e.TgZ(8,"span",30),e._uU(9),e.ALo(10,"currency"),e.qZA()(),e.TgZ(11,"mat-icon",31),e._uU(12," add"),e.qZA()()()}if(2&p){const r=e.oxw().$implicit,g=e.oxw().$implicit,d=e.oxw(2);e.xp6(2),e.Q6J("src",null!=g&&g.image?d.getImageUrl(null==g?null:g.image[0]):"",e.LSH)("alt",g.name),e.xp6(3),e.hij(" ",null==g?null:g.name," "),e.xp6(2),e.hij(" ",null==r?null:r.name," "),e.xp6(2),e.hij(" ",e.xi3(10,5,null==r?null:r.price,null==g?null:g.currency)," ")}}function a(p,Z){if(1&p&&(e.ynx(0),e.YNc(1,n,13,8,"button",23),e.BQk()),2&p){const r=e.oxw(3);e.xp6(1),e.Q6J("ngIf","WITH_CATEGORY"==r.format)}}function f(p,Z){if(1&p){const r=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(r);const d=e.oxw().$implicit;return e.oxw(2).selectedDish(d,null)}),e.TgZ(1,"div",25),e._UZ(2,"img",32),e.TgZ(3,"div",27)(4,"span",28),e._uU(5),e.qZA()(),e.TgZ(6,"mat-icon",31),e._uU(7," add"),e.qZA()()()}if(2&p){const r=e.oxw().$implicit,g=e.oxw(2);e.xp6(2),e.Q6J("src",null!=r&&r.image?g.getImageUrl(null==r?null:r.image[0]):"",e.LSH)("alt",r.name),e.xp6(3),e.hij(" ",null==r?null:r.name," ")}}function C(p,Z){if(1&p&&(e.ynx(0),e.YNc(1,a,2,1,"ng-container",21),e.YNc(2,f,8,3,"button",23),e.BQk()),2&p){const r=Z.$implicit,g=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.category),e.xp6(1),e.Q6J("ngIf","WITHOUT_CATEGORY"==g.format)}}function h(p,Z){1&p&&(e.TgZ(0,"div",33)(1,"mat-icon",34),e._uU(2," no_food "),e.qZA(),e.TgZ(3,"span",35),e._uU(4," No Dishes found."),e.qZA()())}function D(p,Z){if(1&p){const r=e.EpF();e.TgZ(0,"div",13)(1,"div")(2,"form",14)(3,"label",15),e._uU(4,"Search"),e.qZA(),e.TgZ(5,"div",16)(6,"input",17),e.NdJ("ngModelChange",function(d){return e.CHM(r),e.oxw().searchTerm=d}),e.qZA()()()(),e.TgZ(7,"div",18)(8,"h3",19),e._uU(9,"Result"),e.qZA(),e.TgZ(10,"ul",20),e.YNc(11,C,3,2,"ng-container",21),e.qZA(),e.YNc(12,h,5,0,"div",22),e.qZA()()}if(2&p){const r=e.oxw();e.xp6(6),e.Q6J("ngModel",r.searchTerm),e.xp6(5),e.Q6J("ngForOf",r.filteredDishes),e.xp6(1),e.Q6J("ngIf",0==(null==r.filteredDishes?null:r.filteredDishes.length))}}let R=(()=>{class p{constructor(r,g,d,u){this.mainService=r,this.adminService=g,this.route=d,this.restaurantService=u,this.format="WITH_CATEGORY",this.selectedData=new e.vpe,this.loading=!0,this._searchTerm=""}ngOnInit(){const r=this.restaurantService.getRestaurantSlug();r&&this.getAllDishes(r)}getAllDishes(r){this.loading=!0,this.adminService.getAllDishes(r).then(g=>{var d;this.dishes=g.data,this.filteredDishes=null===(d=this.dishes)||void 0===d?void 0:d.slice(0,2),this.loading=!1}).catch(g=>{this.loading=!1,console.log(g),this.mainService.openDialog("Error",this.mainService.errorMessage(g),"E")})}filterDishes(r){var g,d,u;return(null===(g=this.filteredDishes)||void 0===g?void 0:g.length)==(null===(d=this.dishes)||void 0===d?void 0:d.length)?null===(u=this.dishes)||void 0===u?void 0:u.slice(0,2):this.dishes.filter(T=>-1!=JSON.stringify(T).toLowerCase().indexOf(r.toLowerCase()))}selectedDish(r,g){this.selectedData.emit({dish:r,category:g})}get searchTerm(){return this._searchTerm}set searchTerm(r){this._searchTerm=r,this.filteredDishes=this.filterDishes(r)}getImageUrl(r){return this.mainService.getImageUrl(r,m.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}}return p.\u0275fac=function(r){return new(r||p)(e.Y36(t.J),e.Y36(i.l),e.Y36(x.gz),e.Y36(y.T))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-search-dish"]],inputs:{format:"format"},outputs:{selectedData:"selectedData"},decls:4,vars:4,consts:[["class","flex justify-center items-center w-full p-4",4,"ngIf"],["class","text-lg font-medium text-gray-900",4,"ngIf"],["class","text-center  border-gray-300 pt-4",4,"ngIf"],["class","mx-auto",4,"ngIf"],[1,"flex","justify-center","items-center","w-full","p-4"],[1,"text-xl","font-bold","text-gray-700"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-center","border-gray-300","pt-4"],["type","button",1,"block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-12","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mx-auto","text-gray-600","text-5xl",2,"height","unset","width","unset"],[1,"mx-auto","mt-2","block","text-sm","font-medium","text-gray-500"],["type","button",1,"mx-auto","mt-2","inline-flex","items-center","px-4","py-2","border","border-gray-300","shadow-purple-500","shadow-sm","text-sm","font-medium","rounded-3xl","text-indigo-500","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"ml-2","text-indigo-500","text-md",2,"height","unset","width","unset"],[1,"mx-auto"],[1,"mt-6","sm:flex","sm:items-center"],["for","search",1,"sr-only"],[1,"relative","rounded-md","shadow-sm","sm:min-w-0","sm:flex-1"],["type","text","name","search","placeholder","Burger...",1,"focus:ring-indigo-500","focus:border-indigo-500","block","w-full","pr-32","sm:text-sm","border-gray-300","rounded-md",3,"ngModel","ngModelChange"],[1,"mt-4"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wide"],["role","list",1,"mt-4","grid","grid-cols-1","gap-4","sm:grid-cols-3","md:grid-cols-3","lg:grid-cols-4"],[4,"ngFor","ngForOf"],["class","relative block w-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],[1,"cursor-pointer","bg-gray-100","p-2","w-full","flex","items-center","justify-between","rounded-full","border","border-gray-300","shadow-sm","text-left","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["loading","lazy",1,"h-10","w-10","object-cover","rounded-full",3,"src","alt"],[1,"flex","w-full","flex-col","ml-2"],[1,"flex","text-sm","font-medium","text-gray-900","capitalize"],[1,"flex","text-xs","font-medium","text-gray-500","capitalize"],[1,"flex","text-sm","font-medium","text-red-500"],[1,"text-md","ml-2","text-gray-500","mr-2"],["loading","lazy",1,"h-10","w-10","rounded-full","object-cover",3,"src","alt"],[1,"relative","block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-12","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","block","text-sm","font-medium","text-gray-900"]],template:function(r,g){1&r&&(e.YNc(0,b,3,0,"div",0),e.YNc(1,l,2,0,"h2",1),e.YNc(2,o,10,2,"div",2),e.YNc(3,D,13,3,"div",3)),2&r&&(e.Q6J("ngIf",g.loading),e.xp6(1),e.Q6J("ngIf",!g.loading),e.xp6(1),e.Q6J("ngIf",!g.loading&&0==(null==g.dishes?null:g.dishes.length)),e.xp6(1),e.Q6J("ngIf",!g.loading))},directives:[v.O5,x.rH,E.Hw,_._Y,_.JL,_.F,_.Fj,_.JJ,_.On,v.sg],pipes:[v.H9],styles:[""]}),p})()},7441:(U,w,c)=>{c.d(w,{M:()=>Z});var e=c(4987),m=c(3075),t=c(5e3),i=c(8966),x=c(1584),y=c(5045),v=c(9808),E=c(8814),_=c(4270),b=c(508);function l(r,g){1&r&&t._UZ(0,"app-loader",2)}function s(r,g){1&r&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2,"Checking Info..."),t.qZA(),t._UZ(3,"app-loader"),t.qZA())}function o(r,g){1&r&&t._UZ(0,"app-login")}function n(r,g){1&r&&(t.TgZ(0,"div",27),t._uU(1,"Username is invalid"),t.qZA())}const a=function(r){return{"border-2 border-red-500":r}};function f(r,g){if(1&r&&(t.TgZ(0,"div",24)(1,"dt",17),t._uU(2,"Username"),t.qZA(),t._UZ(3,"input",25),t.YNc(4,n,2,0,"div",26),t.qZA()),2&r){const d=t.oxw(3);let u,T;t.xp6(3),t.Q6J("ngClass",t.VKq(2,a,(null==(u=d.updateFormGroup.get("username"))?null:u.errors)&&((null==(u=d.updateFormGroup.get("username"))?null:u.touched)||(null==(u=d.updateFormGroup.get("username"))?null:u.dirty)))),t.xp6(1),t.Q6J("ngIf",(null==(T=d.updateFormGroup.get("username"))||null==T.errors?null:T.errors.required)||(null==(T=d.updateFormGroup.get("username"))||null==T.errors?null:T.errors.username))}}function C(r,g){if(1&r&&(t.TgZ(0,"div",28)(1,"dt",17),t._uU(2,"Email address"),t.qZA(),t.TgZ(3,"dd",29),t._uU(4),t.qZA()()),2&r){const d=t.oxw(3);t.xp6(4),t.Oqu(d.userData.email)}}function h(r,g){if(1&r&&(t.TgZ(0,"div",24)(1,"dt",17),t._uU(2,"Mobile Number"),t.qZA(),t.TgZ(3,"dd",29),t._uU(4),t.qZA()()),2&r){const d=t.oxw(3);t.xp6(4),t.AsE(" ",d.userData.countryCode," ",d.userData.number,"")}}const D=function(r){return{"text-indigo-200 border-indigo-200":r}};function R(r,g){if(1&r){const d=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div")(3,"h3",11),t._uU(4,"User Information"),t.qZA(),t.TgZ(5,"p",12),t._uU(6,"Personal details."),t.qZA()(),t.TgZ(7,"button",13),t.NdJ("click",function(){return t.CHM(d),t.oxw(2).logout()}),t._uU(8," Logout "),t.qZA()(),t.TgZ(9,"div",14)(10,"form",15),t.NdJ("ngSubmit",function(){return t.CHM(d),t.oxw(2).updateUser()}),t.TgZ(11,"dl")(12,"div",16)(13,"dt",17),t._uU(14,"Full name"),t.qZA(),t._UZ(15,"input",18),t.qZA(),t.YNc(16,f,5,4,"div",19),t.YNc(17,C,5,1,"div",20),t.YNc(18,h,5,2,"div",19),t.qZA(),t.TgZ(19,"div",21)(20,"button",22),t._uU(21," Update "),t.qZA(),t.TgZ(22,"button",23),t._uU(23," Close "),t.qZA()()()()()}if(2&r){const d=t.oxw(2);t.xp6(7),t.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),t.xp6(3),t.Q6J("formGroup",d.updateFormGroup),t.xp6(6),t.Q6J("ngIf",d.userData.username),t.xp6(1),t.Q6J("ngIf",d.userData.email),t.xp6(1),t.Q6J("ngIf",d.userData.number),t.xp6(2),t.Q6J("disabled",d.updateFormGroup.invalid)("ngClass",t.VKq(15,D,d.updateFormGroup.invalid))("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),t.xp6(2),t.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1)}}function p(r,g){if(1&r&&(t.TgZ(0,"div",3),t.YNc(1,s,4,0,"div",4),t.YNc(2,o,1,0,"app-login",5),t.YNc(3,R,24,17,"div",6),t.qZA()),2&r){const d=t.oxw();t.xp6(1),t.Q6J("ngIf",d.loading),t.xp6(1),t.Q6J("ngIf",!d.isLogin&&!d.loading),t.xp6(1),t.Q6J("ngIf",d.isLogin&&!d.loading)}}let Z=(()=>{class r{constructor(d,u,T,I){this.formBuilder=d,this.dialogRef=u,this.userService=T,this.mainService=I,this.isLogin=!1,this.loading=!0,this.updateFormGroup=this.formBuilder.group({fullName:["",[]],username:["",[m.kI.required]]}),document.body.classList.add("cdk-global-scrollblock")}ngOnInit(){this.user=this.mainService.getToLocalStorage(e.g.LOCAL_USER),this.user&&this.user.jwt?this.checkUserIsLoggedIn(this.user.jwt):this.loading=!1}checkUserIsLoggedIn(d){this.loading=!0,this.userService.checkLoggedIn(d).then(u=>{this.loading=!1,200==u.status&&u.data.id&&(this.isLogin=!0,this.userData=u.data,this.updateFormGroup.setValue({fullName:u.data.fullName,username:u.data.username})),this.loading=!1}).catch(u=>{this.loading=!1,console.log("Error",u),this.mainService.openDialog("Login Error","Invalid credential, kindly login again","E")})}updateUser(){this.loading=!0,this.user.jwt&&this.user.id?this.userService.updateMe(this.user.jwt,{fullName:this.updateFormGroup.value.fullName,username:this.updateFormGroup.value.username},this.user.id).then(u=>{this.isLogin=!0,this.user.username=this.updateFormGroup.value.username,this.user.fullName=this.updateFormGroup.value.fullName,this.mainService.setToLocalStorage(this.user,e.g.LOCAL_USER),this.loading=!1,this.mainService.openDialog("User Info","Information Updated Successfully","S",!0,!1)}).catch(u=>{this.loading=!1,console.log("Error",u),this.mainService.openDialog("Error",this.mainService.errorMessage(u),"E")}):(this.loading=!1,this.isLogin=!1)}logout(){this.mainService.logout()}getErrors(){var d,u,T,I,O,M,k,P,L,S,J,N;let A="";return((null===(d=this.updateFormGroup.get("username"))||void 0===d?void 0:d.errors)&&((null===(u=this.updateFormGroup.get("username"))||void 0===u?void 0:u.touched)||(null===(T=this.updateFormGroup.get("username"))||void 0===T?void 0:T.dirty))||(null===(I=this.updateFormGroup.get("fullName"))||void 0===I?void 0:I.errors)&&((null===(O=this.updateFormGroup.get("fullName"))||void 0===O?void 0:O.touched)||(null===(M=this.updateFormGroup.get("fullName"))||void 0===M?void 0:M.dirty)))&&((null===(P=null===(k=this.updateFormGroup.get("fullName"))||void 0===k?void 0:k.errors)||void 0===P?void 0:P.required)&&(A+="Name is required"),(null===(S=null===(L=this.updateFormGroup.get("username"))||void 0===L?void 0:L.errors)||void 0===S?void 0:S.required)&&((null==A?void 0:A.length)>0&&(A+=" & "),A+="Username is required"),(null===(N=null===(J=this.updateFormGroup.get("fullName"))||void 0===J?void 0:J.errors)||void 0===N?void 0:N.fullName)&&((null==A?void 0:A.length)>0&&(A+=" & "),A+="Name is invalid")),A}ngOnDestroy(){document.body.classList.remove("cdk-global-scrollblock")}}return r.\u0275fac=function(d){return new(d||r)(t.Y36(m.qu),t.Y36(i.so),t.Y36(x.K),t.Y36(y.J))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-info"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","bg-white dark:bg-slate-800",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"bg-white","dark:bg-slate-800"],["class","p-5 text-center",4,"ngIf"],[4,"ngIf"],["class","bg-white overflow-hidden dark:bg-slate-800",4,"ngIf"],[1,"p-5","text-center"],[1,"px-4","py-2","text-gray-800","font-medium","dark:text-white"],[1,"bg-white","overflow-hidden","dark:bg-slate-800"],[1,"flex","justify-between","px-4","py-5","sm:px-6"],[1,"text-lg","leading-6","font-medium","text-gray-900","dark:text-white"],[1,"mt-1","max-w-2xl","text-sm","text-gray-500","dark:text-gray-200"],["matRipple","",1,"focus-visible:outline-none","py-1","px-3","border","border-red-500","dark:border-red-400","text-red-500","dark:text-red-400","text-sm","font-medium","rounded-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"border-t","border-gray-200","dark:border-gray-700"],[3,"formGroup","ngSubmit"],[1,"px-4","py-5","sm:gap-4","sm:px-6","sm:grid","sm:grid-cols-3","dark:bg-slate-700","items-center"],[1,"text-sm","font-medium","text-gray-500","dark:text-gray-200"],["formControlName","fullName","type","text","autocomplete","given-name","placeholder","Your Name",1,"mt-1","dark:bg-slate-800","dark:text-white","dark:ring-slate-700","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","dark:border-gray-700","rounded-md"],["class","bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:bg-slate-800",4,"ngIf"],["class","px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:bg-slate-700",4,"ngIf"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","bg-white","dark:bg-slate-800"],["type","submit","matRipple","",1,"py-2","px-4","border","border-indigo-500","dark:border-indigo-400","text-sm","font-medium","rounded-md","text-indigo-500","dark:text-indigo-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","custom-ripple",3,"disabled","ngClass","matRippleCentered","matRippleDisabled","matRippleUnbounded"],["mat-dialog-close","","matRipple","",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded"],[1,"bg-white","px-4","py-5","sm:grid","sm:grid-cols-3","sm:gap-4","sm:px-6","dark:bg-slate-800"],["formControlName","username","type","text","name","username","autocomplete","username",1,"mt-1","dark:bg-slate-800","dark:text-white","dark:ring-slate-700","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","dark:border-gray-700","rounded-md",3,"ngClass"],["class","text-red-500 text-xs pt-1",4,"ngIf"],[1,"text-red-500","text-xs","pt-1"],[1,"px-4","py-5","sm:grid","sm:grid-cols-3","sm:gap-4","sm:px-6","dark:bg-slate-700"],[1,"mt-1","text-sm","text-gray-900","sm:mt-0","sm:col-span-2","dark:text-white"]],template:function(d,u){1&d&&(t.YNc(0,l,1,0,"app-loader",0),t.YNc(1,p,4,3,"div",1)),2&d&&(t.Q6J("ngIf",u.loading),t.xp6(1),t.Q6J("ngIf",!u.loading))},directives:[v.O5,E.R,_.G,b.wG,m._Y,m.JL,m.sg,m.Fj,m.JJ,m.u,v.mk,i.ZT],styles:[""]}),r})()}}]);