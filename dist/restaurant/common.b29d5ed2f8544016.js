"use strict";(self.webpackChunkRestaurant=self.webpackChunkRestaurant||[]).push([[592],{158:(D,Z,l)=>{l.d(Z,{t:()=>y});var e=l(3014),_=l.n(e),t=l(4987),i=l(5e3),E=l(9118);let y=(()=>{class x{constructor(h){this.mainService=h}getOrderInfo(h){const C=this.mainService.getToLocalStorage(t.g.LOCAL_CART),s={user:this.mainService.getToLocalStorage(t.g.LOCAL_USER).id,restaurantSlug:h,orderItems:[],tableNumber:"",modeOfPayment:""};for(const a in C)if(Object.prototype.hasOwnProperty.call(C,a)){const n=C[a],o={dish:n.id,orderDishCategory:[]};for(const r in n.category){if(Object.prototype.hasOwnProperty.call(n.category,r)){const b=n.category[r];o.orderDishCategory.push({quantity:b.quantity,name:b.name,id:b.id})}s.orderItems.push(o)}}return s}createOrder(h,C,s){const a=this.mainService.getToLocalStorage(t.g.LOCAL_USER).jwt||"";h.tableNumber=C,h.modeOfPayment=s;const n={Authorization:`Bearer ${a}`};return _().post(t.g.BASE_URL+t.g.CREATE_ORDER_URL,h,{headers:n})}getAllTables(h){const s={Authorization:`Bearer ${this.mainService.getToLocalStorage(t.g.LOCAL_USER).jwt||""}`},a=t.g.BASE_URL+t.g.TABLE+`?slug=${h}`;return _().get(a,{headers:s})}}return x.\u0275fac=function(h){return new(h||x)(i.LFG(E.J))},x.\u0275prov=i.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},3707:(D,Z,l)=>{l.d(Z,{_:()=>s});var e=l(5e3),_=l(4987),t=l(9118),i=l(9808),E=l(508),y=l(5245);function x(a,n){if(1&a){const o=e.EpF();e.TgZ(0,"li",2)(1,"div",3),e._UZ(2,"img",4),e.qZA(),e.TgZ(3,"div",5)(4,"div")(5,"div",6)(6,"h3",7),e._uU(7),e.qZA(),e.TgZ(8,"p",8),e._uU(9),e.qZA()(),e.TgZ(10,"p",9),e._uU(11),e.qZA()(),e.TgZ(12,"div",10)(13,"p",11),e._uU(14),e.qZA(),e.TgZ(15,"div",12)(16,"button",13),e.NdJ("click",function(){const g=e.CHM(o).$implicit,p=e.oxw(2);return p.decreaseQuntity(p.getJsonData(g.value,"name"))}),e.TgZ(17,"mat-icon",14),e._uU(18,"remove"),e.qZA()(),e.TgZ(19,"p",15),e._uU(20),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){const g=e.CHM(o).$implicit,p=e.oxw(2);return p.increaseQuntity(p.getJsonData(g.value,"name"))}),e.TgZ(22,"mat-icon",14),e._uU(23,"add"),e.qZA()()(),e.TgZ(24,"div",17)(25,"button",18),e.NdJ("click",function(){const g=e.CHM(o).$implicit,p=e.oxw(2);return p.removeDish(p.getJsonData(g.value,"name"))}),e._uU(26," Remove "),e.qZA()()()()()}if(2&a){const o=n.$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("src",r.getImageUrl(r.dish),e.LSH)("alt",r.dish.name),e.xp6(5),e.hij(" ",r.getJsonData(o.value,"name")," "),e.xp6(2),e.AsE("",r.currencySymbol,"",r.getJsonData(o.value,"price")*r.getJsonData(o.value,"quantity"),""),e.xp6(2),e.lnq("",r.dish.name," / ",r.currencySymbol,"",r.getJsonData(o.value,"price")," "),e.xp6(2),e.Q6J("ngClass","Veg"==r.dish.type?"bg-green-100 text-green-800":"bg-red-100 text-red-500"),e.xp6(1),e.Oqu(r.type),e.xp6(2),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(4),e.Oqu(r.getJsonData(o.value,"quantity")||0),e.xp6(1),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(4),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1)}}function w(a,n){if(1&a&&(e.ynx(0),e.YNc(1,x,27,20,"li",1),e.ALo(2,"keyvalue"),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,o.dish.category))}}function h(a,n){if(1&a){const o=e.EpF();e.TgZ(0,"ul",20)(1,"li",21)(2,"div",22),e._UZ(3,"img",23),e.qZA(),e.TgZ(4,"div",24)(5,"div",17)(6,"div",25)(7,"h4",26)(8,"div",27),e._uU(9),e.qZA()(),e.TgZ(10,"p",28),e._uU(11),e.qZA()(),e.TgZ(12,"div",29)(13,"button",30),e.NdJ("click",function(){const g=e.CHM(o).$implicit,p=e.oxw(2);return p.removeDish(p.getJsonData(g.value,"name"))}),e.TgZ(14,"span",31),e._uU(15,"Remove"),e.qZA(),e.O4$(),e.TgZ(16,"svg",32),e._UZ(17,"path",33),e.qZA()()()(),e.kcU(),e.TgZ(18,"div",34)(19,"div",35)(20,"button",36),e.NdJ("click",function(){const g=e.CHM(o).$implicit,p=e.oxw(2);return p.decreaseQuntity(p.getJsonData(g.value,"name"))}),e.TgZ(21,"mat-icon",37),e._uU(22,"remove"),e.qZA()(),e.TgZ(23,"p",15),e._uU(24),e.qZA(),e.TgZ(25,"button",38),e.NdJ("click",function(){const g=e.CHM(o).$implicit,p=e.oxw(2);return p.increaseQuntity(p.getJsonData(g.value,"name"))}),e.TgZ(26,"mat-icon",39),e._uU(27,"add"),e.qZA()()(),e.TgZ(28,"p",40),e._uU(29),e.qZA()()()()()}if(2&a){const o=n.$implicit,r=e.oxw(2);e.xp6(3),e.Q6J("src",r.getImageUrl(r.dish),e.LSH)("alt",r.dish.name),e.xp6(6),e.lnq(" ",r.getJsonData(o.value,"name")," ",r.type," ",r.dish.name," "),e.xp6(2),e.AsE(" ",r.currencySymbol,"",r.getJsonData(o.value,"price"),""),e.xp6(2),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(8),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(3),e.Oqu(r.getJsonData(o.value,"quantity")||0),e.xp6(2),e.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),e.xp6(3),e.AsE("",r.currencySymbol,"",r.getJsonData(o.value,"price")*r.getJsonData(o.value,"quantity"),"")}}function C(a,n){if(1&a&&(e.ynx(0),e.YNc(1,h,30,19,"ul",19),e.ALo(2,"keyvalue"),e.BQk()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,o.dish.category))}}let s=(()=>{class a{constructor(o){this.mainService=o,this.theme="user",this.refreshCart=new e.vpe,this.currencySymbol="",this.currencySymbol=o.getToLocalStorage(_.g.LOCAL_USER).currencySymbol||"\u20b9"}ngOnInit(){}getJsonData(o,r){return o[r]}removeDish(o){const r=this.mainService.getToLocalStorage(_.g.LOCAL_CART);delete r[this.dish.id].category[o],0==Object.keys(r[this.dish.id].category).length&&delete r[this.dish.id],this.mainService.setToLocalStorage(r,_.g.LOCAL_CART),this.refreshCart.emit(parseInt(this.dish.id))}increaseQuntity(o){const r=this.mainService.getToLocalStorage(_.g.LOCAL_CART);r[this.dish.id].category[o].quantity++,this.mainService.setToLocalStorage(r,_.g.LOCAL_CART),this.refreshCart.emit(parseInt(this.dish.id))}decreaseQuntity(o){const r=this.mainService.getToLocalStorage(_.g.LOCAL_CART);let b=r[this.dish.id].category[o].quantity;b--,0==b?this.removeDish(o):(r[this.dish.id].category[o].quantity--,this.mainService.setToLocalStorage(r,_.g.LOCAL_CART),this.refreshCart.emit(parseInt(this.dish.id)))}getImageUrl(o){return"object"==typeof o.image?this.mainService.getImageUrl(o.image?o.image[0]:"",_.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE):o.image}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(t.J))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-cart-card"]],inputs:{dish:"dish",type:"type",theme:"theme"},outputs:{refreshCart:"refreshCart"},decls:2,vars:2,consts:[[4,"ngIf"],["class","py-6 flex border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"py-6","flex","border-b","dark:border-gray-700"],[1,"flex-shrink-0","w-24","h-24","rounded-lg","overflow-hidden"],["loading","lazy",1,"w-full","h-full","object-center","object-cover",3,"src","alt"],[1,"ml-4","flex-1","flex","flex-col"],[1,"flex","justify-between","text-base","font-medium","text-gray-900","dark:text-white"],[1,"capitalize"],[1,"ml-4","text-red-500","dark:text-red-700"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex-1","flex","items-center","justify-between","text-sm","mt-2"],[1,"text-gray-500","px-1.5","py-1","rounded-full","text-xs",3,"ngClass"],[1,"flex","items-center","space-x-3","border-2","dark:border-gray-700","rounded-full"],["matRipple","",1,"bg-indigo-500","dark:bg-indigo-500","cursor-pointer","rounded-full","flex","justify-center","items-center","w-8","h-8","active:bg-indigo-700","dark:active:bg-indigo-800","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"text-white"],[1,"text-gray-500","text-sm","dark:text-gray-100"],["matRipple","",1,"ml-4","bg-indigo-500","dark:bg-indigo-500","cursor-pointer","rounded-full","flex","justify-center","items-center","w-8","h-8","active:bg-indigo-700","dark:active:bg-indigo-800","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"flex"],["type","button","matRipple","",1,"font-medium","text-indigo-500","hover:text-indigo-500","p-2","rounded-full","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],["role","list","class","divide-y divide-gray-200 border-b",4,"ngFor","ngForOf"],["role","list",1,"divide-y","divide-gray-200","border-b"],[1,"flex","py-6"],[1,"flex-shrink-0"],["loading","lazy",1,"w-20","h-20","object-cover","rounded-md",3,"src","alt"],[1,"ml-6","flex-1","flex","flex-col"],[1,"min-w-0","flex-1"],[1,"text-sm"],[1,"font-medium","text-gray-700","hover:text-gray-800","capitalize"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flow-root"],["type","button","matRipple","",1,"-m-2.5","bg-white","p-2.5","flex","items-center","justify-center","text-gray-400","hover:text-gray-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"flex-1","pt-2","flex","items-end","justify-between"],[1,"flex","items-center","overflow-hidden","space-x-3","border","rounded-md"],[1,"cursor-pointer","bg-gray-100","hover:bg-gray-200","flex","justify-center","items-center","w-6","h-6",3,"click"],["matRipple","",1,"text-gray-400","hover:text-gray-500","rounded-full","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded"],[1,"ml-4","bg-gray-100","cursor-pointer","hover:bg-gray-200","flex","justify-center","items-center","w-6","h-6",3,"click"],["matRipple","",1,"text-gray-400","hover:text-gray-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded"],[1,"mt-1","text-sm","font-medium","text-red-500"]],template:function(o,r){1&o&&(e.YNc(0,w,3,3,"ng-container",0),e.YNc(1,C,3,3,"ng-container",0)),2&o&&(e.Q6J("ngIf","user"==r.theme),e.xp6(1),e.Q6J("ngIf","admin"==r.theme))},directives:[i.O5,i.sg,i.mk,E.wG,y.Hw],pipes:[i.Nd],styles:[""]}),a})()},9421:(D,Z,l)=>{l.d(Z,{D:()=>C});var e=l(3877),_=l(8966),t=l(4987),i=l(5e3),E=l(9118),y=l(9808),x=l(5245);function w(s,a){if(1&s){const n=i.EpF();i.TgZ(0,"div",9)(1,"label",10),i.O4$(),i.TgZ(2,"svg",11),i._UZ(3,"path",12),i.qZA(),i.kcU(),i.TgZ(4,"span",13),i._uU(5,"Click to upload image"),i.qZA()(),i.TgZ(6,"input",14),i.NdJ("change",function(r){return i.CHM(n),i.oxw().fileChangeEvent(r)}),i.qZA()()}}function h(s,a){if(1&s){const n=i.EpF();i.TgZ(0,"div")(1,"div",15)(2,"button",16),i.NdJ("click",function(){return i.CHM(n),i.oxw().rotateLeft()}),i.TgZ(3,"mat-icon",17),i._uU(4,"rotate_90_degrees_ccw"),i.qZA()(),i.TgZ(5,"button",18),i.NdJ("click",function(){return i.CHM(n),i.oxw().rotateRight()}),i.TgZ(6,"mat-icon",17),i._uU(7,"rotate_90_degrees_cw"),i.qZA()(),i.TgZ(8,"button",18),i.NdJ("click",function(){return i.CHM(n),i.oxw().flipHorizontal()}),i.TgZ(9,"mat-icon",19),i._uU(10,"flip"),i.qZA()(),i.TgZ(11,"button",18),i.NdJ("click",function(){return i.CHM(n),i.oxw().flipVertical()}),i.TgZ(12,"mat-icon",17),i._uU(13,"flip"),i.qZA()(),i.TgZ(14,"button",18),i.NdJ("click",function(){return i.CHM(n),i.oxw().zoomOut()}),i.TgZ(15,"mat-icon",17),i._uU(16,"zoom_out"),i.qZA()(),i.TgZ(17,"button",18),i.NdJ("click",function(){return i.CHM(n),i.oxw().zoomIn()}),i.TgZ(18,"mat-icon",17),i._uU(19,"zoom_in"),i.qZA()()(),i.TgZ(20,"div",20)(21,"div",21)(22,"image-cropper",22),i.NdJ("imageCropped",function(r){return i.CHM(n),i.oxw().imageCropped(r)})("imageLoaded",function(){return i.CHM(n),i.oxw().imageLoaded()})("cropperReady",function(r){return i.CHM(n),i.oxw().cropperReady(r)})("loadImageFailed",function(){return i.CHM(n),i.oxw().loadImageFailed()}),i.qZA()(),i.TgZ(23,"div",21),i._UZ(24,"img",23),i.qZA()(),i.TgZ(25,"div",24)(26,"button",25),i.NdJ("click",function(){return i.CHM(n),i.oxw().resetImage()}),i.TgZ(27,"mat-icon",26),i._uU(28," rotate_left"),i.qZA(),i._uU(29," Reset "),i.qZA()()()}if(2&s){const n=i.oxw();i.xp6(22),i.Udp("display",n.showCropper?null:"none"),i.Q6J("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("containWithinAspectRatio",n.containWithinAspectRatio)("aspectRatio",1)("resizeToWidth",1280)("resizeToHeight",640)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",n.canvasRotation)("transform",n.transform)("alignImage","left"),i.xp6(2),i.Q6J("src",n.croppedImage,i.LSH)}}let C=(()=>{class s{constructor(n,o,r){this.dialogRef=n,this.data=o,this.mainService=r,this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!0,this.transform={}}ngOnInit(){}fileChangeEvent(n){this.imageSize=this.calculateImageSize(n.target.files[0]),this.imageSize<=t.g.MAX_IMAGE_SIZE_IN_MB?this.imageChangedEvent=n:this.mainService.openDialog("Error","Image size should be less than "+t.g.MAX_IMAGE_SIZE_IN_MB+" MB","E")}imageCropped(n){this.croppedImage=n.base64,this.data.image=(0,e.Ll)(this.croppedImage),this.data.base64=this.croppedImage}calculateImageSize(n){return this.data.name=n.name,this.data.type=n.type,(n.size/1024/1024).toFixed(4)}imageLoaded(){this.showCropper=!0}cropperReady(n){}loadImageFailed(){this.mainService.openDialog("Error","Image Loading failed","E")}rotateLeft(){this.canvasRotation--,this.flipAfterRotate()}rotateRight(){this.canvasRotation++,this.flipAfterRotate()}flipAfterRotate(){const n=this.transform.flipH,o=this.transform.flipV;this.transform=Object.assign(Object.assign({},this.transform),{flipH:o,flipV:n})}flipHorizontal(){this.transform=Object.assign(Object.assign({},this.transform),{flipH:!this.transform.flipH})}flipVertical(){this.transform=Object.assign(Object.assign({},this.transform),{flipV:!this.transform.flipV})}resetImage(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={}}zoomOut(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}toggleContainWithinAspectRatio(){this.containWithinAspectRatio=!this.containWithinAspectRatio}updateRotation(){this.transform=Object.assign(Object.assign({},this.transform),{rotate:this.rotation})}closeModal(){this.dialogRef.close()}clear(){this.scale=1,this.rotation=0,this.canvasRotation=0,this.transform={},this.imageChangedEvent=null}}return s.\u0275fac=function(n){return new(n||s)(i.Y36(_.so),i.Y36(_.WI),i.Y36(E.J))},s.\u0275cmp=i.Xpm({type:s,selectors:[["app-edit-image-modal"]],decls:13,vars:4,consts:[[1,"bg-gray-100","px-5","py-4","flex","justify-between","items-center"],[1,"font-bold"],["type","button",1,"inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","focus:outline-none","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],[1,"bg-white","p-6",2,"background","repeating-conic-gradient(rgb(246, 246, 249) 0%, rgb(246, 246, 249) 25%, transparent 0%, transparent 50%) 50% center / 20px 20px"],["class","block w-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",4,"ngIf"],[4,"ngIf"],[1,"bg-gray-100","px-5","py-4","flex","justify-between"],[1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"disabled:bg-indigo-400","cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled","mat-dialog-close"],[1,"block","w-full","border-2","border-gray-300","border-dashed","rounded-lg","p-12","text-center","hover:border-gray-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["for","upload-photo"],["xmlns","http://www.w3.org/2000/svg","stroke","currentColor","fill","none","viewBox","0 0 48 48","aria-hidden","true",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 14v20c0 4.418 7.163 8 16 8 1.381 0 2.721-.087 4-.252M8 14c0 4.418 7.163 8 16 8s16-3.582 16-8M8 14c0-4.418 7.163-8 16-8s16 3.582 16 8m0 0v14m0-4c0 4.418-7.163 8-16 8S8 28.418 8 24m32 10v6m0 0v6m0-6h6m-6 0h-6"],[1,"mt-2","block","text-sm","font-medium","text-gray-600"],["type","file","name","photo","id","upload-photo",2,"opacity","0","position","absolute","z-index","-1",3,"change"],[1,"flex","justify-between","items-center","my-6"],["type","button",1,"inline-flex","items-center","p-2","border","border-transparent","rounded-full","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"text-base"],["type","button",1,"ml-4","inline-flex","items-center","p-2","border","border-transparent","rounded-full","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"text-base","h-6","w-6"],[1,"grid","grid-cols-1","sm:grid-cols-2"],[1,"max-w-xs","max-h-min"],[3,"imageChangedEvent","maintainAspectRatio","containWithinAspectRatio","aspectRatio","resizeToWidth","resizeToHeight","onlyScaleDown","roundCropper","canvasRotation","transform","alignImage","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["loading","lazy",3,"src"],[1,"w-full","flex","justify-center","mt-4"],[1,"flex","items-center","bg-red-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-red-500",3,"click"],[1,"mr-2"]],template:function(n,o){1&n&&(i.TgZ(0,"div",0)(1,"h3",1),i._uU(2,"Edit Image"),i.qZA(),i.TgZ(3,"button",2),i.NdJ("click",function(){return o.clear()}),i._uU(4,"Clear"),i.qZA()(),i.TgZ(5,"div",3),i.YNc(6,w,7,0,"div",4),i.YNc(7,h,30,14,"div",5),i.qZA(),i.TgZ(8,"div",6)(9,"button",7),i.NdJ("click",function(){return o.closeModal()}),i._uU(10," Close "),i.qZA(),i.TgZ(11,"button",8),i._uU(12," Save "),i.qZA()()),2&n&&(i.xp6(6),i.Q6J("ngIf",!o.imageChangedEvent),i.xp6(1),i.Q6J("ngIf",o.imageChangedEvent),i.xp6(4),i.Q6J("disabled",!o.croppedImage)("mat-dialog-close",o.data))},directives:[y.O5,x.Hw,e.ap,_.ZT],styles:["@media only screen and (max-width: 829px){image-cropper[_ngcontent-%COMP%]{height:-moz-fit-content!important;height:fit-content!important}}image-cropper[_ngcontent-%COMP%]{height:50vh}"]}),s})()},5748:(D,Z,l)=>{l.d(Z,{r:()=>w});var e=l(8966),_=l(2490),t=l(5e3),i=l(9118),E=l(5245),y=l(9808);function x(h,C){if(1&h){const s=t.EpF();t.TgZ(0,"pdf-viewer",34),t.NdJ("pagechanging",function(n){return t.CHM(s),t.oxw().pagechanging(n.target.value)})("after-load-complete",function(n){return t.CHM(s),t.oxw().afterLoadComplete(n)})("pageChange",function(n){return t.CHM(s),t.oxw().page=n})("error",function(n){return t.CHM(s),t.oxw().onError(n)}),t.qZA()}if(2&h){const s=t.oxw();t.Q6J("src",null==s.data?null:s.data.url)("rotation",0)("original-size",!1)("show-all",s.showAll)("fit-to-page",s.fitToPage)("zoom",s.zoom)("zoom-scale","page-fit")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("page",s.page)("rotation",s.rotation)("show-borders",!1)}}let w=(()=>{class h{constructor(s,a,n){this.data=s,this.mainService=a,this.dialog=n,this.renderText=!0,this.originalSize=!1,this.fitToPage=!0,this.showAll=!0,this.autoresize=!1,this.showBorders=!0,this.renderTextModes=[0,1,2],this.renderTextMode=1,this.rotation=0,this.zoom=1,this.zoomScale="page-fit",this.pdfQuery="",this.totalPages=0,this.page=1,this.isLoaded=!1}ngOnInit(){}searchQueryChanged(s){this.pdfComponent.eventBus.dispatch("find",{query:s,type:"again",caseSensitive:!1,findPrevious:void 0,highlightAll:!0,phraseSearch:!0})}pagechanging(s){(null==s?void 0:s.pageNumber)&&(this.page=s.pageNumber)}afterLoadComplete(s){this.totalPages=s.numPages,this.isLoaded=!0}nextPage(){this.page<this.totalPages&&this.page++}prevPage(){this.totalPages>0&&this.page>1&&this.page--}changeZoomScale(s){this.pdfComponent.pdfViewer.currentScaleValue=s}onError(s){console.log("Error",s),this.mainService.openDialog("Error","Error loading pdf.","E")}}return h.\u0275fac=function(s){return new(s||h)(t.Y36(e.WI),t.Y36(i.J),t.Y36(e.uw))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-pdf-viewer"]],viewQuery:function(s,a){if(1&s&&t.Gf(_.rQ,5),2&s){let n;t.iGM(n=t.CRH())&&(a.pdfComponent=n.first)}},decls:76,vars:3,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","z-10","inset-0","overflow-hidden","bg-gray-200"],[1,"relative","items-end","justify-center","text-center","block","p-0"],[1,"bg-white","shadow"],[1,"max-w-7xl","mx-auto","px-2","sm:px-4","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","px-2","lg:px-0"],[1,"hidden","lg:flex","lg:space-x-8"],["aria-label","Pagination",1,"py-3","inline-flex","-space-x-px","rounded-md","shadow-sm"],[1,"relative","inline-flex","items-center","rounded-l-md","border","border-gray-300","bg-white","px-1","py-1","text-sm","font-medium","text-gray-500","hover:bg-gray-50","focus:z-20",3,"click"],[1,"sr-only"],[1,"h-5","w-5","text-gray-500"],[1,"relative","inline-flex","items-center","rounded-r-md","border","border-gray-300","bg-white","px-1","py-1","text-sm","font-medium","text-gray-500","hover:bg-gray-50","focus:z-20",3,"click"],[1,"relative","inline-flex","items-center","border","border-gray-300","bg-white","px-1","py-1","text-sm","font-medium","text-gray-500","hover:bg-gray-50","focus:z-20",3,"click"],[1,"flex-1","flex","items-center","justify-center","px-2","lg:ml-6","lg:justify-end"],[1,"max-w-lg","w-full","lg:max-w-xs"],["for","search",1,"sr-only"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule","evenodd"],["id","pdfQueryInput","type","text","placeholder","Search...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"keyup"],[1,"ml-4","flex","items-center"],["mat-dialog-close","","type","button",1,"flex","flex-shrink-0","bg-white","p-1","text-gray-400","rounded-full","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"justify-center","items-center","text-gray-500"],[1,"pt-2"],["style","width: 100%; height: 90vh;",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","page","show-borders","pagechanging","after-load-complete","pageChange","error",4,"ngIf"],[1,"fixed","z-50","bottom-2","p-4","w-full"],[1,"w-32","mx-auto"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","cursor-pointer",3,"click"],[1,"text-base"],[1,"shadow-md","block","w-full","pl-10","pr-16","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-indigo-500","focus:border-indigo-500","text-sm",3,"value","keyup"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer",3,"click"],[1,"text-sm"],[1,"ml-3","text-base"],[2,"width","100%","height","90vh",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","page","show-borders","pagechanging","after-load-complete","pageChange","error"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),t.NdJ("click",function(){return a.zoom=a.zoom+.1}),t.TgZ(9,"span",9),t._uU(10,"Zoom In"),t.qZA(),t.TgZ(11,"mat-icon",10),t._uU(12,"zoom_in"),t.qZA()(),t.TgZ(13,"button",11),t.NdJ("click",function(){return a.zoom=a.zoom-.1}),t.TgZ(14,"span",9),t._uU(15,"Zoom Out"),t.qZA(),t.TgZ(16,"mat-icon",10),t._uU(17,"zoom_out"),t.qZA()()(),t.TgZ(18,"div",7)(19,"button",8),t.NdJ("click",function(){return a.changeZoomScale("page-width")}),t.TgZ(20,"span",9),t._uU(21,"Fill Screen"),t.qZA(),t.TgZ(22,"mat-icon",10),t._uU(23,"zoom_out_map"),t.qZA()(),t.TgZ(24,"button",12),t.NdJ("click",function(){return a.changeZoomScale("page-height")}),t.TgZ(25,"span",9),t._uU(26,"Fit Height"),t.qZA(),t.TgZ(27,"mat-icon",10),t._uU(28,"height"),t.qZA()(),t.TgZ(29,"button",11),t.NdJ("click",function(){return a.changeZoomScale("page-fit")}),t.TgZ(30,"span",9),t._uU(31,"Fit Screen"),t.qZA(),t.TgZ(32,"mat-icon",10),t._uU(33,"fit_screen"),t.qZA()()(),t.TgZ(34,"div",7)(35,"button",8),t.NdJ("click",function(){return a.rotation=a.rotation-90}),t.TgZ(36,"span",9),t._uU(37,"rotate left"),t.qZA(),t.TgZ(38,"mat-icon",10),t._uU(39,"rotate_left"),t.qZA()(),t.TgZ(40,"button",11),t.NdJ("click",function(){return a.rotation=a.rotation+90}),t.TgZ(41,"span",9),t._uU(42,"rotate right"),t.qZA(),t.TgZ(43,"mat-icon",10),t._uU(44,"rotate_right"),t.qZA()()()()(),t.TgZ(45,"div",13)(46,"div",14)(47,"label",15),t._uU(48,"Search"),t.qZA(),t.TgZ(49,"div",16)(50,"div",17),t.O4$(),t.TgZ(51,"svg",18),t._UZ(52,"path",19),t.qZA()(),t.kcU(),t.TgZ(53,"input",20),t.NdJ("keyup",function(o){return a.searchQueryChanged(o.target.value)}),t.qZA()()()(),t.TgZ(54,"div",21)(55,"button",22)(56,"span",9),t._uU(57,"Close"),t.qZA(),t.TgZ(58,"mat-icon",23),t._uU(59,"close"),t.qZA()()()()()(),t.TgZ(60,"div",24),t.YNc(61,x,1,14,"pdf-viewer",25),t.qZA(),t.TgZ(62,"div",26)(63,"div",27)(64,"label",15),t._uU(65,"Search"),t.qZA(),t.TgZ(66,"div",16)(67,"div",28),t.NdJ("click",function(){return a.prevPage()}),t.TgZ(68,"mat-icon",29),t._uU(69,"arrow_upward"),t.qZA()(),t.TgZ(70,"input",30),t.NdJ("keyup",function(o){return a.page=o.target.value>0&&o.target.value<a.totalPages?o.target.value:a.page}),t.qZA(),t.TgZ(71,"div",31),t.NdJ("click",function(){return a.nextPage()}),t.TgZ(72,"span",32),t._uU(73),t.qZA(),t.TgZ(74,"mat-icon",33),t._uU(75,"arrow_downward"),t.qZA()()()()()()()),2&s&&(t.xp6(61),t.Q6J("ngIf",null==a.data?null:a.data.url),t.xp6(9),t.Q6J("value",a.page),t.xp6(3),t.hij("/ ",a.totalPages,""))},directives:[E.Hw,e.ZT,y.O5,_.rQ],styles:[""]}),h})()},5398:(D,Z,l)=>{l.d(Z,{Z:()=>b});var e=l(5e3),_=l(4987),t=l(9118),i=l(8734),E=l(9826),y=l(9808),x=l(3075),w=l(5245);function h(g,p){1&g&&(e.TgZ(0,"div",3)(1,"h1",4),e._uU(2,"Loading..."),e.qZA()())}function C(g,p){1&g&&(e.TgZ(0,"h2",5),e._uU(1,"Search"),e.qZA())}function s(g,p){if(1&g){const d=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(d);const v=e.oxw().$implicit,U=e.oxw().$implicit;return e.oxw(2).selectedDish(U,v)}),e.TgZ(1,"div",17),e._UZ(2,"img",18),e.TgZ(3,"div",19)(4,"span",20),e._uU(5),e.qZA(),e.TgZ(6,"span",21),e._uU(7),e.ALo(8,"currency"),e.qZA()(),e.TgZ(9,"mat-icon",22),e._uU(10," add"),e.qZA()()()}if(2&g){const d=e.oxw().$implicit,m=e.oxw().$implicit,v=e.oxw(2);e.xp6(2),e.Q6J("src",null!=m&&m.image?v.getImageUrl(null==m?null:m.image[0]):"",e.LSH)("alt",m.name),e.xp6(3),e.AsE(" ",null==d?null:d.name," ",null==m?null:m.name," "),e.xp6(2),e.hij(" ",e.xi3(8,5,null==d?null:d.price,v.currencySymbol)," ")}}function a(g,p){if(1&g&&(e.ynx(0),e.YNc(1,s,11,8,"button",15),e.BQk()),2&g){const d=e.oxw(3);e.xp6(1),e.Q6J("ngIf","WITH_CATEGORY"==d.format)}}function n(g,p){if(1&g){const d=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(d);const v=e.oxw().$implicit;return e.oxw(2).selectedDish(v,null)}),e.TgZ(1,"div",17),e._UZ(2,"img",23),e.TgZ(3,"div",19)(4,"span",20),e._uU(5),e.qZA()(),e.TgZ(6,"mat-icon",22),e._uU(7," add"),e.qZA()()()}if(2&g){const d=e.oxw().$implicit,m=e.oxw(2);e.xp6(2),e.Q6J("src",null!=d&&d.image?m.getImageUrl(null==d?null:d.image[0]):"",e.LSH)("alt",d.name),e.xp6(3),e.hij(" ",null==d?null:d.name," ")}}function o(g,p){if(1&g&&(e.ynx(0),e.YNc(1,a,2,1,"ng-container",14),e.YNc(2,n,8,3,"button",15),e.BQk()),2&g){const d=p.$implicit,m=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",d.category),e.xp6(1),e.Q6J("ngIf","WITHOUT_CATEGORY"==m.format)}}function r(g,p){if(1&g){const d=e.EpF();e.TgZ(0,"div",6)(1,"div")(2,"form",7)(3,"label",8),e._uU(4,"Search"),e.qZA(),e.TgZ(5,"div",9)(6,"input",10),e.NdJ("ngModelChange",function(v){return e.CHM(d),e.oxw().searchTerm=v}),e.qZA()()()(),e.TgZ(7,"div",11)(8,"h3",12),e._uU(9,"Result"),e.qZA(),e.TgZ(10,"ul",13),e.YNc(11,o,3,2,"ng-container",14),e.qZA()()()}if(2&g){const d=e.oxw();e.xp6(6),e.Q6J("ngModel",d.searchTerm),e.xp6(5),e.Q6J("ngForOf",d.filteredDishes)}}let b=(()=>{class g{constructor(d,m,v){this.mainService=d,this.adminService=m,this.route=v,this.format="WITH_CATEGORY",this.selectedData=new e.vpe,this.loading=!0,this._searchTerm="",this.currencySymbol="",this.currencySymbol=this.mainService.getToLocalStorage(_.g.LOCAL_USER).currencySymbol||"\u20b9"}ngOnInit(){var d,m,v;null===(v=null===(m=null===(d=this.route)||void 0===d?void 0:d.parent)||void 0===m?void 0:m.parent)||void 0===v||v.params.subscribe(U=>{U&&U.slug&&this.getAllDishes(U.slug||"")})}getAllDishes(d){this.loading=!0,this.adminService.getAllDishes(d).then(m=>{var v;this.dishes=m.data,this.filteredDishes=null===(v=this.dishes)||void 0===v?void 0:v.slice(0,2),this.loading=!1}).catch(m=>{this.loading=!1,console.log(m),this.mainService.openDialog("Error",this.mainService.errorMessage(m),"E")})}filterDishes(d){var m;return this.filteredDishes.length==this.dishes.length?null===(m=this.dishes)||void 0===m?void 0:m.slice(0,2):this.dishes.filter(v=>-1!=JSON.stringify(v).toLowerCase().indexOf(d.toLowerCase()))}selectedDish(d,m){this.selectedData.emit({dish:d,category:m})}get searchTerm(){return this._searchTerm}set searchTerm(d){this._searchTerm=d,this.filteredDishes=this.filterDishes(d)}getImageUrl(d){return this.mainService.getImageUrl(d,_.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}}return g.\u0275fac=function(d){return new(d||g)(e.Y36(t.J),e.Y36(i.l),e.Y36(E.gz))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-search-dish"]],inputs:{format:"format"},outputs:{selectedData:"selectedData"},decls:3,vars:3,consts:[["class","flex justify-center items-center w-full p-4",4,"ngIf"],["class","text-lg font-medium text-gray-900",4,"ngIf"],["class","mx-auto",4,"ngIf"],[1,"flex","justify-center","items-center","w-full","p-4"],[1,"text-xl","font-bold","text-gray-700"],[1,"text-lg","font-medium","text-gray-900"],[1,"mx-auto"],[1,"mt-6","sm:flex","sm:items-center"],["for","search",1,"sr-only"],[1,"relative","rounded-md","shadow-sm","sm:min-w-0","sm:flex-1"],["type","text","name","search","placeholder","Burger...",1,"focus:ring-indigo-500","focus:border-indigo-500","block","w-full","pr-32","sm:text-sm","border-gray-300","rounded-md",3,"ngModel","ngModelChange"],[1,"mt-4"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wide"],["role","list",1,"mt-4","grid","grid-cols-1","gap-4","sm:grid-cols-3","md:grid-cols-3","lg:grid-cols-4"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[1,"cursor-pointer","bg-gray-100","p-2","w-full","flex","items-center","justify-between","rounded-full","border","border-gray-300","shadow-sm","text-left","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["loading","lazy",1,"h-10","w-10","object-cover","rounded-full",3,"src","alt"],[1,"flex","w-full","flex-col","ml-2"],[1,"flex","text-sm","font-medium","text-gray-900","capitalize"],[1,"flex","text-sm","font-medium","text-red-500"],[1,"text-md","ml-2","text-gray-500","mr-2"],["loading","lazy",1,"h-10","w-10","rounded-full","object-cover",3,"src","alt"]],template:function(d,m){1&d&&(e.YNc(0,h,3,0,"div",0),e.YNc(1,C,2,0,"h2",1),e.YNc(2,r,12,2,"div",2)),2&d&&(e.Q6J("ngIf",m.loading),e.xp6(1),e.Q6J("ngIf",!m.loading),e.xp6(1),e.Q6J("ngIf",!m.loading))},directives:[y.O5,x._Y,x.JL,x.F,x.Fj,x.JJ,x.On,y.sg,w.Hw],pipes:[y.H9],styles:[""]}),g})()},7441:(D,Z,l)=>{l.d(Z,{M:()=>U});var e=l(4987),_=l(3075),t=l(5e3),i=l(8966),E=l(1584),y=l(9118),x=l(9808),w=l(8814),h=l(4270),C=l(508);function s(u,A){1&u&&t._UZ(0,"app-loader",2)}function a(u,A){1&u&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2,"Checking Info..."),t.qZA(),t._UZ(3,"app-loader"),t.qZA())}function n(u,A){1&u&&t._UZ(0,"app-login")}function o(u,A){1&u&&(t.TgZ(0,"div",27),t._uU(1,"Username is invalid"),t.qZA())}const r=function(u){return{"border-2 border-red-500":u}};function b(u,A){if(1&u&&(t.TgZ(0,"div",24)(1,"dt",17),t._uU(2,"Username"),t.qZA(),t._UZ(3,"input",25),t.YNc(4,o,2,0,"div",26),t.qZA()),2&u){const c=t.oxw(3);let f,T;t.xp6(3),t.Q6J("ngClass",t.VKq(2,r,(null==(f=c.updateFormGroup.get("username"))?null:f.errors)&&((null==(f=c.updateFormGroup.get("username"))?null:f.touched)||(null==(f=c.updateFormGroup.get("username"))?null:f.dirty)))),t.xp6(1),t.Q6J("ngIf",(null==(T=c.updateFormGroup.get("username"))||null==T.errors?null:T.errors.required)||(null==(T=c.updateFormGroup.get("username"))||null==T.errors?null:T.errors.username))}}function g(u,A){if(1&u&&(t.TgZ(0,"div",28)(1,"dt",17),t._uU(2,"Email address"),t.qZA(),t.TgZ(3,"dd",29),t._uU(4),t.qZA()()),2&u){const c=t.oxw(3);t.xp6(4),t.Oqu(c.userData.email)}}function p(u,A){if(1&u&&(t.TgZ(0,"div",24)(1,"dt",17),t._uU(2,"Mobile Number"),t.qZA(),t.TgZ(3,"dd",29),t._uU(4),t.qZA()()),2&u){const c=t.oxw(3);t.xp6(4),t.AsE(" ",c.userData.countryCode," ",c.userData.number,"")}}const d=function(u){return{"text-indigo-200 border-indigo-200":u}};function m(u,A){if(1&u){const c=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div")(3,"h3",11),t._uU(4,"User Information"),t.qZA(),t.TgZ(5,"p",12),t._uU(6,"Personal details."),t.qZA()(),t.TgZ(7,"button",13),t.NdJ("click",function(){return t.CHM(c),t.oxw(2).logout()}),t._uU(8," Logout "),t.qZA()(),t.TgZ(9,"div",14)(10,"form",15),t.NdJ("ngSubmit",function(){return t.CHM(c),t.oxw(2).updateUser()}),t.TgZ(11,"dl")(12,"div",16)(13,"dt",17),t._uU(14,"Full name"),t.qZA(),t._UZ(15,"input",18),t.qZA(),t.YNc(16,b,5,4,"div",19),t.YNc(17,g,5,1,"div",20),t.YNc(18,p,5,2,"div",19),t.qZA(),t.TgZ(19,"div",21)(20,"button",22),t._uU(21," Update "),t.qZA(),t.TgZ(22,"button",23),t._uU(23," Close "),t.qZA()()()()()}if(2&u){const c=t.oxw(2);t.xp6(7),t.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),t.xp6(3),t.Q6J("formGroup",c.updateFormGroup),t.xp6(6),t.Q6J("ngIf",c.userData.username),t.xp6(1),t.Q6J("ngIf",c.userData.email),t.xp6(1),t.Q6J("ngIf",c.userData.number),t.xp6(2),t.Q6J("disabled",c.updateFormGroup.invalid)("ngClass",t.VKq(15,d,c.updateFormGroup.invalid))("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1),t.xp6(2),t.Q6J("matRippleCentered",!1)("matRippleDisabled",!1)("matRippleUnbounded",!1)}}function v(u,A){if(1&u&&(t.TgZ(0,"div",3),t.YNc(1,a,4,0,"div",4),t.YNc(2,n,1,0,"app-login",5),t.YNc(3,m,24,17,"div",6),t.qZA()),2&u){const c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.loading),t.xp6(1),t.Q6J("ngIf",!c.isLogin&&!c.loading),t.xp6(1),t.Q6J("ngIf",c.isLogin&&!c.loading)}}let U=(()=>{class u{constructor(c,f,T,R,M){this.formBuilder=c,this.dialogRef=f,this.userService=T,this.maimService=R,this.mainService=M,this.isLogin=!1,this.loading=!0,this.updateFormGroup=this.formBuilder.group({fullName:["",[]],username:["",[_.kI.required]]}),document.body.classList.add("cdk-global-scrollblock")}ngOnInit(){this.user=this.maimService.getToLocalStorage(e.g.LOCAL_USER),this.user&&this.user.jwt?this.checkUserIsLoggedIn(this.user.jwt):this.loading=!1}checkUserIsLoggedIn(c){this.loading=!0,this.userService.checkLoggedIn(c).then(f=>{this.loading=!1,200==f.status&&f.data.id&&(this.isLogin=!0,this.userData=f.data,this.updateFormGroup.setValue({fullName:f.data.fullName,username:f.data.username})),this.loading=!1}).catch(f=>{this.loading=!1,console.log("Error",f),this.mainService.openDialog("Login Error","Invalid credential, kindly login again","E")})}updateUser(){this.loading=!0,this.user.jwt&&this.user.id?this.userService.updateMe(this.user.jwt,{fullName:this.updateFormGroup.value.fullName,username:this.updateFormGroup.value.username},this.user.id).then(f=>{this.isLogin=!0,this.user.username=this.updateFormGroup.value.username,this.user.fullName=this.updateFormGroup.value.fullName,this.maimService.setToLocalStorage(this.user,e.g.LOCAL_USER),this.loading=!1,this.mainService.openDialog("User Info","Information Updated Successfully","S",!0,!1)}).catch(f=>{this.loading=!1,console.log("Error",f),this.mainService.openDialog("Error",this.mainService.errorMessage(f),"E")}):(this.loading=!1,this.isLogin=!1)}logout(){const c=this.maimService.getToLocalStorage(e.g.LOCAL_USER);c.jwt="",this.maimService.setToLocalStorage(c,e.g.LOCAL_USER),window.location.reload()}getErrors(){var c,f,T,R,M,O,k,S,L,P,J,N;let I="";return((null===(c=this.updateFormGroup.get("username"))||void 0===c?void 0:c.errors)&&((null===(f=this.updateFormGroup.get("username"))||void 0===f?void 0:f.touched)||(null===(T=this.updateFormGroup.get("username"))||void 0===T?void 0:T.dirty))||(null===(R=this.updateFormGroup.get("fullName"))||void 0===R?void 0:R.errors)&&((null===(M=this.updateFormGroup.get("fullName"))||void 0===M?void 0:M.touched)||(null===(O=this.updateFormGroup.get("fullName"))||void 0===O?void 0:O.dirty)))&&((null===(S=null===(k=this.updateFormGroup.get("fullName"))||void 0===k?void 0:k.errors)||void 0===S?void 0:S.required)&&(I+="Name is required"),(null===(P=null===(L=this.updateFormGroup.get("username"))||void 0===L?void 0:L.errors)||void 0===P?void 0:P.required)&&(I.length>0&&(I+=" & "),I+="Username is required"),(null===(N=null===(J=this.updateFormGroup.get("fullName"))||void 0===J?void 0:J.errors)||void 0===N?void 0:N.fullName)&&(I.length>0&&(I+=" & "),I+="Name is invalid")),I}ngOnDestroy(){document.body.classList.remove("cdk-global-scrollblock")}}return u.\u0275fac=function(c){return new(c||u)(t.Y36(_.qu),t.Y36(i.so),t.Y36(E.K),t.Y36(y.J),t.Y36(y.J))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-user-info"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","bg-white dark:bg-slate-800",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"bg-white","dark:bg-slate-800"],["class","p-5 text-center",4,"ngIf"],[4,"ngIf"],["class","bg-white overflow-hidden dark:bg-slate-800",4,"ngIf"],[1,"p-5","text-center"],[1,"px-4","py-2","text-gray-800","font-medium","dark:text-white"],[1,"bg-white","overflow-hidden","dark:bg-slate-800"],[1,"flex","justify-between","px-4","py-5","sm:px-6"],[1,"text-lg","leading-6","font-medium","text-gray-900","dark:text-white"],[1,"mt-1","max-w-2xl","text-sm","text-gray-500","dark:text-gray-200"],["matRipple","",1,"focus-visible:outline-none","py-1","px-3","border","border-red-500","dark:border-red-400","text-red-500","dark:text-red-400","text-sm","font-medium","rounded-md","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded","click"],[1,"border-t","border-gray-200","dark:border-gray-700"],[3,"formGroup","ngSubmit"],[1,"px-4","py-5","sm:gap-4","sm:px-6","sm:grid","sm:grid-cols-3","dark:bg-slate-700","items-center"],[1,"text-sm","font-medium","text-gray-500","dark:text-gray-200"],["formControlName","fullName","type","text","autocomplete","given-name","placeholder","Your Name",1,"mt-1","dark:bg-slate-800","dark:text-white","dark:ring-slate-700","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","dark:border-gray-700","rounded-md"],["class","bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:bg-slate-800",4,"ngIf"],["class","px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 dark:bg-slate-700",4,"ngIf"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","bg-white","dark:bg-slate-800"],["type","submit","matRipple","",1,"py-2","px-4","border","border-indigo-500","dark:border-indigo-400","text-sm","font-medium","rounded-md","text-indigo-500","dark:text-indigo-400","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","custom-ripple",3,"disabled","ngClass","matRippleCentered","matRippleDisabled","matRippleUnbounded"],["mat-dialog-close","","matRipple","",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","custom-ripple",3,"matRippleCentered","matRippleDisabled","matRippleUnbounded"],[1,"bg-white","px-4","py-5","sm:grid","sm:grid-cols-3","sm:gap-4","sm:px-6","dark:bg-slate-800"],["formControlName","username","type","text","name","username","autocomplete","username",1,"mt-1","dark:bg-slate-800","dark:text-white","dark:ring-slate-700","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","dark:border-gray-700","rounded-md",3,"ngClass"],["class","text-red-500 text-xs pt-1",4,"ngIf"],[1,"text-red-500","text-xs","pt-1"],[1,"px-4","py-5","sm:grid","sm:grid-cols-3","sm:gap-4","sm:px-6","dark:bg-slate-700"],[1,"mt-1","text-sm","text-gray-900","sm:mt-0","sm:col-span-2","dark:text-white"]],template:function(c,f){1&c&&(t.YNc(0,s,1,0,"app-loader",0),t.YNc(1,v,4,3,"div",1)),2&c&&(t.Q6J("ngIf",f.loading),t.xp6(1),t.Q6J("ngIf",!f.loading))},directives:[x.O5,w.R,h.G,C.wG,_._Y,_.JL,_.sg,_.Fj,_.JJ,_.u,x.mk,i.ZT],styles:[""]}),u})()}}]);