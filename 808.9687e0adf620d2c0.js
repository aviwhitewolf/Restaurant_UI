"use strict";(self.webpackChunkRestaurant=self.webpackChunkRestaurant||[]).push([[808],{1808:(Ie,J,_)=>{_.r(J),_.d(J,{StaffModule:()=>Je});var y=_(9808),u=_(3075),O=_(6895),S=_(5245),R=_(2096),w=_(9826),k=_(5861),T=_(4987),M=_(5748),F=_(5439),L=_(9421),e=_(5e3),I=_(8734),Y=_(8966),G=_(9118),N=_(8814),z=_(4011);function B(n,r){1&n&&e._UZ(0,"app-loader",2)}function j(n,r){1&n&&(e.O4$(),e.TgZ(0,"svg",82),e._UZ(1,"path",83),e.qZA())}function H(n,r){if(1&n&&e._UZ(0,"img",84),2&n){const t=e.oxw(2);e.Q6J("src",t.getImage(),e.LSH)}}function $(n,r){1&n&&(e.TgZ(0,"h1",85),e._uU(1,"Resigned"),e.qZA())}function V(n,r){if(1&n&&(e.TgZ(0,"h3",86)(1,"span",87)(2,"mat-icon",9),e._uU(3,"badge"),e.qZA(),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.singleEmployee||null==t.singleEmployee.designation?null:t.singleEmployee.designation.name," ")}}function W(n,r){if(1&n&&(e.TgZ(0,"div",88)(1,"a",89),e.O4$(),e.TgZ(2,"svg",90),e._UZ(3,"path",91)(4,"path",92),e.qZA(),e.kcU(),e.TgZ(5,"span"),e._uU(6,"Message"),e.qZA()(),e.TgZ(7,"a",93),e.O4$(),e.TgZ(8,"svg",90),e._UZ(9,"path",94),e.qZA(),e.kcU(),e.TgZ(10,"span"),e._uU(11,"Call"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("href","mailto:"+(null==t.singleEmployee?null:t.singleEmployee.email),e.LSH),e.xp6(6),e.Q6J("href","tel:"+(null==t.singleEmployee?null:t.singleEmployee.countryCode)+"-"+(null==t.singleEmployee?null:t.singleEmployee.mobile),e.LSH)}}function X(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1,"Full name is invalid "),e.qZA())}function K(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Email is invalid"),e.qZA())}function ee(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Gender is invalid"),e.qZA())}function te(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Address is invalid "),e.qZA())}function ie(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Mobile number is invalid "),e.qZA())}function ne(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Salary is invalid "),e.qZA())}function oe(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Date of joining is invalid "),e.qZA())}function le(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Date of resignation is invalid "),e.qZA())}function re(n,r){if(1&n&&(e.TgZ(0,"option",96),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.Oqu(null==t||null==t.attributes?null:t.attributes.name)}}function ae(n,r){1&n&&(e.TgZ(0,"div",95),e._uU(1," Designation is invalid "),e.qZA())}const se=function(n){return["../../../expense","edit",n]};function de(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",101)(2,"div",102)(3,"div",103)(4,"mat-icon",104),e._uU(5,"call_received"),e.qZA()()(),e.TgZ(6,"div",105)(7,"div",106),e._UZ(8,"span",107),e.TgZ(9,"p",108),e._uU(10),e.qZA(),e.TgZ(11,"p",109),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"mat-icon",110),e._uU(15,"open_in_new"),e.qZA()()()),2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("routerLink",e.VKq(6,se,null==t?null:t.id)),e.xp6(9),e.AsE("",o.currencySymbol,"",null==t?null:t.debit,""),e.xp6(2),e.Oqu(e.lcZ(13,4,null==t?null:t.createdAt))}}function ue(n,r){if(1&n&&(e.TgZ(0,"nav",97)(1,"div",26)(2,"div",98)(3,"h1"),e._uU(4,"Salary"),e.qZA()(),e.TgZ(5,"ul",99),e.YNc(6,de,16,8,"li",100),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.singleEmployee?null:t.singleEmployee.expenses)}}function ge(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",111)(1,"div",112),e.O4$(),e.TgZ(2,"svg",113),e._UZ(3,"path",114),e.qZA(),e.kcU(),e.TgZ(4,"span",115),e._uU(5),e.qZA()(),e.TgZ(6,"div",116)(7,"button",117),e.NdJ("click",function(i){const a=e.CHM(t).$implicit,s=e.oxw(2);return s.remove(a),i.stopPropagation(),s.documentToDelete=a}),e.TgZ(8,"mat-icon",86),e._uU(9,"delete_forever"),e.qZA()(),e.TgZ(10,"button",118),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).openPdfViewer(l)}),e.TgZ(11,"mat-icon",86),e._uU(12,"visibility"),e.qZA()(),e.TgZ(13,"button",119),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).downloadPdf(l)}),e.TgZ(14,"mat-icon",86),e._uU(15,"download"),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(5),e.Oqu(null==t?null:t.name)}}function me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",111)(1,"div",112),e.O4$(),e.TgZ(2,"svg",113),e._UZ(3,"path",114),e.qZA(),e.kcU(),e.TgZ(4,"span",115),e._uU(5),e.qZA()(),e.TgZ(6,"div",116)(7,"button",117),e.NdJ("click",function(i){const a=e.CHM(t).$implicit,s=e.oxw(2);return s.remove(a),i.stopPropagation(),s.documentToDelete=a}),e.TgZ(8,"mat-icon",86),e._uU(9,"delete_forever"),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(5),e.Oqu(null==t?null:t.name)}}const pe=function(n,r){return{"ease-out duration-300 opacity-100":n,"ease-in duration-200 opacity-0":r}},ce=function(n,r){return{"ease-out duration-300 opacity-100 scale-100":n,"ease-in duration-200 opacity-0 scale-95":r}};function fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",120)(1,"div",121),e._UZ(2,"div",122),e.TgZ(3,"div",123)(4,"div",124),e.NdJ("clickOutside",function(){return e.CHM(t),e.oxw(2).showDeleteDocumentDialog=!1}),e.TgZ(5,"div",125)(6,"div",126)(7,"mat-icon",127),e._uU(8," warning "),e.qZA()(),e.TgZ(9,"div",128)(10,"h3",129),e._uU(11,"Are you sure?"),e.qZA(),e.TgZ(12,"div",130)(13,"p",131),e._uU(14," Once deleted you won't be able to retrive the data. "),e.qZA()()()(),e.TgZ(15,"div",132)(16,"button",133),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showDeleteDocumentDialog=!1}),e._uU(17," Cancel "),e.qZA(),e.TgZ(18,"button",134),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.deleteUpload(i.documentToDelete)}),e._uU(19," Ok, Delete "),e.qZA()()()()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.WLB(2,pe,t.showDeleteDocumentDialog,!t.showDeleteDocumentDialog)),e.xp6(1),e.Q6J("ngClass",e.WLB(5,ce,t.showDeleteDocumentDialog,!t.showDeleteDocumentDialog))}}const C=function(n,r){return{" border-2 border-red-500":n,"border-gray-300":r}},_e=function(n,r){return{"text-blue-500":n,"text-yellow-400":r}};function ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().goBackback()}),e.TgZ(4,"mat-icon",7),e._uU(5," arrow_back"),e.qZA(),e._uU(6," Back "),e.qZA(),e.TgZ(7,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateOrSaveEmployee()}),e.TgZ(8,"mat-icon",9),e._uU(9," save"),e.qZA(),e._uU(10," Save "),e.qZA()(),e.TgZ(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeImage()}),e.TgZ(15,"mat-icon",14),e._uU(16,"add_a_photo"),e.qZA()(),e.TgZ(17,"div",15)(18,"span",16),e.YNc(19,j,2,0,"svg",17),e.YNc(20,H,1,1,"img",18),e.qZA()()(),e.TgZ(21,"div"),e.YNc(22,$,2,0,"h1",19),e.TgZ(23,"h1",20),e._uU(24),e.qZA(),e.YNc(25,V,5,1,"h3",21),e.qZA(),e._UZ(26,"div",22),e.qZA(),e.YNc(27,W,12,2,"div",23),e.qZA(),e.TgZ(28,"form",24)(29,"main",25)(30,"div",26)(31,"div",27)(32,"section",28)(33,"div")(34,"div",29)(35,"div",30)(36,"div",31)(37,"label",32),e._uU(38,"Full name"),e.qZA(),e._UZ(39,"input",33),e.YNc(40,X,2,0,"div",34),e.qZA(),e.TgZ(41,"div",31)(42,"label",35),e._uU(43,"Email address"),e.qZA(),e._UZ(44,"input",36),e.YNc(45,K,2,0,"div",34),e.qZA(),e.TgZ(46,"div",31)(47,"label",37),e._uU(48,"Gender"),e.qZA(),e.TgZ(49,"select",38)(50,"option",39),e._uU(51,"Male"),e.qZA(),e.TgZ(52,"option",40),e._uU(53,"Female"),e.qZA(),e.TgZ(54,"option",41),e._uU(55,"Others"),e.qZA()(),e.YNc(56,ee,2,0,"div",34),e.qZA(),e.TgZ(57,"div",42)(58,"label",43),e._uU(59,"Address"),e.qZA(),e._UZ(60,"textarea",44),e.YNc(61,te,2,0,"div",34),e.qZA(),e.TgZ(62,"div",45)(63,"label",46),e._uU(64,"Phone Number"),e.qZA(),e._UZ(65,"input",47),e.YNc(66,ie,2,0,"div",34),e.qZA(),e.TgZ(67,"div",45)(68,"label",48)(69,"span"),e._uU(70,"Salary "),e.TgZ(71,"b",49),e._uU(72,"(INR)"),e.qZA()()(),e._UZ(73,"input",50),e.YNc(74,ne,2,0,"div",34),e.qZA(),e.TgZ(75,"div",45)(76,"label",51),e._uU(77,"Date of Joining"),e.qZA(),e.TgZ(78,"input",52),e.NdJ("click",function(){return e.CHM(t),e.MAs(80).open()}),e.qZA(),e._UZ(79,"mat-datepicker",53,54),e.YNc(81,oe,2,0,"div",34),e.qZA(),e.TgZ(82,"div",45)(83,"label",55)(84,"span"),e._uU(85,"Date of Resignation"),e.qZA()(),e.TgZ(86,"input",56),e.NdJ("click",function(){return e.CHM(t),e.MAs(88).open()}),e.qZA(),e._UZ(87,"mat-datepicker",53,57),e.YNc(89,le,2,0,"div",34),e.qZA(),e.TgZ(90,"div",31)(91,"label",58),e._uU(92,"Designation"),e.qZA(),e.TgZ(93,"select",59),e.YNc(94,re,2,2,"option",60),e.qZA(),e.YNc(95,ae,2,0,"div",34),e.qZA()()()()()()()(),e.TgZ(96,"footer",61)(97,"div",62),e.YNc(98,ue,7,1,"nav",63),e.TgZ(99,"ul",64)(100,"div",65)(101,"h1"),e._uU(102,"Documents "),e.TgZ(103,"span",66),e._uU(104),e.qZA()()(),e.YNc(105,ge,16,1,"li",67),e.YNc(106,me,10,1,"li",67),e.TgZ(107,"div",68)(108,"label",69)(109,"mat-icon",70),e._uU(110," add "),e.qZA(),e._uU(111," Upload Document "),e.qZA(),e.TgZ(112,"input",71),e.NdJ("change",function(i){return e.CHM(t),e.oxw().uploadFile(i)}),e.qZA()()(),e.TgZ(113,"fieldset",72)(114,"legend",73),e._uU(115,"Notifications"),e.qZA(),e.TgZ(116,"div",74)(117,"div",75)(118,"div",76)(119,"label",77),e._uU(120,"Verify Documents"),e.qZA(),e.TgZ(121,"p",78),e._uU(122,"Check this if the documnets uploaded are correct."),e.qZA()(),e.TgZ(123,"div",79),e._UZ(124,"input",80),e.qZA()()()()()()()(),e.YNc(125,fe,20,8,"div",81),e.qZA()}if(2&n){const t=e.MAs(80),o=e.MAs(88),i=e.oxw();let l,a,s,m,d,x,p,v,c,g,f,A,h,E,b,U,Z,q,Q;e.xp6(7),e.Q6J("disabled",i.employeeFormGroup.invalid),e.xp6(12),e.Q6J("ngIf",!i.selectedImage&&!i.imageFromApi),e.xp6(1),e.Q6J("ngIf",i.selectedImage||i.imageFromApi),e.xp6(2),e.Q6J("ngIf",i.checkIfResigned()),e.xp6(2),e.Oqu(null==i.employeeFormGroup.value?null:i.employeeFormGroup.value.fullName),e.xp6(1),e.Q6J("ngIf",null==i.singleEmployee||null==i.singleEmployee.designation?null:i.singleEmployee.designation.name),e.xp6(2),e.Q6J("ngIf",i.singleEmployee),e.xp6(1),e.Q6J("formGroup",i.employeeFormGroup),e.xp6(11),e.Q6J("ngClass",e.WLB(38,C,(null==(l=i.employeeFormGroup.get("fullName"))?null:l.errors)&&((null==(l=i.employeeFormGroup.get("fullName"))?null:l.touched)||(null==(l=i.employeeFormGroup.get("fullName"))?null:l.dirty)),!(null!=(l=i.employeeFormGroup.get("fullName"))&&l.errors&&(null!=(l=i.employeeFormGroup.get("fullName"))&&l.touched||null!=(l=i.employeeFormGroup.get("fullName"))&&l.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(a=i.employeeFormGroup.get("fullName"))?null:a.touched)||(null==(a=i.employeeFormGroup.get("fullName"))?null:a.dirty))&&(null==(a=i.employeeFormGroup.get("fullName"))||null==a.errors?null:a.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(41,C,(null==(s=i.employeeFormGroup.get("email"))?null:s.errors)&&((null==(s=i.employeeFormGroup.get("email"))?null:s.touched)||(null==(s=i.employeeFormGroup.get("email"))?null:s.dirty)),!(null!=(s=i.employeeFormGroup.get("email"))&&s.errors&&(null!=(s=i.employeeFormGroup.get("email"))&&s.touched||null!=(s=i.employeeFormGroup.get("email"))&&s.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(m=i.employeeFormGroup.get("email"))?null:m.touched)||(null==(m=i.employeeFormGroup.get("email"))?null:m.dirty))&&(null==(m=i.employeeFormGroup.get("email"))||null==m.errors?null:m.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(44,C,(null==(d=i.employeeFormGroup.get("gender"))?null:d.errors)&&((null==(d=i.employeeFormGroup.get("gender"))?null:d.touched)||(null==(d=i.employeeFormGroup.get("gender"))?null:d.dirty)),!(null!=(d=i.employeeFormGroup.get("gender"))&&d.errors&&(null!=(d=i.employeeFormGroup.get("gender"))&&d.touched||null!=(d=i.employeeFormGroup.get("gender"))&&d.dirty)))),e.xp6(7),e.Q6J("ngIf",((null==(x=i.employeeFormGroup.get("gender"))?null:x.touched)||(null==(x=i.employeeFormGroup.get("gender"))?null:x.dirty))&&(null==(x=i.employeeFormGroup.get("gender"))||null==x.errors?null:x.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(47,C,(null==(p=i.employeeFormGroup.get("address"))?null:p.errors)&&((null==(p=i.employeeFormGroup.get("address"))?null:p.touched)||(null==(p=i.employeeFormGroup.get("address"))?null:p.dirty)),!(null!=(p=i.employeeFormGroup.get("address"))&&p.errors&&(null!=(p=i.employeeFormGroup.get("address"))&&p.touched||null!=(p=i.employeeFormGroup.get("address"))&&p.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(v=i.employeeFormGroup.get("address"))?null:v.touched)||(null==(v=i.employeeFormGroup.get("address"))?null:v.dirty))&&(null==(v=i.employeeFormGroup.get("address"))||null==v.errors?null:v.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(50,C,(null==(c=i.employeeFormGroup.get("mobile"))?null:c.errors)&&((null==(c=i.employeeFormGroup.get("mobile"))?null:c.touched)||(null==(c=i.employeeFormGroup.get("mobile"))?null:c.dirty)),!(null!=(c=i.employeeFormGroup.get("mobile"))&&c.errors&&(null!=(c=i.employeeFormGroup.get("mobile"))&&c.touched||null!=(c=i.employeeFormGroup.get("mobile"))&&c.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(g=i.employeeFormGroup.get("mobile"))?null:g.touched)||(null==(g=i.employeeFormGroup.get("mobile"))?null:g.dirty))&&(null==(g=i.employeeFormGroup.get("mobile"))||null==g.errors?null:g.errors.required)),e.xp6(7),e.Q6J("ngClass",e.WLB(53,C,(null==(f=i.employeeFormGroup.get("salary"))?null:f.errors)&&((null==(f=i.employeeFormGroup.get("salary"))?null:f.touched)||(null==(f=i.employeeFormGroup.get("salary"))?null:f.dirty)),!(null!=(f=i.employeeFormGroup.get("salary"))&&f.errors&&(null!=(f=i.employeeFormGroup.get("salary"))&&f.touched||null!=(f=i.employeeFormGroup.get("salary"))&&f.dirty)))),e.xp6(1),e.Q6J("ngIf",((null==(A=i.employeeFormGroup.get("salary"))?null:A.touched)||(null==(A=i.employeeFormGroup.get("salary"))?null:A.dirty))&&(null==(A=i.employeeFormGroup.get("salary"))||null==A.errors?null:A.errors.required)),e.xp6(4),e.Q6J("matDatepicker",t)("ngClass",e.WLB(56,C,(null==(h=i.employeeFormGroup.get("dateOfJoining"))?null:h.errors)&&((null==(h=i.employeeFormGroup.get("dateOfJoining"))?null:h.touched)||(null==(h=i.employeeFormGroup.get("dateOfJoining"))?null:h.dirty)),!(null!=(h=i.employeeFormGroup.get("dateOfJoining"))&&h.errors&&(null!=(h=i.employeeFormGroup.get("dateOfJoining"))&&h.touched||null!=(h=i.employeeFormGroup.get("dateOfJoining"))&&h.dirty)))),e.xp6(1),e.Q6J("disabled",!1),e.xp6(2),e.Q6J("ngIf",((null==(E=i.employeeFormGroup.get("dateOfJoining"))?null:E.touched)||(null==(E=i.employeeFormGroup.get("dateOfJoining"))?null:E.dirty))&&(null==(E=i.employeeFormGroup.get("dateOfJoining"))||null==E.errors?null:E.errors.required)),e.xp6(5),e.Q6J("matDatepicker",o)("ngClass",e.WLB(59,C,(null==(b=i.employeeFormGroup.get("dateOfResignation"))?null:b.errors)&&((null==(b=i.employeeFormGroup.get("dateOfResignation"))?null:b.touched)||(null==(b=i.employeeFormGroup.get("dateOfResignation"))?null:b.dirty)),!(null!=(b=i.employeeFormGroup.get("dateOfResignation"))&&b.errors&&(null!=(b=i.employeeFormGroup.get("dateOfResignation"))&&b.touched||null!=(b=i.employeeFormGroup.get("dateOfResignation"))&&b.dirty)))),e.xp6(1),e.Q6J("disabled",!1),e.xp6(2),e.Q6J("ngIf",((null==(U=i.employeeFormGroup.get("dateOfResignation"))?null:U.touched)||(null==(U=i.employeeFormGroup.get("dateOfResignation"))?null:U.dirty))&&(null==(U=i.employeeFormGroup.get("dateOfResignation"))||null==U.errors?null:U.errors.required)),e.xp6(4),e.Q6J("ngClass",e.WLB(62,C,(null==(Z=i.employeeFormGroup.get("designation"))?null:Z.errors)&&((null==(Z=i.employeeFormGroup.get("designation"))?null:Z.touched)||(null==(Z=i.employeeFormGroup.get("designation"))?null:Z.dirty)),!(null!=(Z=i.employeeFormGroup.get("designation"))&&Z.errors&&(null!=(Z=i.employeeFormGroup.get("designation"))&&Z.touched||null!=(Z=i.employeeFormGroup.get("designation"))&&Z.dirty)))),e.xp6(1),e.Q6J("ngForOf",i.designation),e.xp6(1),e.Q6J("ngIf",((null==(q=i.employeeFormGroup.get("designation"))?null:q.touched)||(null==(q=i.employeeFormGroup.get("designation"))?null:q.dirty))&&(null==(q=i.employeeFormGroup.get("designation"))||null==q.errors?null:q.errors.required)),e.xp6(3),e.Q6J("ngIf",null==i.singleEmployee?null:i.singleEmployee.expenses),e.xp6(5),e.Q6J("ngClass",e.WLB(65,_e,null==i.singleEmployee?null:i.singleEmployee.documentVerified,!(null!=i.singleEmployee&&i.singleEmployee.documentVerified))),e.xp6(1),e.hij("(",null!=i.singleEmployee&&i.singleEmployee.documentVerified?"Document verified":"Document not verified",")"),e.xp6(1),e.Q6J("ngForOf",null==i.singleEmployee?null:i.singleEmployee.documents),e.xp6(1),e.Q6J("ngForOf",i.files),e.xp6(18),e.Q6J("checked",null==(Q=i.employeeFormGroup.get("documentVerified"))?null:Q.value),e.xp6(1),e.Q6J("ngIf",i.showDeleteDocumentDialog)}}let D=(()=>{class n{constructor(t,o,i,l,a,s,m,d){this.formBuilder=t,this._location=o,this.adminService=i,this.route=l,this.dialog=a,this.router=s,this.mainService=m,this.cdRef=d,this.loading=!0,this.showChangeImageToggle=!1,this.currencySymbol="",this.formdata=new FormData,this.files=[],this.showDeleteDocumentDialog=!1,this.employeeFormGroup=this.formBuilder.group({fullName:["",[u.kI.required]],address:["",[u.kI.required]],mobile:["",[u.kI.required]],dateOfResignation:[new Date("9999-12-31"),[u.kI.required]],documentVerified:[!1,[u.kI.required]],dateOfJoining:[new Date,[u.kI.required]],salary:["",[u.kI.required]],gender:["",[u.kI.required]],email:["",[u.kI.required,u.kI.email]],currency:["INR",[u.kI.required]],countryCode:["+91",[u.kI.required]],designation:["",[u.kI.required]]}),this.currencySymbol=this.mainService.getToLocalStorage(T.g.LOCAL_USER).currencySymbol||"\u20b9"}ngOnInit(){var t,o,i;null===(i=null===(o=null===(t=this.route)||void 0===t?void 0:t.parent)||void 0===o?void 0:o.parent)||void 0===i||i.params.subscribe(l=>{var a;l&&l.slug&&(this.getAllDesignation(l.slug),null===(a=this.route)||void 0===a||a.params.subscribe(s=>{s.staffId&&this.getEmployee(l.slug,s.staffId)}))}),this.routeQueryParams$=this.route.queryParams.subscribe(l=>{l.showImageDialog&&this.openEditImageModal()})}updateOrSaveEmployee(){var o,i,l,t=this;this.loading=!0,null===(l=null===(i=null===(o=this.route)||void 0===o?void 0:o.parent)||void 0===i?void 0:i.parent)||void 0===l||l.params.subscribe(a=>{var s;a&&a.slug&&(null===(s=this.route)||void 0===s||s.params.subscribe(function(){var m=(0,k.Z)(function*(d){var x,p,v;const c={fullName:t.employeeFormGroup.value.fullName,address:t.employeeFormGroup.value.address,mobile:t.employeeFormGroup.value.mobile,dateOfResignation:F(t.employeeFormGroup.value.dateOfResignation).endOf("day").toISOString(),dateOfJoining:F(t.employeeFormGroup.value.dateOfJoining).startOf("day").toISOString(),salary:t.employeeFormGroup.value.salary,gender:t.employeeFormGroup.value.gender,email:t.employeeFormGroup.value.email,currency:t.employeeFormGroup.value.currency,countryCode:t.employeeFormGroup.value.countryCode,designation:t.employeeFormGroup.value.designation,documentVerified:t.employeeFormGroup.value.documentVerified};t.files.length>0?(t.formdata.delete("files.documents"),t.files.forEach(g=>t.formdata.append("files.documents",g,g.name))):t.formdata.delete("files.documents"),t.formdata.has("files.image")||t.formdata.delete("files.image"),d.staffId?t.formdata.has("files.image")||t.formdata.has("files.documents")?(t.formdata.delete("data"),t.formdata.append("data",JSON.stringify(c)),t.adminService.updateEmployee(t.formdata,a.slug,d.staffId).then(g=>{t.reset(),t.loading=!1,t.mainService.openDialog("Success","Updated Successfully","S",!0)}).catch(g=>{t.loading=!1,console.log("Error",g),t.mainService.openDialog("Error",t.mainService.errorMessage(g),"E")})):t.adminService.updateEmployee(c,a.slug,d.staffId).then(g=>{t.loading=!1,t.reset(),t.mainService.openDialog("Success","Updated Successfully","S",!0)}).catch(g=>{t.loading=!1,console.log("Error",g),t.mainService.openDialog("Error",t.mainService.errorMessage(g),"E")}):null===(v=null===(p=null===(x=t.route)||void 0===x?void 0:x.parent)||void 0===p?void 0:p.parent)||void 0===v||v.params.subscribe(g=>{if(g&&g.slug){if(!t.selectedImage)return t.mainService.openDialog("Error","Please upload image","E"),void(t.loading=!1);t.formdata.delete("data"),t.formdata.append("data",JSON.stringify(c)),t.adminService.addEmployee(t.formdata,g.slug).then(f=>{t.reset(),t.loading=!1,t.mainService.openDialog("Success","Added Successfully with id : "+f.data.id,"S",!0)}).catch(f=>{t.loading=!1,console.log("Error",f),t.mainService.openDialog("Error",t.mainService.errorMessage(f),"E")})}})});return function(d){return m.apply(this,arguments)}}()))})}getAllDesignation(t){this.loading=!0,this.adminService.getDesignation(t).then(o=>{var i;this.designation=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.data,this.loading=!1}).catch(o=>{this.loading=!1,console.log("Error",o),this.mainService.openDialog("Error",this.mainService.errorMessage(o),"E")})}getEmployee(t,o){this.loading=!0,this.adminService.getSingleEmployee(t,o).then(i=>{var l;this.singleEmployee=null==i?void 0:i.data[0],this.employeeFormGroup.patchValue({fullName:this.singleEmployee.fullName,address:this.singleEmployee.address,mobile:this.singleEmployee.mobile,dateOfResignation:F(this.singleEmployee.dateOfResignation).endOf("day").toISOString(),dateOfJoining:F(this.singleEmployee.dateOfJoining).startOf("day").toISOString(),salary:this.singleEmployee.salary,gender:this.singleEmployee.gender,email:this.singleEmployee.email,currency:this.singleEmployee.currency,countryCode:this.singleEmployee.countryCode,designation:null===(l=this.singleEmployee.designation)||void 0===l?void 0:l.id,documentVerified:this.singleEmployee.documentVerified}),this.singleEmployee.image&&(this.imageFromApi=this.mainService.getImageUrl(this.singleEmployee.image?this.singleEmployee.image[0]:"",T.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)),this.loading=!1}).catch(i=>{this.loading=!1,console.log("Error",i),this.mainService.openDialog("Error",this.mainService.errorMessage(i),"E")})}checkIfResigned(){var t;return F(null===(t=this.singleEmployee)||void 0===t?void 0:t.dateOfResignation).isBefore(new Date)}openPdfViewer(t){const o=this.mainService.getImageUrl(t,T.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE);this.dialog.open(M.r,{data:{url:o,height:"100%",width:"100%"}})}downloadPdf(t){const o=this.mainService.getImageUrl(t,T.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE);window.open(o)}openEditImageModal(){var t=this;this.dialog.open(L.D,{data:{image:""},panelClass:"custom-editDishmodalbox"}).afterClosed().subscribe(function(){var i=(0,k.Z)(function*(l){(null==l?void 0:l.image)&&(t.formdata.delete("files.image"),t.selectedImage=null==l?void 0:l.base64,t.formdata.append("files.image",null==l?void 0:l.image,l.name)),t._location.back()});return function(l){return i.apply(this,arguments)}}())}uploadFile(t){var o=this;return(0,k.Z)(function*(){var i,l,a;let s=t.target.files;if(s.length>0){let m=s[0];if(!(o.files.findIndex(d=>d.name==m.name)<0&&(o.singleEmployee&&(null===(i=o.singleEmployee)||void 0===i?void 0:i.documents)?(null===(a=null===(l=o.singleEmployee)||void 0===l?void 0:l.documents)||void 0===a?void 0:a.findIndex(d=>d.name==m.name))<0:-1)))return void o.mainService.openDialog("Error","Document already exists with same name.","E");o.files.push(m)}})()}remove(t){if(null==t?void 0:t.id)this.showDeleteDocumentDialog=!0;else{const o=this.files.map(i=>i.name).indexOf(t.name);o>=0&&this.files.splice(o,1)}}reset(){this.files=[],this.formdata.delete("data"),this.formdata.delete("files.image"),this.formdata.delete("files.documents")}deleteUpload(t){var i,l,a,o=this;this.loading=!0;const s=null==t?void 0:t.id;null===(a=null===(l=null===(i=this.route)||void 0===i?void 0:i.parent)||void 0===l?void 0:l.parent)||void 0===a||a.params.subscribe(m=>{var d;m&&m.slug&&s&&(null===(d=this.route)||void 0===d||d.params.subscribe(function(){var x=(0,k.Z)(function*(p){p.staffId&&o.adminService.deleteEmployeeUpload(s,p.staffId,m.slug).then(v=>{var c,g;o.showDeleteDocumentDialog=!1;const f=null===(c=o.singleEmployee)||void 0===c?void 0:c.documents.map(A=>A.id).indexOf(t.id);f>=0&&(null===(g=o.singleEmployee)||void 0===g||g.documents.splice(f,1)),o.loading=!1,o.mainService.openDialog("Success","Document deleted successfully","S")}).catch(v=>{console.log("Error",v),o.showDeleteDocumentDialog=!1,o.loading=!1,o.mainService.openDialog("Error",o.mainService.errorMessage(v),"E")})});return function(p){return x.apply(this,arguments)}}()))})}changeImage(){this.router.navigate([],{queryParams:{showImageDialog:!0},relativeTo:this.route})}getImage(){return this.selectedImage?this.selectedImage:this.imageFromApi}goBackback(){this._location.back()}ngAfterViewChecked(){this.cdRef.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.qu),e.Y36(y.Ye),e.Y36(I.l),e.Y36(w.gz),e.Y36(Y.uw),e.Y36(w.F0),e.Y36(G.J),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","pt-8 pb-12",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","py-4","items-center"],[1,"text-indigo-500","flex","items-center","text-sm",3,"click"],[1,"mr-2","text-base"],[1,"disabled:bg-indigo-400","flex","items-center","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","py-2","px-4","text-sm","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-offset-gray-50","focus:ring-indigo-500",3,"disabled","click"],[1,"mr-2"],[1,"mt-6","mx-auto","md:flex","md:items-center","space-y-4","md:justify-between","md:space-x-5"],[1,"flex","items-center","space-x-5"],[1,"relative","rounded-full","overflow-hidden","flex-shrink-0"],[1,"transition","duration-150","ease-in-out","hover:opacity-80","opacity-0","bg-gray-300","h-full","absolute","w-full","z-10","text-xs","flex","justify-between","items-center","text-gray-700",3,"click"],[1,"mx-auto"],[1,"relative","shadow"],[1,"h-16","w-16","rounded-full","overflow-hidden"],["class","h-16 w-16 text-gray-300 bg-transparent","fill","currentColor","viewBox","0 0 24 24",4,"ngIf"],["loading","lazy","class","h-16 w-16 sm:h-28 sm:w-28 overflow-hidden rounded-full object-cover",3,"src",4,"ngIf"],["class","text-2xl font-bold text-red-500",4,"ngIf"],[1,"text-2xl","font-bold","text-gray-900"],["class","text-base",4,"ngIf"],[1,"mt-6","flex","flex-col","justify-stretch","space-y-3","sm:flex-row","sm:space-y-0","sm:space-x-4"],["class","mt-6 flex space-y-reverse sm:flex-row-reverse sm:justify-end sm:space-x-reverse sm:space-y-0 space-x-3 md:mt-0 md:flex-row md:space-x-3",4,"ngIf"],[3,"formGroup"],[1,"flex-1"],[1,"relative"],[1,"space-y-6","mt-2","lg:col-span-9"],["aria-labelledby","user-info"],[1,"bg-white"],[1,"mt-6","grid","grid-cols-4","gap-6"],[1,"col-span-4","sm:col-span-2"],["for","full-name",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","fullName","type","text","name","full-name","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-500 text-xs pt-1",4,"ngIf"],["for","email-address",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","email","type","text","name","email-address","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","gender",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","gender","name","gender","autocomplete","none",1,"mt-1","block","w-full","bg-white","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["value","male"],["value","female"],["value","others"],[1,"col-span-4","row-span-2","sm:col-span-2"],["for","address",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","address","name","address","rows","6",1,"shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","block","w-full","sm:text-sm","border","rounded-md",3,"ngClass"],[1,"col-span-4","sm:col-span-1"],["for","mobile",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","mobile","type","tel","name","mobile","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","salary",1,"flex","items-center","text-sm","font-medium","text-gray-700"],[1,"font-medium","text-indigo-400","text-xs"],["formControlName","salary","type","text","name","salary","autocomplete","none",1,"mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","dateOfJoining",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","dateOfJoining","name","dateOfJoining","autocomplete","none","placeholder","",1,"border","mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"matDatepicker","ngClass","click"],[3,"disabled"],["dojpicker",""],["for","security-code",1,"flex","items-center","text-sm","font-medium","text-gray-700"],["formControlName","dateOfResignation","name","dateOfResignation","autocomplete","none","placeholder","",1,"border","mt-1","block","w-full","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"matDatepicker","ngClass","click"],["dorpicker",""],["for","designation",1,"block","text-sm","font-medium","text-gray-700"],["name","designation","autocomplete","none","formControlName","designation",1,"mt-1","block","w-full","bg-white","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-6","sm:mt-12"],[1,"grid","sm:grid-cols-2","grid-cols-1","sm:space-x-4"],["class","flex-1 h-72 overflow-y-scroll rounded-md border","aria-label","Directory",4,"ngIf"],["role","list",1,"mt-6","h-72","sm:mt-0","divide-y","divide-gray-200","rounded-md","border","border-gray-200","overflow-y-scroll"],[1,"z-10","sticky","top-0","border-gray-200","bg-gray-50","px-3","py-1","text-sm","font-medium","text-gray-500"],[1,"ml-2","text-xs","font-normal",3,"ngClass"],["class","flex items-center justify-between py-3 pl-3 pr-4 text-sm",4,"ngFor","ngForOf"],[1,"sticky","bottom-0","cursor-pointer","bg-indigo-50","border-t","w-full","text-sm","leading-8","font-medium","text-gray-700","hover:bg-indigo-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["for","upload-document",1,"flex","items-center","justify-center","w-full","py-2","text-indigo-500"],[1,"mr-2","text-md","text-indigo-500"],["type","file","accept",".pdf","onclick","this.value = null","name","upload-document","id","upload-document",2,"opacity","0","position","absolute","z-index","-1",3,"change"],[1,"border-b","border-gray-200","mt-6"],[1,"sr-only"],[1,"divide-y","divide-gray-200"],[1,"relative","flex","items-start","py-4"],[1,"min-w-0","flex-1","text-sm"],["for","document-verified",1,"font-medium","text-gray-700"],["id","document-verified-description",1,"text-gray-500"],[1,"ml-3","flex","items-center","h-5"],["formControlName","documentVerified","aria-describedby","document-verified","name","document-verified","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded",3,"checked"],["class","fixed h-full inset-0 z-50 overflow-y-auto","role","dialog","aria-modal","true",4,"ngIf"],["fill","currentColor","viewBox","0 0 24 24",1,"h-16","w-16","text-gray-300","bg-transparent"],["d","M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"],["loading","lazy",1,"h-16","w-16","sm:h-28","sm:w-28","overflow-hidden","rounded-full","object-cover",3,"src"],[1,"text-2xl","font-bold","text-red-500"],[1,"text-base"],[1,"flex","items-center","text-indigo-500"],[1,"mt-6","flex","space-y-reverse","sm:flex-row-reverse","sm:justify-end","sm:space-x-reverse","sm:space-y-0","space-x-3","md:mt-0","md:flex-row","md:space-x-3"],["type","button",1,"border","border-gray-300","inline-flex","justify-center","px-4","py-2","shadow-sm","text-sm","font-medium","rounded-md","text-indigo-500","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"-ml-1","mr-2","h-5","w-5","text-indigo-500"],["d","M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"],["d","M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"],[1,"border","border-gray-300","inline-flex","justify-center","px-4","py-2","shadow-sm","text-sm","font-medium","rounded-md","text-indigo-500","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"href"],["d","M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"],[1,"text-red-500","text-xs","pt-1"],[3,"value"],["aria-label","Directory",1,"flex-1","h-72","overflow-y-scroll","rounded-md","border"],[1,"z-10","sticky","top-0","border-gray-200","bg-gray-50","px-6","py-1","text-sm","font-medium","text-gray-500"],["role","list",1,"relative","z-0","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"relative","px-6","py-5","flex","items-center","space-x-3","hover:bg-gray-50","focus-within:ring-2","focus-within:ring-inset","focus-within:ring-indigo-500",3,"routerLink"],[1,"flex-shrink-0"],[1,"bg-green-100","h-10","w-10","flex","justify-center","items-center","rounded-full"],[1,"text-green-700"],[1,"flex-1","min-w-0"],[1,"focus:outline-none"],["aria-hidden","true",1,"absolute","inset-0"],[1,"text-sm","font-medium","text-red-500"],[1,"text-sm","text-gray-500","truncate"],[1,"text-xl","text-indigo-500","hover:text-indigo-600","cursor-pointer","p-2","hover:bg-slate-100"],[1,"flex","items-center","justify-between","py-3","pl-3","pr-4","text-sm"],[1,"flex","w-0","flex-1","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","flex-shrink-0","text-gray-400"],["fill-rule","evenodd","d","M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule","evenodd"],[1,"ml-2","w-0","flex-1","truncate"],[1,"ml-4","space-x-2","flex-shrink-0"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"inline-flex","items-center","border","border-transparent","rounded-full","shadow-sm","text-white","bg-yellow-500","hover:bg-yellow-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["role","dialog","aria-modal","true",1,"fixed","h-full","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-25","transition-opacity",3,"ngClass"],[1,"relative","inline-block","align-middle","m-4","max-w-xl","w-full","sm:m-auto","transform","divide-y","divide-gray-500","divide-opacity-10","overflow-hidden","rounded-xl","bg-white","bg-opacity-80","shadow-2xl","ring-1","ring-black","ring-opacity-5","backdrop-blur","backdrop-filter","transition-all",3,"ngClass"],[3,"clickOutside"],[1,"flex","items-start","px-4","pt-5","p-6"],[1,"flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","sm:mx-0","sm:h-10","sm:w-10"],["aria-hidden","false","aria-label","warning",1,"h-6","w-6","text-yellow-500"],[1,"mt-0","ml-4","text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"mt-2","flex","justify-between","px-4","py-5","sm:gap-4","sm:px-6","border-t"],["type","button",1,"py-2","px-4","border","border-indigo-500","text-sm","font-medium","rounded-md","text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","button",1,"cursor-pointer","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,B,1,0,"app-loader",0),e.YNc(1,ve,126,68,"div",1)),2&t&&(e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},directives:[y.O5,N.R,S.Hw,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,y.mk,u.EJ,u.YN,u.Kr,O.hl,O.Mq,y.sg,w.yS,u.Wl,z._],pipes:[y.uU],styles:[""]}),n})();const ye=function(n,r){return{"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":n,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":r}};function xe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().changePageNumber(i)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("ngClass",e.WLB(2,ye,t===o.page,t!==o.page)),e.xp6(1),e.hij(" ",t," ")}}function he(n,r){1&n&&(e.TgZ(0,"span",18),e._uU(1,"..."),e.qZA())}function be(n,r){if(1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"div"),e.YNc(1,xe,2,5,"button",15),e.YNc(2,he,2,0,"span",16),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf","..."!=t),e.xp6(1),e.Q6J("ngIf","..."==t)}}let Ze=(()=>{class n{constructor(){this.total=0,this.pageCount=0,this.page=0,this.pageSize=0,this.pageChange=new e.vpe,this.pageArray=[]}ngOnInit(){this.generatePages()}generatePages(){if(this.pageCount<=6)for(let t=1;t<=this.pageCount;t++)this.pageArray.push(t);else this.pageArray.push(1),this.page>3&&this.pageArray.push("..."),this.page==this.pageCount&&this.pageArray.push(this.page-2),this.page>2&&this.pageArray.push(this.page-1),1!=this.page&&this.page!=this.pageCount&&this.pageArray.push(this.page),this.page<this.pageCount-1&&this.pageArray.push(this.page+1),1==this.page&&this.pageArray.push(this.page+2),this.page<this.pageCount-2&&this.pageArray.push("..."),this.pageArray.push(this.pageCount)}changePageNumber(t){this.page!=t&&(this.page=t,this.pageArray=[],this.pageChange.emit(t),this.generatePages())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pagination"]],inputs:{total:"total",pageCount:"pageCount",page:"page",pageSize:"pageSize"},outputs:{pageChange:"pageChange"},decls:32,vars:8,consts:[[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"flex-1","flex","justify-between","sm:hidden"],[1,"disabled:shadow-inner","disabled:bg-gray-100","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50",3,"disabled","click"],[1,"disabled:shadow-inner","disabled:bg-gray-100","ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50",3,"disabled","click"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"disabled:shadow-inner","disabled:bg-gray-100","relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],[4,"ngFor","ngForOf"],[1,"disabled:shadow-inner","disabled:bg-gray-100","relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50",3,"disabled","click"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],["aria-current","page","class","relative inline-flex items-center px-4 py-2 border text-sm font-medium",3,"ngClass","click",4,"ngIf"],["class","relative inline-flex items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700",4,"ngIf"],["aria-current","page",1,"relative","inline-flex","items-center","px-4","py-2","border","text-sm","font-medium",3,"ngClass","click"],[1,"relative","inline-flex","items-center","border","border-gray-300","bg-white","px-4","py-2","text-sm","font-medium","text-gray-700"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.changePageNumber(o.page-1)}),e._uU(3," Previous "),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return o.changePageNumber(o.page+1)}),e._uU(5," Next "),e.qZA()(),e.TgZ(6,"div",4)(7,"div")(8,"p",5),e._uU(9," Showing "),e.TgZ(10,"span",6),e._uU(11),e.qZA(),e._uU(12," to "),e.TgZ(13,"span",6),e._uU(14),e.qZA(),e._uU(15," of "),e.TgZ(16,"span",6),e._uU(17),e.qZA(),e._uU(18," results "),e.qZA()(),e.TgZ(19,"div")(20,"nav",7)(21,"button",8),e.NdJ("click",function(){return o.changePageNumber(o.page-1)}),e.TgZ(22,"span",9),e._uU(23,"Previous"),e.qZA(),e.O4$(),e.TgZ(24,"svg",10),e._UZ(25,"path",11),e.qZA()(),e.YNc(26,be,3,2,"div",12),e.kcU(),e.TgZ(27,"button",13),e.NdJ("click",function(){return o.changePageNumber(o.page+1)}),e.TgZ(28,"span",9),e._uU(29,"Next"),e.qZA(),e.O4$(),e.TgZ(30,"svg",10),e._UZ(31,"path",14),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Q6J("disabled",1===o.page),e.xp6(2),e.Q6J("disabled",o.page==o.pageCount),e.xp6(7),e.Oqu(o.page),e.xp6(3),e.Oqu(o.pageSize),e.xp6(3),e.Oqu(o.total),e.xp6(4),e.Q6J("disabled",1===o.page),e.xp6(5),e.Q6J("ngForOf",o.pageArray),e.xp6(1),e.Q6J("disabled",o.page==o.pageCount))},directives:[y.sg,y.O5,y.mk],styles:[""]}),n})();function we(n,r){1&n&&e._UZ(0,"app-loader",2)}function Te(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-pagination",15),e.NdJ("pageChange",function(i){return e.CHM(t),e.oxw(2).onPageChange(i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("total",null==t.apiPagination?null:t.apiPagination.total)("pageCount",null==t.apiPagination?null:t.apiPagination.pageCount)("page",null==t.apiPagination?null:t.apiPagination.page)("pageSize",null==t.apiPagination?null:t.apiPagination.pageSize)}}function Ce(n,r){if(1&n&&(e.TgZ(0,"p",34)(1,"mat-icon",29),e._uU(2,"calendar_month"),e.qZA(),e._uU(3," Joined on "),e.TgZ(4,"time"),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(e.lcZ(6,1,null==t?null:t.dateOfJoining))}}function Ae(n,r){if(1&n&&(e.TgZ(0,"p",35)(1,"mat-icon",29),e._uU(2,"calendar_month"),e.qZA(),e._uU(3," Resigned on "),e.TgZ(4,"time"),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(5),e.Oqu(e.lcZ(6,1,null==t?null:t.dateOfResignation))}}const Ee=function(n){return["edit",n]},P=function(n,r){return{"text-red-500":n,"text-indigo-600":r}};function Ue(n,r){if(1&n&&(e.TgZ(0,"li")(1,"a",16)(2,"div",17)(3,"div",18)(4,"div",19),e._UZ(5,"img",20),e.qZA(),e.TgZ(6,"div",21)(7,"div")(8,"p",22),e._uU(9),e.qZA(),e.TgZ(10,"p",23)(11,"mat-icon",24),e._uU(12,"mail"),e.qZA(),e.TgZ(13,"span",25),e._uU(14),e.qZA()(),e.TgZ(15,"p",26)(16,"mat-icon",24),e._uU(17,"phone"),e.qZA(),e.TgZ(18,"span",25),e._uU(19),e.qZA()()(),e.TgZ(20,"div",27)(21,"div")(22,"p",28)(23,"mat-icon",29),e._uU(24,"badge"),e.qZA(),e._uU(25),e.qZA(),e.YNc(26,Ce,7,3,"p",30),e.YNc(27,Ae,7,3,"p",31),e.TgZ(28,"p",23)(29,"mat-icon",29),e._uU(30,"currency_rupee"),e.qZA(),e._uU(31),e.qZA()()()()(),e.TgZ(32,"div"),e.O4$(),e.TgZ(33,"svg",32),e._UZ(34,"path",33),e.qZA()()()()()),2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(13,Ee,null==t?null:t.id)),e.xp6(4),e.Q6J("src",o.getImageUrl(null!=t&&t.image?null==t?null:t.image[0]:""),e.LSH)("alt",null==t?null:t.fullName),e.xp6(3),e.Q6J("ngClass",e.WLB(15,P,o.checkIfResigned(null==t?null:t.dateOfResignation),!o.checkIfResigned(null==t?null:t.dateOfResignation))),e.xp6(1),e.hij("",null==t?null:t.fullName," "),e.xp6(5),e.Oqu(null==t?null:t.email),e.xp6(5),e.AsE("",null==t?null:t.countryCode,"-",null==t?null:t.mobile,""),e.xp6(3),e.Q6J("ngClass",e.WLB(18,P,o.checkIfResigned(null==t?null:t.dateOfResignation),!o.checkIfResigned(null==t?null:t.dateOfResignation))),e.xp6(3),e.hij(" ",null==t||null==t.designation?null:t.designation.name," "),e.xp6(1),e.Q6J("ngIf",!o.checkIfResigned(null==t?null:t.dateOfResignation)),e.xp6(1),e.Q6J("ngIf",o.checkIfResigned(null==t?null:t.dateOfResignation)),e.xp6(4),e.hij(" ",null==t?null:t.salary," ")}}function qe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-pagination",15),e.NdJ("pageChange",function(i){return e.CHM(t),e.oxw(2).onPageChange(i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("total",null==t.apiPagination?null:t.apiPagination.total)("pageCount",null==t.apiPagination?null:t.apiPagination.pageCount)("page",null==t.apiPagination?null:t.apiPagination.page)("pageSize",null==t.apiPagination?null:t.apiPagination.pageSize)}}const Fe=function(){return["add"]};function ke(n,r){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div")(5,"h2",7),e._uU(6," Staff "),e.qZA(),e.TgZ(7,"span",8),e._uU(8),e.qZA()(),e.TgZ(9,"button",9)(10,"mat-icon",10),e._uU(11," add"),e.qZA(),e._uU(12," Add Staff "),e.qZA()(),e.TgZ(13,"div",11)(14,"ul",12),e.YNc(15,Te,1,4,"app-pagination",13),e.YNc(16,Ue,35,21,"li",14),e.YNc(17,qe,1,4,"app-pagination",13),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(8),e.hij("",(null==t.apiPagination?null:t.apiPagination.total)||0," entries found"),e.xp6(1),e.Q6J("routerLink",e.DdM(5,Fe)),e.xp6(6),e.Q6J("ngIf",t.apiPagination),e.xp6(1),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.apiPagination)}}const Oe=[{path:"",component:(()=>{class n{constructor(t,o,i,l){this.adminService=t,this.mainService=o,this.route=i,this._router=l,this.loading=!0,this.currencySymbol="",this.isLoggedIn=!1,this.isLoggedIn=!!(this.mainService.getToLocalStorage(T.g.LOCAL_USER).jwt&&this.mainService.getToLocalStorage(T.g.LOCAL_USER).jwt.length>0),this.currencySymbol=this.mainService.getToLocalStorage(T.g.LOCAL_USER).currencySymbol||"\u20b9",this.routeQueryParams$=this.route.queryParams.subscribe(a=>{this._router.navigate([],{relativeTo:this.route,queryParams:{page:a.page||1,pageSize:a.pageSize||T.g.PAGE_SIZE},queryParamsHandling:"merge"})})}ngOnInit(){var t,o,i;null===(i=null===(o=null===(t=this.route)||void 0===t?void 0:t.parent)||void 0===o?void 0:o.parent)||void 0===i||i.params.subscribe(l=>{l&&l.slug&&(this.routeQueryParams$=this.route.queryParams.subscribe(a=>{a.page&&a.pageSize&&this.getAllEmployees(l.slug,a.page,a.pageSize)}))})}getAllEmployees(t,o,i){this.loading=!0,this.adminService.getEmployees(t,o,i).then(l=>{var a,s,m;this.employees=null===(a=null==l?void 0:l.data)||void 0===a?void 0:a.data,this.apiPagination=null===(m=null===(s=null==l?void 0:l.data)||void 0===s?void 0:s.meta)||void 0===m?void 0:m.pagination,this.loading=!1}).catch(l=>{this.loading=!1,console.log(l),this.mainService.openDialog("Error",this.mainService.errorMessage(l),"E")})}checkIfResigned(t){return F(t).isBefore(new Date)}onPageChange(t){var o,i,l;null===(l=null===(i=null===(o=this.route)||void 0===o?void 0:o.parent)||void 0===i?void 0:i.parent)||void 0===l||l.params.subscribe(a=>{a&&a.slug&&(this.routeQueryParams$=this.route.queryParams.subscribe(s=>{s.page&&s.pageSize&&this._router.navigate([],{relativeTo:this.route,queryParams:{page:t,pageSize:s.pageSize},queryParamsHandling:"merge"})}))})}getImageUrl(t){return this.mainService.getImageUrl(t,T.g.IMAGE_JSON_STRUCTURE_WITHOUT_ATTRIBUTE)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.l),e.Y36(G.J),e.Y36(w.gz),e.Y36(w.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-overview"]],decls:2,vars:2,consts:[["class","absolute top-0 left-0",4,"ngIf"],["class","bg-gray-100 min-h-screen",4,"ngIf"],[1,"absolute","top-0","left-0"],[1,"bg-gray-100","min-h-screen"],[1,"pt-8","pb-12"],[1,"max-w-6xl","mx-auto","px-4","space-y-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","py-4","items-center"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"text-xs","text-gray-600"],["type","button",1,"disabled:bg-indigo-400","inline-flex","items-center","px-4","py-2","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"routerLink"],[1,"mr-2","text-md"],[1,"bg-white","shadow","overflow-hidden","sm:rounded-md"],["role","list",1,"divide-y","divide-gray-200"],[3,"total","pageCount","page","pageSize","pageChange",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"total","pageCount","page","pageSize","pageChange"],[1,"block","hover:bg-gray-50",3,"routerLink"],[1,"flex","items-center","px-4","py-4","sm:px-6"],[1,"min-w-0","flex-1","flex","items-center"],[1,"flex-shrink-0"],["loading","lazy",1,"h-16","w-16","rounded-full","object-cover",3,"src","alt"],[1,"min-w-0","flex-1","px-4","md:grid","md:grid-cols-2","md:gap-4"],[1,"text-sm","font-medium","truncate","capitalize",3,"ngClass"],[1,"mt-2","flex","items-center","text-sm","text-gray-500"],[1,"text-base","text-gray-400"],[1,"truncate"],[1,"mt-1","flex","items-center","text-sm","text-gray-500"],[1,"hidden","md:block"],[1,"flex","items-center","font-semibold","text-sm",3,"ngClass"],[1,"text-base"],["class","text-sm mt-2 text-gray-500",4,"ngIf"],["class","text-sm mt-2 text-red-500",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"text-sm","mt-2","text-gray-500"],[1,"text-sm","mt-2","text-red-500"]],template:function(t,o){1&t&&(e.YNc(0,we,1,0,"app-loader",0),e.YNc(1,ke,18,6,"div",1)),2&t&&(e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},directives:[y.O5,N.R,w.rH,S.Hw,Ze,y.sg,w.yS,y.mk],pipes:[y.uU],styles:[""]}),n})(),pathMatch:"full"},{path:"edit/:staffId",component:D,pathMatch:"full"},{path:"add",component:D,pathMatch:"full"}];let Se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[w.Bz.forChild(Oe)],w.Bz]}),n})(),Je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[y.ez,u.u5,O.FA,S.Ps,u.UX,R.x,Se]]}),n})()}}]);